\input{preamble}

% OK, start here.
%
\begin{document}

\title{Topology}


\maketitle

\phantomsection
\label{section-phantom}

\tableofcontents

\section{Introduction}
\label{section-introduction}

\noindent
Basic topology will be explained in this document.
A reference is \cite{Engelking}.

\section{Basic notions}
\label{section-topology-basic}

\noindent
The following is a list of basic notions in topology. Some of these notions
are discussed in more detail in the text that follows and some
are defined in the list, but others are considered basic and will not
be defined. If you are not familiar with most of the italicized concepts,
then we suggest looking at an introductory text on topology before
continuing.

\begin{enumerate}
\item
\label{item-space}
$X$ is a {\it topological space},
\item
\label{item-point}
$x\in X$ is a {\it point},
\item
\label{item-locally-closed}
$E \subset X$ is a {\it locally closed} subset,
\item
\label{item-closed-point}
$x\in X$ is a {\it closed point},
\item
\label{item-dense}
$E \subset X$ is a {\it dense} subset,
\item
\label{item-continuous}
$f : X_1 \to X_2$ is {\it continuous},
\item
\label{item-upper-semi-continuous}
an extended real function $f : X \to \mathbf{R} \cup \{\infty, -\infty\}$
is {\it upper semi-continuous} if $\{x \in X \mid f(x) < a\}$ is open for
all $a \in \mathbf{R}$,
\item
\label{item-lower-semi-continuous}
an extended real function $f : X \to \mathbf{R} \cup \{\infty, -\infty\}$
is {\it lower semi-continuous} if $\{x \in X \mid f(x) > a\}$ is open for
all $a \in \mathbf{R}$,
\item a continuous map of spaces $f : X \to Y$ is
{\it open} if $f(U)$ is open in $Y$ for $U \subset X$ open,
\item a continuous map of spaces $f : X \to Y$ is
{\it closed} if $f(Z)$ is closed in $Y$ for $Z \subset X$ closed,
\item
\label{item-neighbourhood}
a {\it neighbourhood of $x \in X$} is any subset
$E \subset X$ which contains an open subset that
contains $x$,
\item
\label{item-induced-topology}
the {\it induced topology} on a subset $E \subset X$,
\item
\label{item-covering}
$\mathcal{U} : U = \bigcup_{i \in I} U_i$ is an
{\it open covering of} $U$ (note: we allow any $U_i$ to be empty
and we even allow, in case $U$ is empty, the empty set for $I$),
\item
\label{item-refinement}
the open covering $\mathcal{V}$ is a {\it refinement}
of the open covering $\mathcal{U}$ (if
$\mathcal{V} : U = \bigcup_{j \in J} V_j$ and
$\mathcal{U} : U = \bigcup_{i \in I} U_i$
this means each $V_j$ is completely contained in one of the $U_i$),
\item
\label{item-fundamental-system}
{\it $\{ E_i \}_{i \in I}$ is a fundamental system of neighbourhoods
of $x$ in $X$},
\item
\label{item-Hausdorff}
a topological space $X$ is called {\it Hausdorff} or {\it separated}
if and only if for every distinct pair of points $x, y \in X$ there exist
disjoint opens $U, V \subset X$ such that $x \in U$, $y \in V$,
\item the {\it product} of two topological spaces,
\label{item-product}
\item
\label{item-fibre-product}
the {\it fibre product $X \times_Y Z$} of a pair of continuous maps
$f : X \to Y$ and $g : Z \to Y$,
\item
\label{item-discrete-indiscrete}
the {\it discrete topology} and the {\it indiscrete topology} on a set,
\item etc.
\end{enumerate}



\section{Hausdorff spaces}
\label{section-Hausdorff}

\noindent
The category of topological spaces has finite products.

\begin{lemma}
\label{lemma-Hausdorff}
Let $X$ be a topological space. The following are equivalent:
\begin{enumerate}
\item $X$ is Hausdorff,
\item the diagonal $\Delta(X) \subset X \times X$ is closed.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-graph-closed}
\begin{slogan}
Graphs of maps to Hausdorff spaces are closed.
\end{slogan}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $Y$ is Hausdorff, then the graph of $f$ is closed in $X \times Y$.
\end{lemma}

\begin{proof}
The graph is the inverse image of the diagonal under the map
$X \times Y \to Y \times Y$. Thus the lemma follows from
Lemma \ref{lemma-Hausdorff}.
\end{proof}

\begin{lemma}
\label{lemma-section-closed}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $s : Y \to X$ be a continuous map such that $f \circ s = \text{id}_Y$.
If $X$ is Hausdorff, then $s(Y)$ is closed.
\end{lemma}

\begin{proof}
This follows from Lemma \ref{lemma-Hausdorff} as
$s(Y) = \{x \in X \mid x = s(f(x))\}$.
\end{proof}

\begin{lemma}
\label{lemma-fibre-product-closed}
Let $X \to Z$ and $Y \to Z$ be continuous maps of topological spaces.
If $Z$ is Hausdorff, then  $X \times_Z Y$ is closed in $X \times Y$.
\end{lemma}

\begin{proof}
This follows from Lemma \ref{lemma-Hausdorff} as
$X \times_Z Y$ is the inverse image of $\Delta(Z)$
under $X \times Y \to Z \times Z$.
\end{proof}




\section{Separated maps}
\label{section-separated}

\noindent
Just the definition and some simple lemmas.

\begin{definition}
\label{definition-separated}
A continuous map $f : X \to Y$ of topological spaces is called
{\it separated} if and only if the diagonal $\Delta : X \to X \times_Y X$
is a closed map.
\end{definition}

\begin{lemma}
\label{lemma-separated}
Let $f : X \to Y$ be continuous map of topological spaces.
The following are equivalent:
\begin{enumerate}
\item $f$ is separated,
\item $\Delta(X) \subset X \times_Y X$ is a closed subset,
\item given distinct points $x, x' \in X$ mapping to the same point of
$Y$, there exist disjoint open neighbourhoods of $x$ and $x'$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-from-hausdorff}
Let $f : X \to Y$ be continuous map of topological spaces.
If $X$ is Hausdorff, then $f$ is separated.
\end{lemma}

\begin{proof}
Clear from Lemma \ref{lemma-separated}.
\end{proof}

\begin{lemma}
\label{lemma-base-change-separated}
Let $f : X \to Y$ and $Z \to Y$ be continuous maps of topological spaces.
If $f$ is separated, then $f' : Z \times_Y X \to Z$ is separated.
\end{lemma}

\begin{proof}
Follows from characterization (3) of Lemma \ref{lemma-separated}.
\end{proof}




\section{Bases}
\label{section-bases}

\noindent
Basic material on bases for topological spaces.

\begin{definition}
\label{definition-base}
Let $X$ be a topological space. A collection of subsets $\mathcal{B}$ of $X$
is called a {\it base for the topology on $X$} or a {\it basis for the
topology on $X$} if the following conditions hold:
\begin{enumerate}
\item Every element $B \in \mathcal{B}$ is open in $X$.
\item For every open $U \subset X$ and every $x \in U$,
there exists an element $B \in \mathcal{B}$ such that
$x \in B \subset U$.
\end{enumerate}
\end{definition}

\noindent
The following lemma is sometimes used to define a topology.

\begin{lemma}
\label{lemma-make-base}
Let $X$ be a set and let $\mathcal{B}$ be a collection of subsets.
Assume that $X = \bigcup_{B \in \mathcal{B}} B$ and that given
$x \in B_1 \cap B_2$ with $B_1, B_2 \in \mathcal{B}$ there is a
$B_3 \in \mathcal{B}$ with $x \in B_3 \subset B_1 \cap B_2$.
Then there is a unique topology on $X$ such that $\mathcal{B}$
is a basis for this topology.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-refine-covering-basis}
Let $X$ be a topological space.
Let $\mathcal{B}$ be a basis for the topology on $X$.
Let $\mathcal{U} : U = \bigcup_i U_i$ be an open covering of
$U \subset X$. There exists an open covering $U = \bigcup V_j$
which is a refinement of $\mathcal{U}$ such that each
$V_j$ is an element of the basis $\mathcal{B}$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-subbase}
Let $X$ be a topological space. A collection of subsets $\mathcal{B}$ of $X$
is called a {\it subbase for the topology on $X$} or a {\it subbasis for the
topology on $X$} if the finite intersections of
elements of $\mathcal{B}$ form a basis for the topology on $X$.
\end{definition}

\noindent
In particular every element of $\mathcal{B}$ is open.

\begin{lemma}
\label{lemma-subbase}
Let $X$ be a set. Given any collection $\mathcal{B}$ of subsets of $X$
there is a unique topology on $X$ such that $\mathcal{B}$ is a subbase
for this topology.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-create-map-from-subcollection}
Let $X$ be a topological space. Let $\mathcal{B}$ be a collection
of opens of $X$. Assume $X = \bigcup_{U \in \mathcal{B}} U$ and
for $U, V \in \mathcal{B}$ we have
$U \cap V = \bigcup_{W \in \mathcal{B}, W \subset U \cap V} W$.
Then there is a continuous map $f : X \to Y$ of topological spaces
such that
\begin{enumerate}
\item for $U \in \mathcal{B}$ the image $f(U)$ is open,
\item for $U \in \mathcal{B}$ we have $f^{-1}(f(U)) = U$, and
\item the opens $f(U)$, $U \in \mathcal{B}$
form a basis for the topology on $Y$.
\end{enumerate}
\end{lemma}

\begin{proof}
Define an equivalence relation $\sim$ on points of $X$
by the rule
$$
x \sim y \Leftrightarrow
(\forall U \in \mathcal{B} : x \in U \Leftrightarrow y \in U)
$$
Let $Y$ be the set of equivalence classes and $f : X \to Y$
the natural map. Part (2) holds by construction.
The assumptions on $\mathcal{B}$ exactly
mirror the assumptions in Lemma \ref{lemma-make-base}
on the set of subsets $f(U)$, $U \in \mathcal{B}$.
Hence there is a unique topology on $Y$ such that (3) holds.
Then (1) is clear as well.
\end{proof}






\section{Submersive maps}
\label{section-submersive}

\noindent
If $X$ is a topological space and $E \subset X$ is a subset, then
we usually endow $E$ with the {\it induced topology}.

\begin{lemma}
\label{lemma-induced}
Let $X$ be a topological space. Let $Y$ be a set and let
$f : Y \to X$ be an injective map of sets. The induced
topology on $Y$ is the topology characterized by
each of the following statements:
\begin{enumerate}
\item it is the weakest topology on $Y$ such that $f$ is continuous,
\item the open subsets of $Y$ are $f^{-1}(U)$ for $U \subset X$ open,
\item the closed subsets of $Y$ are the sets $f^{-1}(Z)$ for $Z \subset X$
closed.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
Dually, if $X$ is a topological space and $X \to Y$ is a surjection of
sets, then $Y$ can be endowed with the {\it quotient topology}.

\begin{lemma}
\label{lemma-quotient}
Let $X$ be a topological space. Let $Y$ be a set and let $f : X \to Y$
be a surjective map of sets. The quotient topology on $Y$ is the
topology characterized by each of the following statements:
\begin{enumerate}
\item it is the strongest topology on $Y$ such that $f$ is continuous,
\item a subset $V$ of $Y$ is open if and only if $f^{-1}(V)$ is open,
\item a subset $Z$ of $Y$ is closed if and only if $f^{-1}(Z)$ is closed.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\noindent
Let $f : X \to Y$ be a continuous map of topological spaces.
In this case we obtain a factorization $X \to f(X) \to Y$
of maps of sets. We can endow $f(X)$ with the
quotient topology coming from the surjection $X \to f(X)$
or with the induced topology coming from the injection $f(X) \to Y$.
The map
$$
(f(X), \text{quotient topology})
\longrightarrow
(f(X), \text{induced topology})
$$
is continuous.

\begin{definition}
\label{definition-submersive}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item We say $f$ is a {\it strict map of topological spaces}
if the induced topology and the quotient topology on $f(X)$ agree
(see discussion above).
\item We say $f$ is {\it submersive}\footnote{This is very different from
the notion of a submersion between differential manifolds! It is probably
a good idea to use ``strict and surjective'' in stead of ``submersive''.}
if $f$ is surjective and strict.
\end{enumerate}
\end{definition}

\noindent
Thus a continuous map $f : X \to Y$ is submersive if $f$
is a surjection and for any $T \subset Y$ we have
$T$ is open or closed if and only if $f^{-1}(T)$ is so.
In other words, $Y$ has the
quotient topology relative to the surjection $X \to Y$.

\begin{lemma}
\label{lemma-open-morphism-quotient-topology}
Let $f : X \to Y$ be surjective, open, continuous map of topological spaces.
Let $T \subset Y$ be a subset. Then
\begin{enumerate}
\item $f^{-1}(\overline{T}) = \overline{f^{-1}(T)}$,
\item $T \subset Y$ is closed if and only if $f^{-1}(T)$ is closed,
\item $T \subset Y$ is open if and only if $f^{-1}(T)$ is open, and
\item $T \subset Y$ is locally closed if and only if $f^{-1}(T)$
is locally closed.
\end{enumerate}
In particular we see that $f$ is submersive.
\end{lemma}

\begin{proof}
It is clear that $\overline{f^{-1}(T)} \subset f^{-1}(\overline{T})$.
If $x \in X$, and $x \not \in \overline{f^{-1}(T)}$, then there
exists an open neighbourhood $x \in U \subset X$ with
$U \cap f^{-1}(T) = \emptyset$. Since $f$ is open we see that
$f(U)$ is an open neighbourhood of $f(x)$ not meeting $T$.
Hence $x \not \in f^{-1}(\overline{T})$. This proves (1).
Part (2) is an easy consequence of (1).
Part (3) is obvious from the fact that $f$ is open and surjective.
For (4), if $f^{-1}(T)$ is locally closed, then
$f^{-1}(T) \subset \overline{f^{-1}(T)} = f^{-1}(\overline{T})$
is open, and hence by (3) applied to the map
$f^{-1}(\overline{T}) \to \overline{T}$ we see that
$T$ is open in $\overline{T}$, i.e., $T$ is locally closed.
\end{proof}

\begin{lemma}
\label{lemma-closed-morphism-quotient-topology}
Let $f : X \to Y$ be surjective, closed, continuous map of topological spaces.
Let $T \subset Y$ be a subset. Then
\begin{enumerate}
\item $\overline{T} = f(\overline{f^{-1}(T)})$,
\item $T \subset Y$ is closed if and only if $f^{-1}(T)$ is closed,
\item $T \subset Y$ is open if and only if $f^{-1}(T)$ is open, and
\item $T \subset Y$ is locally closed if and only if
$f^{-1}(T)$ is locally closed.
\end{enumerate}
In particular we see that $f$ is submersive.
\end{lemma}

\begin{proof}
It is clear that $\overline{f^{-1}(T)} \subset f^{-1}(\overline{T})$.
Then $T \subset f(\overline{f^{-1}(T)}) \subset \overline{T}$
is a closed subset, hence we get (1). Part (2) is obvious from
the fact that $f$ is closed and surjective.
Part (3) follows from (2) applied to the complement of $T$.
For (4), if $f^{-1}(T)$ is locally closed, then
$f^{-1}(T) \subset \overline{f^{-1}(T)}$ is open.
Since the map $\overline{f^{-1}(T)} \to \overline{T}$ is surjective
by (1) we can apply part (3) to the map $\overline{f^{-1}(T)} \to \overline{T}$
induced by $f$ to conclude that $T$ is open in
$\overline{T}$, i.e., $T$ is locally closed.
\end{proof}










\section{Connected components}
\label{section-connected-components}

\begin{definition}
\label{definition-connected-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it connected} if $X$ is not empty and whenever
$X = T_1 \amalg T_2$ with $T_i \subset X$ open and closed, then either
$T_1 = \emptyset$ or $T_2 = \emptyset$.
\item We say $T \subset X$ is a {\it connected component} of $X$ if
$T$ is a maximal connected subset of $X$.
\end{enumerate}
\end{definition}

\noindent
The empty space is not connected.

\begin{lemma}
\label{lemma-image-connected-space}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $E \subset X$ is a connected subset, then $f(E) \subset Y$
is connected as well.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-connected-components}
Let $X$ be a topological space.
\begin{enumerate}
\item If $T \subset X$ is connected, then so is its closure.
\item Any connected component of $X$ is closed (but not necessarily open).
\item Every connected subset of $X$ is contained in a unique connected
component of $X$.
\item Every point of $X$ is contained in a unique connected component, in other
words, $X$ is the union of its connected components.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the connected subset $T$.
Suppose $\overline{T} = T_1 \amalg T_2$ with $T_i \subset \overline{T}$
open and closed. Then $T = (T\cap T_1) \amalg (T \cap T_2)$. Hence
$T$ equals one of the two, say $T = T_1 \cap T$. Thus clearly
$\overline{T} \subset T_1$ as desired.

\medskip\noindent
Pick a point $x\in X$. Consider the set $A$ of connected subsets
$x \in T_\alpha \subset X$. Note that $A$ is nonempty since
$\{x\} \in A$. There is a partial ordering on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T$ is
connected. Namely, suppose that $T =  T_1 \amalg T_2$ is a disjoint
union of two open and closed subsets of $T$.
For each $\alpha \in A'$ we have either $T_\alpha \subset T_1$
or $T_\alpha \subset T_2$, by connectedness of $T_\alpha$.
Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset T_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset T_2$ for all $\alpha \in A'$. Hence $T = T_2$.

\medskip\noindent
To get an example where connected components are not open, just take
an infinite product $\prod_{n \in \mathbf{N}} \{0, 1\}$
with the product topology. Its connected components are singletons,
which are not open.
\end{proof}

\begin{remark}
\label{remark-quasi-components}
\begin{reference}
\cite[Example 6.1.24]{Engelking}
\end{reference}
Let $X$ be a topological space and $x \in X$. Let $Z \subset X$ be the
connected component of $X$ passing through $x$. Consider the intersection
$E$ of all open and closed subsets of $X$ containing $x$. It is clear that
$Z \subset E$. In general $Z \not = E$. For example, let
$X = \{x, y, z_1, z_2, \ldots\}$ with the topology with the following
basis of opens, $\{z_n\}$, $\{x, z_n, z_{n + 1}, \ldots\}$, and
$\{y, z_n, z_{n + 1}, \ldots\}$ for all $n$. Then $Z = \{x\}$ and
$E = \{x, y\}$. We omit the details.
\end{remark}

\begin{lemma}
\label{lemma-connected-fibres-quotient-topology-connected-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
\begin{enumerate}
\item all fibres of $f$ are connected, and
\item a set $T \subset Y$ is closed if and only if $f^{-1}(T)$ is closed.
\end{enumerate}
Then $f$ induces a bijection between the sets of connected
components of $X$ and $Y$.
\end{lemma}

\begin{proof}
Let $T \subset Y$ be a connected component.
Note that $T$ is closed, see Lemma \ref{lemma-connected-components}.
The lemma follows if we show that $f^{-1}(T)$ is connected
because any connected subset of $X$ maps into a connected component
of $Y$ by Lemma \ref{lemma-image-connected-space}.
Suppose that $f^{-1}(T) = Z_1 \amalg Z_2$
with $Z_1$, $Z_2$ closed. For any $t \in T$ we see that
$f^{-1}(\{t\}) = Z_1 \cap f^{-1}(\{t\}) \amalg Z_2 \cap f^{-1}(\{t\})$.
By (1) we see $f^{-1}(\{t\})$ is connected we conclude that
either $f^{-1}(\{t\}) \subset Z_1$ or $f^{-1}(\{t\}) \subset Z_2$.
In other words $T = T_1 \amalg T_2$ with $f^{-1}(T_i) = Z_i$.
By (2) we conclude that $T_i$ is closed in $Y$.
Hence either $T_1 = \emptyset$ or $T_2 = \emptyset$ as desired.
\end{proof}

\begin{lemma}
\label{lemma-connected-fibres-connected-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
(a) $f$ is open,
(b) all fibres of $f$ are connected.
Then $f$ induces a bijection between the sets of connected
components of $X$ and $Y$.
\end{lemma}

\begin{proof}
This is a special case of
Lemma \ref{lemma-connected-fibres-quotient-topology-connected-components}.
\end{proof}

\begin{lemma}
\label{lemma-finite-fibre-connected-components}
Let $f : X \to Y$ be a continuous map of nonempty topological spaces. Assume
that
(a) $Y$ is connected,
(b) $f$ is open and closed, and
(c) there is a point $y\in Y$ such that the fiber $f^{-1}(y)$ is a finite set.
Then $X$ has at most $|f^{-1}(y)|$ connected components. Hence any connected 
component $T$ of $X$ is open and closed, and $f(T)$ is a nonempty open and 
closed subset of $Y$, which is therefore equal to $Y$.
\end{lemma}

\begin{proof}
If the topological space $X$ has at least $N$ connected components for some
$N \in \mathbf{N}$, we find by induction a decomposition
$X = X_1 \amalg \ldots \amalg X_N$ of $X$ as a disjoint union of $N$ nonempty
open and closed subsets $X_1, \ldots , X_N$ of $X$. As $f$ is open and closed,
each $f(X_i)$ is a nonempty open and closed subset of $Y$ and is hence equal to
$Y$. In particular the intersection $X_i \cap f^{-1}(y)$ is nonempty for each
$1 \leq i \leq N$. Hence $f^{-1}(y)$ has at least $N$ elements.
\end{proof}

\begin{definition}
\label{definition-totally-disconnected}
A topological space is {\it totally disconnected} if the connected components
are all singletons.
\end{definition}

\noindent
A discrete space is totally disconnected.
A totally disconnected space need not be discrete, for example
$\mathbf{Q} \subset \mathbf{R}$ is totally disconnected but not discrete.

\begin{lemma}
\label{lemma-space-connected-components}
Let $X$ be a topological space. Let $\pi_0(X)$ be the set of connected
components of $X$. Let $X \to \pi_0(X)$ be the map which sends
$x \in X$ to the connected component of $X$ passing through $x$.
Endow $\pi_0(X)$ with the quotient topology. Then $\pi_0(X)$ is a
totally disconnected space and any continuous map $X \to Y$
from $X$ to a totally disconnected space $Y$ factors through $\pi_0(X)$.
\end{lemma}

\begin{proof}
By Lemma
\ref{lemma-connected-fibres-quotient-topology-connected-components}
the connected components of $\pi_0(X)$ are the singletons.
We omit the proof of the second statement.
\end{proof}

\begin{definition}
\label{definition-locally-connected}
A topological space $X$ is called {\it locally connected} if
every point $x \in X$ has a fundamental system of connected neighbourhoods.
\end{definition}

\begin{lemma}
\label{lemma-locally-connected}
Let $X$ be a topological space. If $X$ is locally connected, then
\begin{enumerate}
\item any open subset of $X$ is locally connected, and
\item the connected components of $X$ are open.
\end{enumerate}
So also the connected components of open subsets of $X$ are open.
In particular, every point has a fundamental system of open connected
neighbourhoods.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}




\section{Irreducible components}
\label{section-irreducible-components}

\begin{definition}
\label{definition-irreducible-components}
Let $X$ be a topological space.
\begin{enumerate}
\item We say $X$ is {\it irreducible}, if $X$ is not empty, and whenever
$X = Z_1 \cup Z_2$ with $Z_i$ closed, we have $X = Z_1$ or $X = Z_2$.
\item We say $Z \subset X$ is an {\it irreducible component} of $X$
if $Z$ is a maximal irreducible subset of $X$.
\end{enumerate}
\end{definition}

\noindent
An irreducible space is obviously connected.

\begin{lemma}
\label{lemma-image-irreducible-space}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $E \subset X$ is an irreducible subset, then $f(E) \subset Y$
is irreducible as well.
\end{lemma}

\begin{proof}
Clearly we may assume $E = X$ (i.e., $X$ irreducible)
and $f(E) = Y$ (i.e., $f$ surjective). First, $Y \not = \emptyset$
since $X \not = \emptyset$. Next, assume $Y = Y_1 \cup Y_2$ with
$Y_1$, $Y_2$ closed. Then $X = X_1 \cup X_2$ with $X_i = f^{-1}(Y_i)$
closed in $X$. By assumption on $X$, we must have
$X = X_1$ or $X = X_2$, hence $Y = Y_1$ or $Y = Y_2$
since $f$ is surjective.
\end{proof}

\begin{lemma}
\label{lemma-irreducible}
Let $X$ be a topological space.
\begin{enumerate}
\item If $T \subset X$ is irreducible so is its closure in $X$.
\item Any irreducible component of $X$ is closed.
\item Any irreducible subset of $X$ is contained in an
irreducible component of $X$.
\item Every point of $X$ is contained in some irreducible component
of $X$, in other words, $X$ is the union of its irreducible components.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $\overline{T}$ be the closure of the irreducible subset $T$.
If $\overline{T} = Z_1 \cup Z_2$ with $Z_i \subset \overline{T}$
closed, then $T = (T\cap Z_1) \cup (T \cap Z_2)$ and hence
$T$ equals one of the two, say $T = Z_1 \cap T$. Thus clearly
$\overline{T} \subset Z_1$. This proves (1). Part (2) follows
immediately from (1) and the definition of irreducible components.

\medskip\noindent
Let $T \subset X$ be irreducible. Consider the set $A$ of irreducible subsets
$T \subset T_\alpha \subset X$. Note that $A$ is nonempty since
$T \in A$. There is a partial ordering on $A$ coming from
inclusion: $\alpha \leq \alpha' \Leftrightarrow T_\alpha \subset T_{\alpha'}$.
Choose a maximal totally ordered subset $A' \subset A$, and let
$T' = \bigcup_{\alpha \in A'} T_\alpha$. We claim that $T'$ is
irreducible. Namely, suppose that $T' =  Z_1 \cup Z_2$ is a union
of two closed subsets of $T'$. For each $\alpha \in A'$ we have
either $T_\alpha \subset Z_1$ or $T_\alpha \subset Z_2$, by irreducibility
of $T_\alpha$. Suppose that for some $\alpha_0 \in A'$ we have
$T_{\alpha_0} \not\subset Z_1$ (say, if not we're done anyway).
Then, since $A'$ is totally ordered we see immediately that
$T_\alpha \subset Z_2$ for all $\alpha \in A'$. Hence $T' = Z_2$.
This proves (3). Part (4) is an immediate consequence of (3)
as a singleton space is irreducible.
\end{proof}

\noindent
A singleton is irreducible. Thus if $x \in X$ is a point
then the closure $\overline{\{x\}}$ is an irreducible closed
subset of $X$.

\begin{definition}
\label{definition-generic-point}
Let $X$ be a topological space.
\begin{enumerate}
\item Let $Z \subset X$ be an irreducible closed subset.
A {\it generic point} of $Z$ is a point $\xi \in Z$ such
that $Z = \overline{\{\xi\}}$.
\item The space $X$ is called {\it Kolmogorov}, if for every $x, x' \in X$,
$x \not = x'$ there exists a closed subset of $X$ which contains
exactly one of the two points.
\item The space $X$ is called {\it quasi-sober} if every
irreducible closed subset has a generic point.
\item The space $X$ is called {\it sober} if every
irreducible closed subset has a unique generic point.
\end{enumerate}
\end{definition}

\noindent
A topological space $X$ is Kolmogorov, quasi-sober, resp.\ sober if and
only if the map $x\mapsto\overline{\{x\}}$ from $X$ to the set of
irreducible closed subsets of $X$ is injective, surjective, resp.\ bijective.
Hence we see that a topological space is sober if and only if it is
quasi-sober and Kolmogorov.

\begin{lemma}
\label{lemma-sober-subspace}
Let $X$ be a topological space and let $Y\subset X$.
\begin{enumerate}
\item If $X$ is Kolmogorov then so is $Y$.
\item Suppose $Y$ is locally closed in $X$. If $X$ is quasi-sober then
so is $Y$.
\item Suppose $Y$ is locally closed in $X$. If $X$ is sober then so is $Y$.
\end{enumerate}
\end{lemma}

\begin{proof}
Proof of (1). Suppose $X$ is Kolmogorov. Let $x,y\in Y$ with $x\neq y$. Then
$\overline{\overline{\{x\}}\cap Y}=\overline{\{x\}}\neq\overline{\{y\}}=
\overline{\overline{\{y\}}\cap Y}$. Hence
$\overline{\{x\}}\cap Y\neq\overline{\{y\}}\cap Y$. This shows that $Y$ is
Kolmogorov.

\medskip\noindent
Proof of (2). Suppose $X$ is quasi-sober. It suffices to consider the
cases $Y$ is closed and $Y$ is open. First, suppose $Y$ is closed. Let
$Z$ be an irreducible closed subset of $Y$. Then $Z$ is an irreducible closed
subset of $X$. Hence there exists $x \in Z$ with $\overline{\{x\}} = Z$. It
follows $\overline{\{x\}} \cap Y = Z$. This shows $Y$ is quasi-sober. Second,
suppose $Y$ is open. Let $Z$ be an irreducible closed subset of $Y$. Then
$\overline{Z}$ is an irreducible closed subset of $X$. Hence there
exists $x \in \overline{Z}$ with $\overline{\{x\}}=\overline{Z}$. If
$x\notin Y$ we get the contradiction
$Z=Z\cap Y\subset\overline{Z}\cap Y=\overline{\{x\}}\cap Y=\emptyset$.
Therefore $x\in Y$. It follows $Z=\overline{Z}\cap Y=\overline{\{x\}}\cap Y$.
This shows $Y$ is quasi-sober.

\medskip\noindent
Proof of (3). Immediately from (1) and (2).
\end{proof}

\begin{lemma}
\label{lemma-sober-local}
Let $X$ be a topological space and let $(X_i)_{i\in I}$ be a covering of $X$.
\begin{enumerate}
\item Suppose $X_i$ is locally closed in $X$ for every $i\in I$. Then, $X$ is
Kolmogorov if and only if $X_i$ is Kolmogorov for every $i\in I$.
\item Suppose $X_i$ is open in $X$ for every $i\in I$. Then, $X$ is
quasi-sober if and only if $X_i$ is quasi-sober for every $i\in I$.
\item Suppose $X_i$ is open in $X$ for every $i\in I$. Then, $X$ is sober if
and  only if $X_i$ is sober for every $i\in I$.
\end{enumerate}
\end{lemma}

\begin{proof}
Proof of (1). If $X$ is Kolmogorov then so is $X_i$ for every $i\in I$ by
Lemma \ref{lemma-sober-subspace}. Suppose $X_i$ is Kolmogorov for every
$i\in I$. Let $x,y\in X$ with $\overline{\{x\}}=\overline{\{y\}}$. There exists
$i\in I$ with $x\in X_i$. There exists an open subset $U\subset X$ such that
$X_i$ is a closed subset of $U$. If $y\notin U$ we get the contradiction
$x\in\overline{\{x\}}\cap U=\overline{\{y\}}\cap U=\emptyset$. Hence $y\in U$.
It follows $y\in\overline{\{y\}}\cap U=\overline{\{x\}}\cap U\subset X_i$.
This shows $y\in X_i$. It follows
$\overline{\{x\}}\cap X_i=\overline{\{y\}}\cap X_i$. Since $X_i$ is
Kolmogorov we get $x=y$. This shows $X$ is Kolmogorov.

\medskip\noindent
Proof of (2). If $X$ is quasi-sober then so is $X_i$ for every $i\in I$ by
Lemma \ref{lemma-sober-subspace}. Suppose $X_i$ is quasi-sober for every
$i\in I$. Let $Y$ be an irreducible closed subset of $X$. As $Y\neq\emptyset$
there exists $i\in I$ with $X_i\cap Y\neq\emptyset$. As $X_i$ is open in $X$ it
follows $X_i\cap Y$ is non-empty and open in $Y$, hence irreducible
and dense in $Y$. Thus $X_i\cap Y$ is an irreducible closed subset of $X_i$. As
$X_i$ is quasi-sober there exists $x\in X_i\cap Y$ with
$X_i\cap Y=\overline{\{x\}}\cap X_i\subset\overline{\{x\}}$. Since
$X_i\cap Y$ is dense in $Y$ and $Y$ is closed in $X$ it follows
$Y=\overline{X_i\cap Y}\cap Y\subset\overline{X_i\cap Y}\subset
\overline{\{x\}}\subset Y$. Therefore
$Y=\overline{\{x\}}$. This shows $X$ is quasi-sober.

\medskip\noindent
Proof of (3). Immediately from (1) and (2).
\end{proof}

\begin{example}
\label{example-quasi-sober-not-kolmogorov}
Let $X$ be an indiscrete space of cardinality at least $2$. Then $X$ is
quasi-sober but not Kolmogorov. Moreover, the family of its singletons is a
covering of $X$ by discrete and hence Kolmogorov spaces.
\end{example}

\begin{example}
\label{example-kolmogorov-not-quasi-sober}
Let $Y$ be an infinite set, furnished with the topology whose closed sets are
$Y$ and the finite subsets of $Y$. Then $Y$ is Kolmogorov but not quasi-sober.
However, the family of its singletons (which are its irreducible components) is
a covering by discrete and hence sober spaces.
\end{example}

\begin{example}
\label{example-not-kolmogorov-not-quasi-sober}
Let $X$ and $Y$ be as in Example \ref{example-quasi-sober-not-kolmogorov} and
Example \ref{example-kolmogorov-not-quasi-sober}. Then, $X\amalg Y$ is neither
Kolmogorov nor quasi-sober.
\end{example}

\begin{example}
\label{example-sober-subspace}
Let $Z$ be an infinite set and let $z\in Z$. We furnish $Z$ with the topology
whose closed sets are $Z$ and the finite subsets of $Z\setminus\{z\}$. Then $Z$
is sober but its subspace $Z\setminus\{z\}$ is not quasi-sober.
\end{example}

\begin{example}
\label{example-Hausdorff}
Recall that a topological space $X$ is Hausdorff iff for every
distinct pair of points $x, y \in X$ there exist disjoint
opens $U, V \subset X$ such that $x \in U$, $y \in V$.
In this case $X$ is irreducible if and only if $X$ is
a singleton. Similarly, any subset of $X$ is irreducible
if and only if it is a singleton. Hence a Hausdorff space is
sober.
\end{example}

\begin{lemma}
\label{lemma-irreducible-on-top}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that
(a) $Y$ is irreducible,
(b) $f$ is open, and
(c) there exists a dense collection of points $y \in Y$ such
that $f^{-1}(y)$ is irreducible.
Then $X$ is irreducible.
\end{lemma}

\begin{proof}
Suppose $X = Z_1 \cup Z_2$ with $Z_i$ closed.
Consider the open sets $U_1 = Z_1 \setminus Z_2 = X \setminus Z_2$ and
$U_2 = Z_2 \setminus Z_1 = X \setminus Z_1$. To get a contradiction
assume that $U_1$ and $U_2$ are both nonempty. By (b) we see that $f(U_i)$
is open. By (a) we have $Y$ irreducible and hence
$f(U_1) \cap f(U_2) \not = \emptyset$. By (c) there is a point $y$ which
corresponds to a point of this intersection such that the fibre
$X_y = f^{-1}(y)$ is irreducible. Then $X_y \cap U_1$ and
$X_y \cap U_2$ are nonempty disjoint open subsets of $X_y$ which is
a contradiction.
\end{proof}

\begin{lemma}
\label{lemma-irreducible-fibres-irreducible-components}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume that (a) $f$ is open, and
(b) for every $y \in Y$ the fibre $f^{-1}(y)$ is irreducible.
Then $f$ induces a bijection between irreducible components.
\end{lemma}

\begin{proof}
We point out that assumption (b) implies that $f$ is surjective (see
Definition \ref{definition-irreducible-components}).
Let $T \subset Y$ be an irreducible component.
Note that $T$ is closed, see Lemma \ref{lemma-irreducible}.
The lemma follows if we show that $f^{-1}(T)$ is irreducible
because any irreducible subset of $X$ maps into an irreducible component
of $Y$ by Lemma \ref{lemma-image-irreducible-space}.
Note that $f^{-1}(T) \to T$ satisfies the assumptions
of Lemma \ref{lemma-irreducible-on-top}. Hence we win.
\end{proof}

\noindent
The construction of the following lemma is sometimes called
the ``soberification''.

\begin{lemma}
\label{lemma-make-sober}
Let $X$ be a topological space. There is a canonical continuous map
$$
c : X \longrightarrow X'
$$
from $X$ to a sober topological space $X'$ which is universal
among continuous maps from $X$ to sober topological spaces.
Moreover, the assignment $U' \mapsto c^{-1}(U')$ is a bijection
between opens of $X'$ and $X$ which commutes with finite intersections
and arbitrary unions.
The image $c(X)$ is a Kolmogorov topological space and the
map $c : X \to c(X)$ is universal for maps of $X$ into Kolmogorov spaces.
\end{lemma}

\begin{proof}
Let $X'$ be the set of irreducible closed subsets of $X$ and let
$$
c : X \to X', \quad x \mapsto \overline{\{x\}}.
$$
For $U \subset X$ open, let $U' \subset X'$ denote the set
of irreducible closed subsets of $X$ which meet $U$.
Then $c^{-1}(U') = U$. In particular, if $U_1 \not = U_2$ are open in
$X$, then $U'_1 \not = U_2'$. Hence $c$ induces
a bijection between the subsets of $X'$ of the form $U'$ and the
opens of $X$.

\medskip\noindent
Let $U_1, U_2$ be open in $X$. Suppose that $Z \in U'_1$ and
$Z \in U'_2$. Then $Z \cap U_1$ and $Z \cap U_2$ are nonempty
open subsets of the irreducible space $Z$ and hence $Z \cap U_1 \cap U_2$
is nonempty. Thus $(U_1 \cap U_2)' = U'_1 \cap U'_2$.
The rule $U \mapsto U'$ is also compatible with arbitrary unions
(details omitted). Thus it is clear that the collection of
$U'$ form a topology on $X'$ and that we have a bijection as
stated in the lemma.

\medskip\noindent
Next we show that $X'$ is sober. Let $T \subset X'$ be an irreducible
closed subset. Let $U \subset X$ be the open such that $X' \setminus T = U'$.
Then $Z = X \setminus U$ is irreducible because of the properties
of the bijection of the lemma. We claim that $Z \in T$ is the unique generic
point. Namely, any open of the form $V' \subset X'$
which does not contain $Z$ must come from an open $V \subset X$
which misses $Z$, i.e., is contained in $U$.

\medskip\noindent
Finally, we check the universal property. Let $f : X \to Y$ be a continuous
map to a sober topological space. Then we let $f' : X' \to Y$ be the map
which sends the irreducible closed $Z \subset X$ to the unique generic
point of $\overline{f(Z)}$. It follows immediately that
$f' \circ c = f$ as maps of sets, and the properties of $c$ imply that
$f'$ is continuous. We omit the verification that the continuous
map $f'$ is unique. We also omit the proof of the statements on
Kolmogorov spaces.
\end{proof}



\section{Noetherian topological spaces}
\label{section-noetherian}

\begin{definition}
\label{definition-noetherian}
A topological space is called {\it Noetherian}
if the descending chain condition holds for
closed subsets of $X$. A topological space is called
{\it locally Noetherian} if every point has a neighbourhood
which is Noetherian.
\end{definition}

\begin{lemma}
\label{lemma-Noetherian}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item Any subset of $X$ with the induced topology is Noetherian.
\item The space $X$ has finitely many irreducible components.
\item Each irreducible component of $X$ contains a nonempty open of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $T \subset X$ be a subset of $X$.
Let $T_1 \supset T_2 \supset \ldots$
be a descending chain of closed subsets of $T$.
Write $T_i =  T \cap Z_i$ with $Z_i \subset X$ closed.
Consider the descending chain of closed subsets
$Z_1 \supset Z_1\cap Z_2 \supset Z_1 \cap Z_2 \cap Z_3 \ldots$
This stabilizes by assumption and hence the original sequence
of $T_i$ stabilizes. Thus $T$ is Noetherian.

\medskip\noindent
Let $A$ be the set of closed subsets of $X$ which do not
have finitely many irreducible components. Assume that
$A$ is not empty to arrive at a contradiction.
The set $A$ is partially ordered by inclusion: $\alpha \leq \alpha'
\Leftrightarrow Z_{\alpha} \subset Z_{\alpha'}$.
By the descending chain condition we may find a
smallest element of $A$, say $Z$. As $Z$ is not a finite
union of irreducible components, it is not irreducible.
Hence we can write $Z = Z' \cup Z''$ and both are strictly smaller
closed subsets. By construction $Z' = \bigcup Z'_i$ and
$Z'' = \bigcup Z''_j$ are finite unions of their irreducible
components. Hence $Z = \bigcup Z'_i \cup \bigcup Z''_j$ is
a finite union of irreducible closed subsets.
After removing redundant members of this expression,
this will be the decomposition of $Z$ into its irreducible
components, a contradiction.

\medskip\noindent
Let $Z \subset X$ be an irreducible component of $X$.
Let $Z_1, \ldots, Z_n$ be the other irreducible components
of $X$. Consider $U = Z \setminus (Z_1\cup\ldots\cup Z_n)$.
This is not empty since otherwise the irreducible space
$Z$ would be contained in one of the other $Z_i$.
Because $X = Z \cup Z_1 \cup \ldots Z_n$ (see Lemma \ref{lemma-irreducible}),
also $U = X \setminus (Z_1\cup\ldots\cup Z_n)$
and hence open in $X$. Thus $Z$ contains a nonempty
open of $X$.
\end{proof}

\begin{lemma}
\label{lemma-image-Noetherian}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $X$ is Noetherian, then $f(X)$ is Noetherian.
\item If $X$ is locally Noetherian and $f$ open, then $f(X)$ is
locally Noetherian.
\end{enumerate}
\end{lemma}

\begin{proof}
In case (1), suppose that $Z_1 \supset Z_2 \supset Z_3 \supset \ldots$
is a descending chain of closed subsets of $f(X)$ (as usual with the induced
topology as a subset of $Y$). Then
$f^{-1}(Z_1) \supset f^{-1}(Z_2) \supset f^{-1}(Z_3) \supset \ldots$ is
a descending chain of closed subsets of $X$. Hence this chain stabilizes.
Since $f(f^{-1}(Z_i)) = Z_i$ we conclude that
$Z_1 \supset Z_2 \supset Z_3 \supset \ldots$
stabilizes also. In case (2), let $y \in f(X)$. Choose $x \in X$ with
$f(x) = y$. By assumption there exists a neighbourhood $E \subset X$ of
$x$ which is Noetherian. Then $f(E) \subset f(X)$ is a neighbourhood
which is Noetherian by part (1).
\end{proof}

\begin{lemma}
\label{lemma-finite-union-Noetherian}
Let $X$ be a topological space.
Let $X_i \subset X$, $i = 1, \ldots, n$ be a finite collection of subsets.
If each $X_i$ is Noetherian (with the induced topology), then
$\bigcup_{i = 1, \ldots, n}  X_i$ is Noetherian (with the induced topology).
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{example}
\label{example-locally-Noetherian-no-closed-point}
Any nonempty, Kolmogorov Noetherian topological space has a closed point
(combine Lemmas \ref{lemma-quasi-compact-closed-point} and
\ref{lemma-Noetherian-quasi-compact}).
Let $X = \{1, 2, 3, \ldots \}$. Define a topology on $X$
with opens $\emptyset$, $\{1, 2, \ldots, n\}$, $n \geq 1$
and $X$. Thus $X$ is a locally Noetherian topological space,
without any closed points. This space cannot be the underlying
topological space of a locally Noetherian scheme, see
Properties, Lemma \ref{properties-lemma-locally-Noetherian-closed-point}.
\end{example}

\begin{lemma}
\label{lemma-locally-Noetherian-locally-connected}
Let $X$ be a locally Noetherian topological space.
Then $X$ is locally connected.
\end{lemma}

\begin{proof}
Let $x \in X$. Let $E$ be a neighbourhood of $x$.
We have to find a connected neighbourhood of $x$ contained
in $E$. By assumption there exists a neighbourhood $E'$ of $x$
which is Noetherian. Then $E \cap E'$ is Noetherian, see
Lemma \ref{lemma-Noetherian}.
Let $E \cap E' = Y_1 \cup \ldots \cup Y_n$ be the decomposition
into irreducible components, see
Lemma \ref{lemma-Noetherian}.
Let $E'' = \bigcup_{x \in Y_i} Y_i$. This is a connected
subset of $E \cap E'$ containing $x$. It contains the open
$E \cap E' \setminus (\bigcup_{x \not \in Y_i} Y_i)$ of $E \cap E'$
and hence it is a neighbourhood of $x$ in $X$. This proves the lemma.
\end{proof}



\section{Krull dimension}
\label{section-krull-dimension}

\begin{definition}
\label{definition-Krull}
Let $X$ be a topological space.
\begin{enumerate}
\item A {\it chain of irreducible closed subsets} of $X$
is a sequence $Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$
with $Z_i$ closed irreducible and $Z_i \not = Z_{i + 1}$ for
$i = 0, \ldots, n - 1$.
\item The {\it length} of a chain
$Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$
of irreducible closed subsets of $X$ is the
integer $n$.
\item The {\it dimension} or more precisely the {\it Krull dimension}
$\dim(X)$ of $X$ is the element of
$\{-\infty, 0, 1, 2, 3, \ldots, \infty\}$ defined by the formula:
$$
\dim(X) =
\sup \{\text{lengths of chains of irreducible closed subsets}\}
$$
Thus $\dim(X) = -\infty$ if and only if $X$ is the empty space.
\item Let $x \in X$.
The {\it Krull dimension of $X$ at $x$} is defined as
$$
\dim_x(X) = \min \{\dim(U), x\in U\subset X\text{ open}\}
$$
the minimum of $\dim(U)$ where $U$ runs over the open
neighbourhoods of $x$ in $X$.
\end{enumerate}
\end{definition}

\noindent
Note that if $U' \subset U \subset X$ are open then
$\dim(U') \leq \dim(U)$. Hence if $\dim_x(X) = d$ then $x$
has a fundamental system of open neighbourhoods $U$ with
$\dim(U) = \dim_x(X)$.

\begin{lemma}
\label{lemma-dimension-supremum-local-dimensions}
Let $X$ be a topological space. Then $\dim(X) = \sup \dim_x(X)$
where the supremum runs over the points $x$ of $X$.
\end{lemma}

\begin{proof}
It is clear that $\dim(X) \geq \dim_x(X)$ for all $x \in X$ (see
discussion following Definition \ref{definition-Krull}).
Thus an inequality in one direction. For the converse, let $n \geq 0$
and suppose that $\dim(X) \geq n$. Then we can find a chain of irreducible
closed subsets $Z_0 \subset Z_1 \subset \ldots \subset Z_n \subset X$.
Pick $x \in Z_0$. Then we see that every open neighbourhood $U$ of $x$
has a chain of irreducible closed subsets
$Z_0 \cap U \subset Z_1 \cap U \subset \ldots Z_n \cap U \subset U$.
In this way we see that $\dim_x(X) \geq n$ which proves the other
inequality.
\end{proof}

\begin{example}
\label{example-Krull-Rn}
The Krull dimension of the usual Euclidean space
$\mathbf{R}^n$ is $0$.
\end{example}

\begin{example}
\label{example-krull-2set}
Let $X = \{s, \eta\}$ with open sets given
by $\{\emptyset, \{\eta\}, \{s, \eta\}\}$.
In this case a maximal chain of irreducible
closed subsets is $\{s\} \subset \{s, \eta\}$.
Hence $\dim(X) = 1$. It is easy to generalize
this example to get a $(n + 1)$-element topological
space of Krull dimension $n$.
\end{example}

\begin{definition}
\label{definition-equidimensional}
Let $X$ be a topological space.
We say that $X$ is {\it equidimensional} if every irreducible
component of $X$ has the same dimension.
\end{definition}





\section{Codimension and catenary spaces}
\label{section-catenary-spaces}

\noindent
We only define the codimension of irreducible closed subsets.

\begin{definition}
\label{definition-codimension}
Let $X$ be a topological space.
Let $Y \subset X$ be an irreducible closed subset.
The {\it codimension} of $Y$ in $X$ is the supremum of
the lengths $e$ of chains
$$
Y = Y_0 \subset Y_1 \subset \ldots \subset Y_e \subset X
$$
of irreducible closed subsets in $X$ starting with $Y$.
We will denote this $\text{codim}(Y, X)$.
\end{definition}

\noindent
The codimension is an element of $\{0, 1, 2, \ldots\} \cup \{\infty\}$.
If $\text{codim}(Y, X) < \infty$, then every chain can be extended to
a maximal chain (but these do not all have to have the same length).

\begin{lemma}
\label{lemma-codimension-at-generic-point}
Let $X$ be a topological space.
Let $Y \subset X$ be an irreducible closed subset.
Let $U \subset X$ be an open subset such that $Y \cap U$ is nonempty.
Then
$$
\text{codim}(Y, X) = \text{codim}(Y \cap U, U)
$$
\end{lemma}

\begin{proof}
The rule $T \mapsto \overline{T}$ defines a bijective
inclusion preserving map between the closed irreducible subsets
of $U$ and the closed irreducible subsets of $X$ which meet $U$.
Using this the lemma easily follows. Details omitted.
\end{proof}

\begin{example}
\label{example-Noetherian-infinite-codimension}
Let $X = [0, 1]$ be the unit interval with the following
topology: The sets $[0, 1]$, $(1 - 1/n, 1]$ for $n \in \mathbf{N}$, and
$\emptyset$ are open. So the closed sets are
$\emptyset$, $\{0\}$, $[0, 1 - 1/n]$ for $n > 1$ and $[0, 1]$.
This is clearly a Noetherian topological space.
But the irreducible closed subset $Y = \{0\}$ has infinite
codimension $\text{codim}(Y, X) = \infty$.
To see this we just remark that all the closed sets
$[0, 1 - 1/n]$ are irreducible.
\end{example}

\begin{definition}
\label{definition-catenary}
Let $X$ be a topological space. We say $X$ is {\it catenary} if
for every pair of irreducible closed subsets $T \subset T'$
we have $\text{codim}(T, T') < \infty$ and every maximal chain
of irreducible closed subsets
$$
T = T_0 \subset T_1 \subset \ldots \subset T_e = T'
$$
has the same length (equal to the codimension).
\end{definition}

\begin{lemma}
\label{lemma-catenary}
Let $X$ be a topological space.
The following are equivalent:
\begin{enumerate}
\item $X$ is catenary,
\item $X$ has an open covering by catenary spaces.
\end{enumerate}
Moreover, in this case any locally closed subspace of $X$ is catenary.
\end{lemma}

\begin{proof}
Suppose that $X$ is catenary and that $U \subset X$ is an open
subset. The rule $T \mapsto \overline{T}$ defines a bijective
inclusion preserving map between the closed irreducible subsets
of $U$ and the closed irreducible subsets of $X$ which meet $U$.
Using this the lemma easily follows. Details omitted.
\end{proof}

\begin{lemma}
\label{lemma-catenary-in-codimension}
Let $X$ be a topological space. The following are equivalent:
\begin{enumerate}
\item $X$ is catenary, and
\item for every pair of irreducible closed subsets $Y \subset Y'$ we have
$\text{codim}(Y, Y') < \infty$ and for every triple
$Y \subset Y' \subset Y''$ of irreducible closed subsets we have
$$
\text{codim}(Y, Y'') = \text{codim}(Y, Y') + \text{codim}(Y', Y'').
$$
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}







\section{Quasi-compact spaces and maps}
\label{section-quasi-compact}

\noindent
The phrase ``compact'' will be reserved
for Hausdorff topological spaces. And many spaces occurring
in algebraic geometry are not Hausdorff.

\begin{definition}
\label{definition-quasi-compact}
Quasi-compactness.
\begin{enumerate}
\item We say that a topological space $X$ is {\it quasi-compact}
if every open covering of $X$ has a finite refinement.
\item We say that a continuous map $f : X \to Y$ is {\it quasi-compact}
if the inverse image $f^{-1}(V)$ of every quasi-compact open $V \subset Y$
is quasi-compact.
\item We say a subset $Z \subset X$ is {\it retrocompact}
if the inclusion map $Z \to X$ is quasi-compact.
\end{enumerate}
\end{definition}

\noindent
In many texts on topology a space is called {\it compact} if it
is quasi-compact and Hausdorff; and in other texts the Hausdorff
condition is omitted. To avoid confusion in algebraic geometry
we use the term quasi-compact. Note that the notion of quasi-compactness
of a map is very different from the notion of a ``proper map''
in topology, since there one requires the inverse image of any
(quasi-)compact subset of the target to be (quasi-)compact,
whereas in the definition above we only consider quasi-compact
{\it open} sets.

\begin{lemma}
\label{lemma-composition-quasi-compact}
A composition of quasi-compact maps is quasi-compact.
\end{lemma}

\begin{proof}
This is immediate from the definition.
\end{proof}

\begin{lemma}
\label{lemma-closed-in-quasi-compact}
A closed subset of a quasi-compact topological space is quasi-compact.
\end{lemma}

\begin{proof}
Let $E \subset X$ be a closed subset of the quasi-compact space $X$.
Let $E = \bigcup V_j$ be an open covering. Choose $U_j \subset X$
open such that $V_j = E \cap U_j$. Then $X = (X \setminus E) \cup \bigcup U_j$
is an open covering of $X$. Hence
$X = (X \setminus E) \cup U_{j_1} \cup \ldots \cup U_{j_n}$ for some
$n$ and indices $j_i$. Thus $E = V_{j_1} \cup \ldots \cup V_{j_n}$
as desired.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-in-Hausdorff}
Let $X$ be a Hausdorff topological space.
\begin{enumerate}
\item If $E \subset X$ is quasi-compact, then it is closed.
\item If $E_1, E_2 \subset X$ are disjoint quasi-compact subsets
then there exists opens $E_i \subset U_i$ with $U_1 \cap U_2 = \emptyset$.
\end{enumerate}
\end{lemma}

\begin{proof}
Proof of (1). Let $x \in X$, $x \not \in E$.
For every $e \in E$ we can find disjoint opens $V_e$ and $U_e$
with $e \in V_e$ and $x \in U_e$. Since $E \subset \bigcup V_e$
we can find finitely many $e_1, \ldots, e_n$ such that
$E \subset V_{e_1} \cup \ldots \cup V_{e_n}$. Then
$U = U_{e_1} \cap \ldots \cap U_{e_n}$ is an open neighbourhood
of $x$ which avoids $V_{e_1} \cup \ldots \cup V_{e_n}$. In particular
it avoids $E$. Thus $E$ is closed.

\medskip\noindent
Proof of (2). In the proof of (1) we have seen that given $x \in E_1$
we can find an open neighbourhood $x \in U_x$ and an open
$E_2 \subset V_x$ such that $U_x \cap V_x = \emptyset$. Because
$E_1$ is quasi-compact we can find a finite number $x_i \in E_1$
such that $E_1 \subset U = U_{x_1} \cup \ldots \cup U_{x_n}$.
We take $V = V_{x_1} \cap \ldots \cap V_{x_n}$ to finish the proof.
\end{proof}

\begin{lemma}
\label{lemma-closed-in-compact}
Let $X$ be a quasi-compact Hausdorff space. Let $E \subset X$.
The following are equivalent: (a) $E$ is closed in $X$, (b)
$E$ is quasi-compact.
\end{lemma}

\begin{proof}
The implication (a) $\Rightarrow$ (b) is
Lemma \ref{lemma-closed-in-quasi-compact}.
The implication (b) $\Rightarrow$ (a) is
Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
\end{proof}

\noindent
The following is really a reformulation of the
quasi-compact property.

\begin{lemma}
\label{lemma-intersection-closed-in-quasi-compact}
Let $X$ be a quasi-compact topological space.
If $\{Z_\alpha\}_{\alpha \in A}$ is a collection of closed subsets
such that the intersection of each finite subcollection
is nonempty, then $\bigcap_{\alpha \in A} Z_\alpha$ is nonempty.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-image-quasi-compact}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $X$ is quasi-compact, then $f(X)$ is quasi-compact.
\item If $f$ is quasi-compact, then $f(X)$ is retrocompact.
\end{enumerate}
\end{lemma}

\begin{proof}
If $f(X) = \bigcup V_i$ is an open covering, then $X = \bigcup f^{-1}(V_i)$
is an open covering. Hence if $X$ is quasi-compact then
$X = f^{-1}(V_{i_1}) \cup \ldots \cup f^{-1}(V_{i_n})$ for some
$i_1, \ldots, i_n \in I$ and hence
$f(X) = V_{i_1} \cup \ldots \cup V_{i_n}$. This proves (1).
Assume $f$ is quasi-compact, and let $V \subset Y$ be quasi-compact open.
Then $f^{-1}(V)$ is quasi-compact, hence by (1) we see that
$f(f^{-1}(V)) = f(X) \cap V$ is quasi-compact. Hence $f(X)$
is retrocompact.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-closed-point}
Let $X$ be a topological space. Assume that
\begin{enumerate}
\item $X$ is nonempty,
\item $X$ is quasi-compact, and
\item $X$ is Kolmogorov.
\end{enumerate}
Then $X$ has a closed point.
\end{lemma}

\begin{proof}
Consider the set
$$
\mathcal{T} =
\{Z \subset X \mid Z = \overline{\{x\}} \text{ for some }x \in X\}
$$
of all closures of singletons in $X$. It is nonempty since $X$ is
nonempty. Make $\mathcal{T}$ into a
partially ordered set using the relation of inclusion.
Suppose $Z_\alpha$, $\alpha \in A$ is a totally ordered subset of $\mathcal{T}$.
By Lemma \ref{lemma-intersection-closed-in-quasi-compact} we see
that $\bigcap_{\alpha \in A} Z_\alpha \not = \emptyset$. Hence there exists
some $x \in \bigcap_{\alpha \in A} Z_\alpha$ and we see that
$Z = \overline{\{x\}}\in \mathcal{T}$ is a lower bound for
the family. By Zorn's lemma there exists a minimal element
$Z \in \mathcal{T}$. As $X$ is Kolmogorov we conclude that
$Z = \{x\}$ for some $x$ and $x \in X$ is a closed point.
\end{proof}

\begin{lemma}
\label{lemma-closed-points-quasi-compact}
Let $X$ be a quasi-compact Kolmogorov space. Then the set $X_0$ of
closed points of $X$ is quasi-compact.
\end{lemma}

\begin{proof}
Let $X_0 = \bigcup U_{i, 0}$ be an open covering.
Write $U_{i, 0} = X_0 \cap U_i$ for some open $U_i \subset X$.
Consider the complement $Z$ of $\bigcup U_i$. This is a closed subset of
$X$, hence quasi-compact (Lemma \ref{lemma-closed-in-quasi-compact})
and Kolmogorov. By Lemma \ref{lemma-quasi-compact-closed-point}
if $Z$ is nonempty it would have a closed
point which contradicts the fact that $X_0 \subset \bigcup U_i$.
Hence $Z = \emptyset$ and $X = \bigcup U_i$. Since $X$ is quasi-compact
this covering has a finite subcover and we conclude.
\end{proof}

\begin{lemma}
\label{lemma-connected-component-intersection}
Let $X$ be a topological space.
Assume
\begin{enumerate}
\item $X$ is quasi-compact,
\item $X$ has a basis for the topology consisting of quasi-compact opens, and
\item the intersection of two quasi-compact opens is quasi-compact.
\end{enumerate}
For any $x \in X$ the connected component of $X$ containing
$x$ is the intersection of all open and closed subsets
of $X$ containing $x$.
\end{lemma}

\begin{proof}
Let $T$ be the connected component containing $x$.
Let $S = \bigcap_{\alpha \in A} Z_\alpha$ be the intersection of all
open and closed subsets $Z_\alpha$ of $X$ containing $x$.
Note that $S$ is closed in $X$.
Note that any finite intersection of $Z_\alpha$'s is a $Z_\alpha$.
Because $T$ is connected and $x \in T$ we have $T \subset S$.
It suffices to show that $S$ is connected.
If not, then there exists a disjoint union decomposition
$S = B \amalg C$ with $B$ and $C$ open and closed in $S$.
In particular, $B$ and $C$ are closed in $X$, and so quasi-compact by
Lemma \ref{lemma-closed-in-quasi-compact} and assumption (1).
By assumption (2) there exist quasi-compact opens
$U, V \subset X$ with $B = S \cap U$ and $C = S \cap V$ (details omitted).
Then $U \cap V \cap S = \emptyset$.
Hence $\bigcap_\alpha U \cap V \cap Z_\alpha = \emptyset$.
By assumption (3) the intersection $U \cap V$ is quasi-compact.
By Lemma \ref{lemma-intersection-closed-in-quasi-compact}
for some $\alpha' \in A$ we have $U \cap V \cap Z_{\alpha'} = \emptyset$.
Since $X \setminus (U \cup V)$ is disjoint from $S$
and closed in $X$ hence quasi-compact, we can use the same lemma
to see that $Z_{\alpha''} \subset U \cup V$ for some $\alpha'' \in A$.
Then $Z_\alpha = Z_{\alpha'} \cap Z_{\alpha''}$ is contained
in $U \cup V$ and disjoint from $U \cap V$.
Hence $Z_\alpha = U \cap Z_\alpha \amalg V \cap Z_\alpha$
is a decomposition into two open pieces,
hence $U \cap Z_\alpha$ and $V \cap Z_\alpha$ are open and closed in $X$.
Thus, if $x \in B$ say, then we see that $S \subset U \cap Z_\alpha$
and we conclude that $C = \emptyset$.
\end{proof}

\begin{lemma}
\label{lemma-connected-component-intersection-compact-Hausdorff}
Let $X$ be a topological space. Assume $X$ is quasi-compact and Hausdorff.
For any $x \in X$ the connected component of $X$ containing
$x$ is the intersection of all open and closed subsets
of $X$ containing $x$.
\end{lemma}

\begin{proof}
Let $T$ be the connected component containing $x$.
Let $S = \bigcap_{\alpha \in A} Z_\alpha$ be the intersection of all
open and closed subsets $Z_\alpha$ of $X$ containing $x$.
Note that $S$ is closed in $X$.
Note that any finite intersection of $Z_\alpha$'s is a $Z_\alpha$.
Because $T$ is connected and $x \in T$ we have $T \subset S$.
It suffices to show that $S$ is connected.
If not, then there exists a disjoint union decomposition
$S = B \amalg C$ with $B$ and $C$ open and closed in $S$.
In particular, $B$ and $C$ are closed in $X$, and so quasi-compact by
Lemma \ref{lemma-closed-in-quasi-compact}.
By Lemma \ref{lemma-quasi-compact-in-Hausdorff}
there exist disjoint opens $U, V \subset X$ with $B \subset U$ and
$C \subset V$. Then $X \setminus U \cup V$ is closed in $X$
hence quasi-compact (Lemma \ref{lemma-closed-in-quasi-compact}).
It follows that $(X \setminus U \cup V) \cap Z_\alpha = \emptyset$
for some $\alpha$ by Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
In other words, $Z_\alpha \subset U \cup V$. Thus
$Z_\alpha = Z_\alpha \cap V \amalg Z_\alpha \cap U$
is a decomposition into two open pieces,
hence $U \cap Z_\alpha$ and $V \cap Z_\alpha$ are open and closed in $X$.
Thus, if $x \in B$ say, then we see that $S \subset U \cap Z_\alpha$
and we conclude that $C = \emptyset$.
\end{proof}

\begin{lemma}
\label{lemma-closed-union-connected-components}
Let $X$ be a topological space.
Assume
\begin{enumerate}
\item $X$ is quasi-compact,
\item $X$ has a basis for the topology consisting of quasi-compact opens, and
\item the intersection of two quasi-compact opens is quasi-compact.
\end{enumerate}
For a subset $T \subset X$ the following are equivalent:
\begin{enumerate}
\item[(a)] $T$ is an intersection of open and closed subsets of $X$, and
\item[(b)] $T$ is closed in $X$ and is a union of connected components of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that (a) implies (b).
Assume (b). Let $x \in X$, $x \not \in T$. Let $x \in C \subset X$
be the connected component of $X$ containing $x$. By
Lemma \ref{lemma-connected-component-intersection}
we see that $C = \bigcap V_\alpha$ is the intersection of all open and
closed subsets $V_\alpha$ of $X$ which contain $C$.
In particular, any pairwise intersection $V_\alpha \cap V_\beta$
occurs as a $V_\alpha$.
As $T$ is a union of connected components
of $X$ we see that $C \cap T = \emptyset$. Hence
$T \cap \bigcap V_\alpha = \emptyset$. Since $T$ is quasi-compact as a
closed subset of a quasi-compact space (see
Lemma \ref{lemma-closed-in-quasi-compact})
we deduce that $T \cap V_\alpha = \emptyset$ for some $\alpha$, see
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
For this $\alpha$ we see that $U_\alpha = X \setminus V_\alpha$
is an open and closed subset of $X$ which contains $T$ and not $x$.
The lemma follows.
\end{proof}

\begin{lemma}
\label{lemma-Noetherian-quasi-compact}
Let $X$ be a Noetherian topological space.
\begin{enumerate}
\item The space $X$ is quasi-compact.
\item Any subset of $X$ is retrocompact.
\end{enumerate}
\end{lemma}

\begin{proof}
Suppose $X = \bigcup U_i$ is an open covering of $X$ indexed
by the set $I$ which does not have a refinement by a finite
open covering. Choose $i_1, i_2, \ldots $ elements of $I$ inductively
in the following way: Choose $i_{n + 1}$ such that $U_{i_{n + 1}}$
is not contained in $U_{i_1} \cup \ldots \cup U_{i_n}$. Thus we see that
$X \supset (X \setminus U_{i_1}) \supset
(X \setminus U_{i_1} \cup U_{i_2}) \supset \ldots$ is a strictly
decreasing infinite sequence of closed subsets. This contradicts
the fact that $X$ is Noetherian. This proves the first assertion.
The second assertion is now clear since every subset of $X$ is Noetherian by
Lemma \ref{lemma-Noetherian}.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-locally-Noetherian-Noetherian}
A quasi-compact locally Noetherian space is Noetherian.
\end{lemma}

\begin{proof}
The conditions imply immediately that $X$ has a finite covering by
Noetherian subsets, and hence is Noetherian by
Lemma \ref{lemma-finite-union-Noetherian}.
\end{proof}

\begin{lemma}[Alexander subbase theorem]
\label{lemma-subbase-theorem}
Let $X$ be a topological space. Let $\mathcal{B}$ be a subbase for $X$.
If every covering of $X$ by elements of $\mathcal{B}$ has a finite
refinement, then $X$ is quasi-compact.
\end{lemma}

\begin{proof}
Assume there is an open covering of $X$ which does not have a finite
refinement. Using Zorn's lemma we can choose a maximal open covering
$X = \bigcup_{i \in I} U_i$ which does not have a finite refinement
(details omitted).
In other words, if $U \subset X$ is any open which does not occur as
one of the $U_i$, then the covering $X = U \cup \bigcup_{i \in I} U_i$
does have a finite refinement. Let $I' \subset I$ be the set of indices
such that $U_i \in \mathcal{B}$. Then $\bigcup_{i \in I'} U_i \not = X$,
since otherwise we would get a finite refinement covering $X$ by our
assumption on $\mathcal{B}$. Pick $x \in X$,
$x \not \in \bigcup_{i \in I'} U_i$. Pick $i \in I$ with $x \in U_i$.
Pick $V_1, \ldots, V_n \in \mathcal{B}$ such that
$x \in V_1 \cap \ldots \cap V_n \subset U_i$. This is
possible as $\mathcal{B}$ is a subbasis for $X$. Note that
$V_j$ does not occur as a $U_i$. By maximality of the chosen
covering we see that for each $j$ there exist
$i_{j, 1}, \ldots, i_{j, n_j} \in I$ such that
$X = V_j \cup U_{i_{j, 1}} \cup \ldots \cup U_{i_{j, n_j}}$.
Since $V_1 \cap \ldots \cap V_n \subset U_i$ we conclude that
$X = U_i \cup \bigcup U_{i_{j, l}}$ a contradiction.
\end{proof}






\section{Locally quasi-compact spaces}
\label{section-locally-quasi-compact}

\noindent
Recall that a neighbourhood of a point need not be open.

\begin{definition}
\label{definition-locally-quasi-compact}
A topological space $X$ is called
{\it locally quasi-compact}\footnote{This may not be standard notation.
Alternative notions used in the literature are: (1) Every point has some
quasi-compact neighbourhood, and (2) Every point has a closed quasi-compact
neighbourhood. A scheme has the property that every point has a fundamental
system of open quasi-compact neighbourhoods.} if every
point has a fundamental system of quasi-compact neighbourhoods.
\end{definition}

\noindent
The term {\it locally compact space} in the literature often refers
to a space as in the following lemma.

\begin{lemma}
\label{lemma-locally-quasi-compact-Hausdorff}
A Hausdorff space is locally quasi-compact if and only if every point
has a quasi-compact neighbourhood.
\end{lemma}

\begin{proof}
Let $X$ be a Hausdorff space. Let $x \in X$ and let $x \in E \subset X$
be a quasi-compact neighbourhood. Then $E$ is closed by
Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
Suppose that $x \in U \subset X$ is an open neighbourhood of $x$.
Then $Z = E \setminus U$ is a closed subset of $E$ not containing $x$.
Hence we can find a pair of disjoint open subsets $W, V \subset E$
of $E$ such that $x \in V$ and $Z \subset W$, see
Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
It follows that $\overline{V} \subset E$ is a closed neighbourhood
of $x$ contained in $E \cap U$. Also $\overline{V}$ is quasi-compact
as a closed subset of $E$ (Lemma \ref{lemma-closed-in-quasi-compact}).
In this way we obtain a fundamental system of quasi-compact neighbourhoods
of $x$.
\end{proof}

\begin{lemma}[Baire category theorem]
\label{lemma-baire-category-locally-compact}
Let $X$ be a locally quasi-compact Hausdorff space.
Let $U_n \subset X$, $n \geq 1$ be dense open subsets. Then
$\bigcap_{n \geq 1} U_n$ is dense in $X$.
\end{lemma}

\begin{proof}
After replacing $U_n$ by $\bigcap_{i = 1, \ldots, n} U_i$
we may assume that $U_1 \supset U_2 \supset \ldots$.
Let $x \in X$. We will show that $x$ is in the closure of
$\bigcap_{n \geq 1} U_n$. Thus let $E$ be a neighbourhood of $x$.
To show that $E \cap \bigcap_{n \geq 1} U_n$ is nonempty we
may replace $E$ by a smaller neighbourhood. After replacing
$E$ by a smaller neighbourhood, we may assume that $E$ is quasi-compact.

\medskip\noindent
Set $x_0 = x$ and $E_0 = E$. Below, we will inductively choose
a point $x_i \in E_{i - 1} \cap U_i$ and a quasi-compact
neighbourhood $E_i$ of $x_i$ with $E_i \subset E_{i - 1} \cap U_i$.
Because $X$ is Hausdorff, the subsets $E_i \subset X$ are closed
(Lemma \ref{lemma-quasi-compact-in-Hausdorff}).
Since the $E_i$ are also nonempty we conclude that
$\bigcap_{i \geq 1} E_i$ is nonempty
(Lemma \ref{lemma-intersection-closed-in-quasi-compact}).
Since $\bigcap_{i \geq 1} E_i \subset E \cap \bigcap_{n \geq 1} U_n$
this proves the lemma.

\medskip\noindent
The base case $i = 0$ we have done above. Induction step.
Since $E_{i - 1}$ is a neighbourhood of $x_{i - 1}$ we can
find an open $x_{i - 1} \in W \subset E_{i - 1}$.
Since $U_i$ is dense in $X$
we see that $W \cap U_i$ is nonempty.
Pick any $x_i \in W \cap U_i$.
By definition of locally quasi-compact spaces we can
find a quasi-compact neighbourhood $E_i$ of $x_i$
contained in $W \cap U_i$. Then $E_i \subset E_{i - 1} \cap U_i$
as desired.
\end{proof}

\begin{lemma}
\label{lemma-relatively-compact-refinement}
Let $X$ be a Hausdorff and quasi-compact space.
Let $X = \bigcup_{i \in I} U_i$ be an open covering.
Then there exists an open covering $X = \bigcup_{i \in I} V_i$
such that $\overline{V_i} \subset U_i$ for all $i$.
\end{lemma}

\begin{proof}
Let $x \in X$. Choose an $i(x) \in I$ such that $x \in U_{i(x)}$.
Since $X \setminus U_{i(x)}$ and $\{x\}$ are disjoint closed
subsets of $X$, by Lemmas \ref{lemma-closed-in-quasi-compact} and
\ref{lemma-quasi-compact-in-Hausdorff}
there exists an open neighbourhood $U_x$ of $x$
whose closure is disjoint from $X \setminus U_{i(x)}$.
Thus $\overline{U_x} \subset U_{i(x)}$. Since $X$ is quasi-compact,
there is a finite list of points $x_1, \ldots, x_m$ such that
$X = U_{x_1} \cup \ldots \cup U_{x_m}$. Setting
$V_i = \bigcup_{i = i(x_j)} U_{x_j}$ the proof is finished.
\end{proof}

\begin{lemma}
\label{lemma-refine-covering}
Let $X$ be a Hausdorff and quasi-compact space.
Let $X = \bigcup_{i \in I} U_i$ be an open covering.
Suppose given an integer $p \geq 0$ and for every $(p + 1)$-tuple
$i_0, \ldots, i_p$ of $I$ an open covering
$U_{i_0} \cap \ldots \cap U_{i_p} = \bigcup W_{i_0 \ldots i_p, k}$.
Then there exists an open covering $X = \bigcup_{j \in J} V_j$
and a map $\alpha : J \to I$ such that $\overline{V_j} \subset U_{\alpha(j)}$
and such that each $V_{j_0} \cap \ldots \cap V_{j_p}$
is contained in $W_{\alpha(j_0) \ldots \alpha(j_p), k}$
for some $k$.
\end{lemma}

\begin{proof}
Since $X$ is quasi-compact, there is a reduction to the
case where $I$ is finite (details omitted).
We prove the result for $I$ finite by induction on $p$.
The base case $p = 0$ is immediate by taking a covering as in
Lemma \ref{lemma-relatively-compact-refinement}
refining the open covering $X = \bigcup W_{i_0, k}$.

\medskip\noindent
Induction step. Assume the lemma proven for $p - 1$.
For all $p$-tuples $i'_0, \ldots, i'_{p - 1}$ of $I$ let
$U_{i'_0} \cap \ldots \cap U_{i'_{p - 1}} =
\bigcup W_{i'_0 \ldots i'_{p - 1}, k}$
be a common refinement of the coverings
$U_{i_0} \cap \ldots \cap U_{i_p} = \bigcup W_{i_0 \ldots i_p, k}$
for those $(p + 1)$-tuples such that
$\{i'_0, \ldots, i'_{p - 1}\} = \{i_0, \ldots, i_p\}$ (equality of sets).
(There are finitely many of these as $I$ is finite.)
By induction there exists a solution for these opens, say
$X = \bigcup V_j$ and $\alpha : J \to I$.
At this point the covering $X = \bigcup_{j \in J} V_j$
and $\alpha$ satisfy $\overline{V_j} \subset U_{\alpha(j)}$
and each $V_{j_0} \cap \ldots \cap V_{j_p}$
is contained in $W_{\alpha(j_0) \ldots \alpha(j_p), k}$
for some $k$ if there is a repetition in $\alpha(j_0), \ldots, \alpha(j_p)$.
Of course, we may and do assume that $J$ is finite.

\medskip\noindent
Fix $i_0, \ldots, i_p \in I$ pairwise distinct. Consider $(p + 1)$-tuples
$j_0, \ldots, j_p \in J$ with $i_0 = \alpha(j_0), \ldots, i_p = \alpha(j_p)$
such that $V_{j_0} \cap \ldots \cap V_{j_p}$
is {\bf not} contained in $W_{\alpha(j_0) \ldots \alpha(j_p), k}$ for any $k$.
Let $N$ be the number of such $(p + 1)$-tuples. We will show how to decrease
$N$. Since
$$
\overline{V_{j_0}} \cap \ldots \cap \overline{V_{j_p}} \subset
U_{i_0} \cap \ldots \cap U_{i_p} = \bigcup W_{i_0 \ldots i_p, k}
$$
we find a finite set $K = \{k_1, \ldots, k_t\}$ such that the LHS
is contained in $\bigcup_{k \in K} W_{i_0 \ldots i_p, k}$.
Then we consider the open covering
$$
V_{j_0} =
(V_{j_0} \setminus (\overline{V_{j_1}} \cap \ldots \cap \overline{V_{j_p}}))
\cup (\bigcup\nolimits_{k \in K} V_{j_0} \cap W_{i_0 \ldots i_p, k})
$$
The first open on the RHS intersects $V_{j_1} \cap \ldots \cap V_{j_p}$
in the empty set and the other opens $V_{j_0, k}$ of the RHS
satisfy $V_{j_0, k} \cap V_{j_1} \ldots \cap V_{j_p} \subset
W_{\alpha(j_0) \ldots \alpha(j_p), k}$.
Set $J' = J \amalg K$. For $j \in J$ set $V'_j = V_j$ if $j \not = j_0$
and set $V'_{j_0} =
V_{j_0} \setminus (\overline{V_{j_1}} \cap \ldots \cap \overline{V_{j_p}})$.
For $k \in K$ set $V'_k = V_{j_0, k}$. Finally, the map $\alpha' : J' \to I$
is given by $\alpha$ on $J$ and maps every element of $K$ to $i_0$.
A simple check shows that $N$ has decreased by one under this replacement.
Repeating this procedure $N$ times we arrive at the situation where
$N = 0$.

\medskip\noindent
To finish the proof we argue by induction on the number $M$ of $(p + 1)$-tuples
$i_0, \ldots, i_p \in I$ with pairwise distinct entries for which there exists
a $(p + 1)$-tuple $j_0, \ldots, j_p \in J$ with
$i_0 = \alpha(j_0), \ldots, i_p = \alpha(j_p)$ such that
$V_{j_0} \cap \ldots \cap V_{j_p}$ is {\bf not} contained in
$W_{\alpha(j_0) \ldots \alpha(j_p), k}$ for any $k$. To do this, we
claim that the operation performed in the previous paragraph does not
increase $M$. This follows formally from the fact that the map
$\alpha' : J' \to I$ factors through a map $\beta : J' \to J$
such that $V'_{j'} \subset V_{\beta(j')}$.
\end{proof}

\begin{lemma}
\label{lemma-lift-covering-of-a-closed}
Let $X$ be a Hausdorff and locally quasi-compact space.
Let $Z \subset X$ be a quasi-compact (hence closed) subset.
Suppose given an integer $p \geq 0$, a set $I$, for every $i \in I$
an open $U_i \subset X$, and for every $(p + 1)$-tuple
$i_0, \ldots, i_p$ of $I$ an open
$W_{i_0 \ldots i_p} \subset U_{i_0} \cap \ldots \cap U_{i_p}$
such that
\begin{enumerate}
\item $Z \subset \bigcup U_i$, and
\item for every $i_0, \ldots, i_p$ we have
$W_{i_0 \ldots i_p} \cap Z = U_{i_0} \cap \ldots \cap U_{i_p} \cap Z$.
\end{enumerate}
Then there exist opens $V_i$ of $X$ such that
we have $Z \subset \bigcup V_i$,
for all $i$ we have $\overline{V_i} \subset U_i$, and
we have $V_{i_0} \cap \ldots \cap V_{i_p} \subset W_{i_0 \ldots i_p}$
for all $(p + 1)$-tuples $i_0, \ldots, i_p$.
\end{lemma}

\begin{proof}
Since $Z$ is quasi-compact, there is a reduction to the
case where $I$ is finite (details omitted).
Because $X$ is locally quasi-compact and $Z$ is quasi-compact,
we can find a neighbourhood $Z \subset E$ which is quasi-compact,
i.e., $E$ is quasi-compact and contains an open neighbourhood
of $Z$ in $X$. If we prove the result after replacing $X$ by $E$,
then the result follows. Hence we may assume $X$ is quasi-compact.

\medskip\noindent
We prove the result in case $I$ is finite and $X$ is quasi-compact
by induction on $p$. The base case is $p = 0$. In this case we have
$X = (X \setminus Z) \cup \bigcup W_i$. By
Lemma \ref{lemma-relatively-compact-refinement}
we can find a covering $X = V \cup \bigcup V_i$ by
opens $V_i \subset W_i$ and $V \subset X \setminus Z$
with $\overline{V_i} \subset W_i$ for all $i$. Then we see that
we obtain a solution of the problem posed by the lemma.

\medskip\noindent
Induction step. Assume the lemma proven for $p - 1$.
Set $W_{j_0 \ldots j_{p - 1}}$ equal to the intersection of
all $W_{i_0 \ldots i_p}$ with
$\{j_0, \ldots, j_{p - 1}\} = \{i_0, \ldots, i_p\}$ (equality of sets).
By induction there exists a solution for these opens, say
$V_i \subset U_i$.
It follows from our choice of $W_{j_0 \ldots j_{p - 1}}$ that we have
$V_{i_0} \cap \ldots \cap V_{i_p} \subset W_{i_0 \ldots i_p}$
for all $(p + 1)$-tuples $i_0, \ldots, i_p$ where $i_a = i_b$ for
some $0 \leq a < b \leq p$.
Thus we only need to modify our choice of
$V_i$ if $V_{i_0} \cap \ldots \cap V_{i_p} \not \subset W_{i_0 \ldots i_p}$
for some $(p + 1)$-tuple $i_0, \ldots, i_p$ with pairwise distinct elements.
In this case we have
$$
T =
\overline{V_{i_0} \cap \ldots \cap V_{i_p} \setminus W_{i_0 \ldots i_p}}
\subset 
\overline{V_{i_0}} \cap \ldots \cap \overline{V_{i_p}} \setminus
W_{i_0 \ldots i_p}
$$
is a closed subset of $X$ contained in $U_{i_0} \cap \ldots \cap U_{i_p}$
not meeting $Z$. Hence we can replace $V_{i_0}$ by $V_{i_0} \setminus T$
to ``fix'' the problem. After repeating this finitely many times for each
of the problem tuples, the lemma is proven.
\end{proof}

\begin{lemma}
\label{lemma-lift-covering-of-quasi-compact-hausdorff-subset}
Let $X$ be a topological space. Let $Z \subset X$ be a quasi-compact subset
such that any two points of $Z$ have disjoint open neighbourhoods in $X$.
Suppose given an integer $p \geq 0$, a set $I$, for every $i \in I$
an open $U_i \subset X$, and for every $(p + 1)$-tuple
$i_0, \ldots, i_p$ of $I$ an open
$W_{i_0 \ldots i_p} \subset U_{i_0} \cap \ldots \cap U_{i_p}$
such that
\begin{enumerate}
\item $Z \subset \bigcup U_i$, and
\item for every $i_0, \ldots, i_p$ we have
$W_{i_0 \ldots i_p} \cap Z = U_{i_0} \cap \ldots \cap U_{i_p} \cap Z$.
\end{enumerate}
Then there exist opens $V_i$ of $X$ such that
\begin{enumerate}
\item $Z \subset \bigcup V_i$,
\item $V_i \subset U_i$ for all $i$,
\item $\overline{V_i} \cap Z \subset U_i$ for all $i$, and
\item $V_{i_0} \cap \ldots \cap V_{i_p} \subset W_{i_0 \ldots i_p}$
for all $(p + 1)$-tuples $i_0, \ldots, i_p$.
\end{enumerate}
\end{lemma}

\begin{proof}
Since $Z$ is quasi-compact, there is a reduction to the
case where $I$ is finite (details omitted).
We prove the result in case $I$ is finite by induction on $p$.

\medskip\noindent
The base case is $p = 0$.
For $z \in Z \cap U_i$ and $z' \in Z \setminus U_i$ there exist
disjoint opens $z \in V_{z, z'}$ and $z' \in W_{z, z'}$ of $X$.
Since $Z \setminus U_i$ is quasi-compact
(Lemma \ref{lemma-closed-in-quasi-compact}),
we can choose a finite nunber $z'_1, \ldots, z'_r$ such that
$Z \setminus U_i \subset W_{z, z'_1} \cup \ldots \cup W_{z, z'_r}$.
Then we see that
$V_z = V_{z, z'_1} \cap \ldots \cap V_{z, z'_r} \cap U_i$
is an open neighbourhood of $z$ contained in $U_i$
with the property that $\overline{V_z} \cap Z \subset U_i$.
Since $z$ and $i$ where arbitrary and since $Z$ is quasi-compact
we can find a finite list $z_1, i_1, \ldots, z_t, i_t$
and opens $V_{z_j} \subset U_{i_j}$ with
$\overline{V_{z_j}} \cap Z \subset U_{i_j}$
and $Z \subset \bigcup V_{z_j}$.
Then we can set $V_i = W_i \cap (\bigcup_{j : i = i_j} V_{z_j})$
to solve the problem for $p = 0$.

\medskip\noindent
Induction step. Assume the lemma proven for $p - 1$.
Set $W_{j_0 \ldots j_{p - 1}}$ equal to the intersection of
all $W_{i_0 \ldots i_p}$ with
$\{j_0, \ldots, j_{p - 1}\} = \{i_0, \ldots, i_p\}$ (equality of sets).
By induction there exists a solution for these opens, say
$V_i \subset U_i$.
It follows from our choice of $W_{j_0 \ldots j_{p - 1}}$ that we have
$V_{i_0} \cap \ldots \cap V_{i_p} \subset W_{i_0 \ldots i_p}$
for all $(p + 1)$-tuples $i_0, \ldots, i_p$ where $i_a = i_b$ for
some $0 \leq a < b \leq p$.
Thus we only need to modify our choice of
$V_i$ if $V_{i_0} \cap \ldots \cap V_{i_p} \not \subset W_{i_0 \ldots i_p}$
for some $(p + 1)$-tuple $i_0, \ldots, i_p$ with pairwise distinct elements.
In this case we have
$$
T =
\overline{V_{i_0} \cap \ldots \cap V_{i_p} \setminus W_{i_0 \ldots i_p}}
\subset
\overline{V_{i_0}} \cap \ldots \cap \overline{V_{i_p}} \setminus
W_{i_0 \ldots i_p}
$$
is a closed subset of $X$ not meeting $Z$ by our property (3) of the
opens $V_i$. Hence we can replace $V_{i_0}$ by $V_{i_0} \setminus T$
to ``fix'' the problem. After repeating this finitely many times for each
of the problem tuples, the lemma is proven.
\end{proof}






\section{Limits of spaces}
\label{section-limits}

\noindent
The category of topological spaces has products. Namely, if $I$ is a set
and for $i \in I$ we are given a topological space $X_i$ then we endow
$\prod_{i \in I} X_i$ with the {\it product topology}. As a basis for
the topology we use sets of the form $\prod U_i$ where $U_i \subset X_i$
is open and $U_i = X_i$ for almost all $i$.

\medskip\noindent
The category of topological spaces has equalizers. Namely, if
$a, b : X \to Y$ are morphisms of topological spaces, then the
equalizer of $a$ and $b$ is the subset $\{x \in X \mid a(x) = b(x)\} \subset X$
endowed with the induced topology.

\begin{lemma}
\label{lemma-limits}
The category of topological spaces has limits and the forgetful functor
to sets commutes with them.
\end{lemma}

\begin{proof}
This follows from the discussion above and
Categories, Lemma \ref{categories-lemma-limits-products-equalizers}.
It follows from the description above that the forgetful functor
commutes with limits. Another way to see this is to use
Categories, Lemma \ref{categories-lemma-adjoint-exact} and use that
the forgetful functor has a left adjoint, namely the functor which
assigns to a set the corresponding discrete topological space.
\end{proof}

\begin{lemma}
\label{lemma-describe-limits}
Let $\mathcal{I}$ be a cofiltered category. Let $i \mapsto X_i$ be a diagram
of topological spaces over $\mathcal{I}$. Let $X = \lim X_i$ be the limit
with projection maps $f_i : X \to X_i$.
\begin{enumerate}
\item Any open of $X$ is of the form $\bigcup_{j \in J} f_j^{-1}(U_j)$
for some subset $J \subset I$ and opens $U_j \subset X_j$.
\item Any quasi-compact open of $X$ is of the form
$f_i^{-1}(U_i)$ for some $i$ and some $U_i \subset X_i$ open.
\end{enumerate}
\end{lemma}

\begin{proof}
The construction of the limit given above shows that $X \subset \prod X_i$
with the induced topology. A basis for the topology of $\prod X_i$ are
the opens $\prod U_i$ where $U_i \subset X_i$ is open and $U_i = X_i$
for almost all $i$. Say $i_1, \ldots, i_n \in \Ob(\mathcal{I})$ are the
objects such that $U_{i_j} \not = X_{i_j}$. Then
$$
X \cap \prod U_i = f_{i_1}^{-1}(U_{i_1}) \cap \ldots \cap f_{i_n}^{-1}(U_{i_n})
$$
For a general limit of topological spaces these form a basis for the
topology on $X$. However, if $\mathcal{I}$ is cofiltered as in the statement
of the lemma, then we can pick a $j \in \Ob(\mathcal{I})$ and morphisms
$j \to i_l$, $l = 1, \ldots, n$. Let
$$
U_j =
(X_j \to X_{i_1})^{-1}(U_{i_1}) \cap \ldots \cap
(X_j \to X_{i_n})^{-1}(U_{i_n})
$$
Then it is clear that $X \cap \prod U_i = f_j^{-1}(U_j)$. Thus for any open
$W$ of $X$ there is a set $A$ and a map $\alpha : A \to \Ob(\mathcal{I})$ and
opens $U_a \subset X_{\alpha(a)}$ such that
$W = \bigcup f_{\alpha(a)}^{-1}(U_a)$. Set $J = \Im(\alpha)$ and
for $j \in J$ set $U_j = \bigcup_{\alpha(a) = j} U_a$ to see that
$W = \bigcup_{j \in J} f_j^{-1}(U_j)$.
This proves (1).

\medskip\noindent
To see (2) suppose that $\bigcup_{j \in J} f_j^{-1}(U_j)$ is quasi-compact.
Then it is equal to
$f_{j_1}^{-1}(U_{j_1}) \cup \ldots \cup f_{j_m}^{-1}(U_{j_m})$
for some $j_1, \ldots, j_m \in J$. Since $\mathcal{I}$ is cofiltered,
we can pick a $i \in \Ob(\mathcal{I})$ and morphisms
$i \to j_l$, $l = 1, \ldots, m$. Let
$$
U_i =
(X_i \to X_{j_1})^{-1}(U_{j_1}) \cup \ldots \cup
(X_i \to X_{j_m})^{-1}(U_{j_m})
$$
Then our open equals $f_i^{-1}(U_i)$ as desired. 
\end{proof}

\begin{lemma}
\label{lemma-characterize-limit}
Let $\mathcal{I}$ be a cofiltered category. Let $i \mapsto X_i$ be a diagram
of topological spaces over $\mathcal{I}$. Let $X$ be a topological
space such that
\begin{enumerate}
\item $X = \lim X_i$ as a set (denote $f_i$ the projection maps),
\item the sets $f_i^{-1}(U_i)$ for $i \in \Ob(\mathcal{I})$ and
$U_i \subset X_i$ open form a basis for the topology of $X$.
\end{enumerate}
Then $X$ is the limit of the $X_i$ as a topological space.
\end{lemma}

\begin{proof}
Follows from the description of the limit topology
in Lemma \ref{lemma-describe-limits}.
\end{proof}

\begin{theorem}[Tychonov]
\label{theorem-tychonov}
A product of quasi-compact spaces is quasi-compact.
\end{theorem}

\begin{proof}
Let $I$ be a set and for $i \in I$ let $X_i$ be a quasi-compact topological
space. Set $X = \prod X_i$. Let $\mathcal{B}$ be the set of subsets of $X$
of the form $U_i \times \prod_{i' \in I, i' \not = i} X_{i'}$ where
$U_i \subset X_i$ is open. By construction this family is a subbasis
for the topology on $X$. By Lemma \ref{lemma-subbase-theorem} it
suffices to show that any covering $X = \bigcup_{j \in J} B_j$
by elements $B_j$ of $\mathcal{B}$ has a finite refinement.
We can decompose $J = \coprod J_i$ so that if $j \in J_i$, then
$B_j = U_j \times \prod_{i' \not = i} X_{i'}$ with $U_j \subset X_i$
open. If $X_i = \bigcup_{j \in J_i} U_j$, then there is a finite
refinement and we conclude that $X = \bigcup_{j \in J} B_j$
has a finite refinement. If this is not the case, then for every $i$
we can choose an point $x_i \in X_i$ which is not in
$\bigcup_{j \in J_i} U_j$. But then the point $x = (x_i)_{i \in I}$
is an element of $X$ not contained in $\bigcup_{j \in J} B_j$, a
contradiction.
\end{proof}

\noindent
The following lemma does not hold if one drops the assumption that
the spaces $X_i$ are Hausdorff, see
Examples, Section \ref{examples-section-lim-not-quasi-compact}.

\begin{lemma}
\label{lemma-inverse-limit-quasi-compact}
Let $\mathcal{I}$ be a category and let $i \mapsto X_i$
be a diagram over $\mathcal{I}$ in the category of topological
spaces. If each $X_i$ is quasi-compact and Hausdorff, then
$\lim X_i$ is quasi-compact.
\end{lemma}

\begin{proof}
Recall that $\lim X_i$ is a subspace of $\prod X_i$. By
Theorem \ref{theorem-tychonov} this product is quasi-compact. Hence it
suffices to show that $\lim X_i$ is a closed subspace of $\prod X_i$
(Lemma \ref{lemma-closed-in-quasi-compact}).
If $\varphi : j \to k$ is a morphism of $\mathcal{I}$, then
let $\Gamma_\varphi \subset X_j \times X_k$ denote the graph
of the corresponding continuous map $X_j \to X_k$. By
Lemma \ref{lemma-graph-closed} this graph is closed.
It is clear that $\lim X_i$ is the intersection of the
closed subsets
$$
\Gamma_\varphi \times \prod\nolimits_{l \not = j, k} X_l
\subset \prod X_i
$$
Thus the result follows.
\end{proof}

\noindent
The following lemma generalizes
Categories, Lemma \ref{categories-lemma-nonempty-limit}
and partially generalizes
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.

\begin{lemma}
\label{lemma-nonempty-limit}
Let $\mathcal{I}$ be a cofiltered category and let $i \mapsto X_i$
be a diagram over $\mathcal{I}$ in the category of topological
spaces. If each $X_i$ is quasi-compact, Hausdorff, and nonempty, then
$\lim X_i$ is nonempty.
\end{lemma}

\begin{proof}
In the proof of Lemma \ref{lemma-inverse-limit-quasi-compact}
we have seen that $X = \lim X_i$ is the intersection of the
closed subsets
$$
Z_\varphi = \Gamma_\varphi \times \prod\nolimits_{l \not = j, k} X_l
$$
inside the quasi-compact space $\prod X_i$ where $\varphi : j \to k$
is a morphism of $\mathcal{I}$ and $\Gamma_\varphi \subset X_j \times X_k$
is the graph of the corresponding morphism $X_j \to X_k$. Hence by
Lemma \ref{lemma-intersection-closed-in-quasi-compact}
it suffices to show any finite intersection of these subsets is nonempty.
Assume $\varphi_t : j_t \to k_t$, $t = 1, \ldots, n$ is a finite collection
of morphisms of $\mathcal{I}$. Since $\mathcal{I}$ is cofiltered, we can
pick an object $j$ and a morphism $\psi_t : j \to j_t$ for each $t$.
For each pair $t, t'$ such that either (a) $j_t = j_{t'}$, or
(b) $j_t = k_{t'}$, or (c) $k_t = k_{t'}$ we obtain two morphisms
$j \to l$ with $l = j_t$ in case (a), (b) or $l = k_t$ in case (c).
Because $\mathcal{I}$ is cofiltered and since there are finitely
many pairs $(t, t')$ we may choose a map $j' \to j$ which equalizes
these two morphisms for all such pairs $(t, t')$. Pick an element
$x \in X_{j'}$ and for each $t$ let $x_{j_t}$, resp.\ $x_{k_t}$
be the image of $x$ under the morphism $X_{j'} \to X_j \to X_{j_t}$,
resp.\ $X_{j'} \to X_j \to X_{j_t} \to X_{k_t}$.
For any index $l \in \Ob(\mathcal{I})$ which is not equal to
$j_t$ or $k_t$ for some $t$ we pick an arbitrary element $x_l \in X_l$
(using the axiom of choice). Then $(x_i)_{i \in \Ob(\mathcal{I})}$
is in the intersection 
$$
Z_{\varphi_1} \cap \ldots \cap Z_{\varphi_n}
$$
by construction and the proof is complete.
\end{proof}



\section{Constructible sets}
\label{section-constructible}

\begin{definition}
\label{definition-constructible}
Let $X$ be a topological space. Let $E \subset X$ be a subset of $X$.
\begin{enumerate}
\item We say $E$ is {\it constructible}\footnote{In the second edition
of EGA I \cite{EGA1-second} this was called a ``globally constructible''
set and a the terminology ``constructible'' was used for what we call a locally
constructible set.}
in $X$ if $E$ is a finite union
of subsets of the form $U \cap V^c$ where $U, V \subset X$ are open and
retrocompact in $X$.
\item We say $E$ is {\it locally constructible} in $X$ if there exists an open
covering $X = \bigcup V_i$ such that each $E \cap V_i$ is constructible
in $V_i$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-constructible}
The collection of constructible sets is closed under
finite intersections, finite unions and complements.
\end{lemma}

\begin{proof}
Note that if $U_1$, $U_2$ are open and retrocompact in $X$
then so is $U_1 \cup U_2$ because the union of two quasi-compact
subsets of $X$ is quasi-compact. It is also true that
$U_1 \cap U_2$ is retrocompact. Namely, suppose $U \subset X$
is quasi-compact open, then $U_2 \cap U$ is quasi-compact because
$U_2$ is retrocompact in $X$, and then we conclude
$U_1 \cap (U_2 \cap U)$ is quasi-compact because $U_1$ is
retrocompact in $X$. From this it is formal to show that
the complement of a constructible set is constructible,
that finite unions of constructibles are constructible, and
that finite intersections of constructibles are constructible.
\end{proof}

\begin{lemma}
\label{lemma-inverse-images-constructibles}
Let $f : X \to Y$ be a continuous map of topological spaces.
If the inverse image of every retrocompact open subset of $Y$
is retrocompact in $X$, then inverse images of constructible
sets are constructible.
\end{lemma}

\begin{proof}
This is true because $f^{-1}(U \cap V^c) = f^{-1}(U) \cap f^{-1}(V)^c$,
combined with the definition of constructible sets.
\end{proof}

\begin{lemma}
\label{lemma-open-immersion-constructible-inverse-image}
Let $U \subset X$ be open. For a constructible set
$E \subset X$ the intersection $E \cap U$ is constructible
in $U$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap U$ is retrocompact in $U$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset U$ be open and quasi-compact. Then $W$
is open and quasi-compact in $X$. Hence $V \cap W = V \cap U \cap W$
is quasi-compact as $V$ is retrocompact in $X$.
\end{proof}

\begin{lemma}
\label{lemma-quasi-compact-open-immersion-constructible-image}
Let $U \subset X$ be a retrocompact open. Let $E \subset U$.
If $E$ is constructible in $U$, then $E$ is constructible in $X$.
\end{lemma}

\begin{proof}
Suppose that $V, W \subset U$ are retrocompact open in $U$.
Then $V, W$ are retrocompact open in $X$
(Lemma \ref{lemma-composition-quasi-compact}).
Hence $V \cap (U \setminus W) = V \cap (X \setminus W)$
is constructible in $X$. We conclude since every constructible subset of $U$
is a finite union of subsets of the form $V \cap (U \setminus W)$.
\end{proof}

\begin{lemma}
\label{lemma-collate-constructible}
Let $X$ be a topological space. Let $E \subset X$ be a subset.
Let $X = V_1 \cup \ldots \cup V_m$ be a finite covering by
retrocompact opens.
Then $E$ is constructible in $X$ if and only if $E \cap V_j$
is constructible in $V_j$ for each $j = 1, \ldots, m$.
\end{lemma}

\begin{proof}
If $E$ is constructible in $X$, then by
Lemma \ref{lemma-open-immersion-constructible-inverse-image}
we see that $E \cap V_j$ is constructible in $V_j$ for all $j$.
Conversely, suppose that $E \cap V_j$
is constructible in $V_j$ for each $j = 1, \ldots, m$.
Then $E = \bigcup E \cap V_j$ is a finite union of
constructible sets by
Lemma \ref{lemma-quasi-compact-open-immersion-constructible-image}
and hence constructible.
\end{proof}

\begin{lemma}
\label{lemma-intersect-constructible-with-closed}
Let $X$ be a topological space. Let $Z \subset X$ be a closed
subset such that $X \setminus Z$ is quasi-compact.
Then for a constructible set $E \subset X$ the intersection
$E \cap Z$ is constructible in $Z$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap Z$ is retrocompact in $Z$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset Z$ be open and quasi-compact. The subset
$W' = W \cup (X \setminus Z)$ is quasi-compact, open, and $W = Z \cap W'$.
Hence $V \cap Z \cap W = V \cap Z \cap W'$
is a closed subset of the quasi-compact open $V \cap W'$
as $V$ is retrocompact in $X$. Thus $V \cap Z \cap W$ is quasi-compact
by Lemma \ref{lemma-closed-in-quasi-compact}.
\end{proof}

\begin{lemma}
\label{lemma-intersect-constructible-with-retrocompact}
Let $X$ be a topological space. Let $T \subset X$ be a subset. Suppose
\begin{enumerate}
\item $T$ is retrocompact in $X$,
\item quasi-compact opens form a basis for the topology on $X$.
\end{enumerate}
Then for a constructible set $E \subset X$ the intersection $E \cap T$ is
constructible in $T$.
\end{lemma}

\begin{proof}
Suppose that $V \subset X$ is retrocompact open in $X$.
It suffices to show that $V \cap T$ is retrocompact in $T$
by Lemma \ref{lemma-inverse-images-constructibles}. To show this
let $W \subset T$ be open and quasi-compact. By assumption (2)
we can find a quasi-compact open $W' \subset X$
such that $W = T \cap W'$ (details omitted).
Hence $V \cap T \cap W = V \cap T \cap W'$
is the intersection of $T$ with  the quasi-compact open $V \cap W'$
as $V$ is retrocompact in $X$. Thus $V \cap T \cap W$ is quasi-compact.
\end{proof}

\begin{lemma}
\label{lemma-closed-constructible-image}
Let $Z \subset X$ be a closed subset whose complement is retrocompact open.
Let $E \subset Z$. If $E$ is constructible in $Z$, then $E$ is constructible
in $X$.
\end{lemma}

\begin{proof}
Suppose that $V \subset Z$ is retrocompact open in $Z$. Consider the open
subset $\tilde V = V \cup (X \setminus Z)$ of $X$. Let $W \subset X$ be
quasi-compact open. Then
$$
W \cap \tilde V =
\left(V \cap W\right) \cup \left((X \setminus Z) \cap W\right).
$$
The first part is quasi-compact as $V \cap W = V \cap (Z \cap W)$ and
$(Z \cap W)$ is quasi-compact open in $Z$
(Lemma \ref{lemma-closed-in-quasi-compact}) and $V$ is retrocompact in $Z$.
The second part is quasi-compact as $(X \setminus Z)$ is retrocompact in $X$.
In this way we see that $\tilde V$ is retrocompact in $X$.
Thus if $V_1, V_2 \subset Z$ are retrocompact open, then
$$
V_1 \cap (Z \setminus V_2) = \tilde V_1 \cap (X \setminus \tilde V_2)
$$
is constructible in $X$. We conclude since every constructible subset of $Z$
is a finite union of subsets of the form $V_1 \cap (Z \setminus V_2)$.
\end{proof}

\begin{lemma}
\label{lemma-constructible-is-retrocompact}
Let $X$ be a topological space. Every constructible
subset of $X$ is retrocompact.
\end{lemma}

\begin{proof}
Let $E = \bigcup_{i = 1, \ldots, n} U_i \cap V_i^c$ with $U_i, V_i$
retrocompact open in $X$. Let $W \subset X$ be quasi-compact open.
Then $E \cap W = \bigcup_{i = 1, \ldots, n} U_i \cap V_i^c \cap W$.
Thus it suffices to show that $U \cap V^c \cap W$ is quasi-compact
if $U, V$ are retrocompact open and $W$ is quasi-compact
open. This is true because $U \cap V^c \cap W$ is a closed
subset of the quasi-compact $U \cap W$ so
Lemma \ref{lemma-closed-in-quasi-compact}
applies.
\end{proof}

\noindent
Question: Does the following lemma also hold if we assume $X$ is a
quasi-compact topological space? Compare with
Lemma \ref{lemma-intersect-constructible-with-closed}.

\begin{lemma}
\label{lemma-intersect-constructible-with-constructible}
Let $X$ be a topological space. Assume
$X$ has a basis consisting of quasi-compact opens.
For $E, E'$ constructible in $X$, the intersection
$E \cap E'$ is constructible in $E$.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-intersect-constructible-with-retrocompact} and
\ref{lemma-constructible-is-retrocompact}.
\end{proof}

\begin{lemma}
\label{lemma-constructible-in-constructible}
Let $X$ be a topological space. Assume
$X$ has a basis consisting of quasi-compact opens.
Let $E$ be constructible in $X$ and $F \subset E$ constructible in $E$.
Then $F$ is constructible in $X$.
\end{lemma}

\begin{proof}
Observe that any retrocompact subset $T$ of $X$ has a basis for the induced
topology consisting of quasi-compact opens. In particular this holds
for any constructible subset
(Lemma \ref{lemma-constructible-is-retrocompact}).
Write $E = E_1 \cup \ldots \cup E_n$ with $E_i = U_i \cap V_i^c$
where $U_i, V_i \subset X$ are retrocompact open.
Note that $E_i = E \cap E_i$ is constructible in $E$ by
Lemma \ref{lemma-intersect-constructible-with-constructible}.
Hence $F \cap E_i$ is constructible in $E_i$ by
Lemma \ref{lemma-intersect-constructible-with-constructible}.
Thus it suffices to prove the lemma in case $E = U \cap V^c$
where $U, V \subset X$ are retrocompact open.
In this case the inclusion $E \subset X$ is a composition
$$
E = U \cap V^c \to U \to X
$$
Then we can apply Lemma \ref{lemma-closed-constructible-image}
to the first inclusion and
Lemma \ref{lemma-quasi-compact-open-immersion-constructible-image}
to the second.
\end{proof}

\begin{lemma}
\label{lemma-locally-closed-constructible-image}
Let $X$ be a quasi-compact topological space having a basis consisting of
quasi-compact opens such that the intersection of any two
quasi-compact opens is quasi-compact.
Let $T \subset X$ be a locally closed subset
such that $T$ is quasi-compact and $T^c$ is retrocompact in $X$.
Then $T$ is constructible in $X$.
\end{lemma}

\begin{proof}
Note that $T$ is quasi-compact and open in $\overline{T}$.
Using our basis of quasi-compact opens we can write
$T = U \cap \overline{T}$ where $U$ is quasi-compact open in $X$.
Then $U \setminus T = U \cap T^c$ is retrocompact in $U$ as $T^c$
is retrocompact in $X$. Hence the inclusion $T \subset X$ can be written
as the composition of the inclusion $T \subset U$ of a closed
subset with retrocompact complement and the inclusion $U \subset X$
which is retrocompact by our assumption on intersections of quasi-compact
opens. Thus the lemma is a consequence of
Lemmas \ref{lemma-quasi-compact-open-immersion-constructible-image} and
\ref{lemma-closed-constructible-image}.
\end{proof}

\begin{lemma}
\label{lemma-collate-constructible-from-constructible}
Let $X$ be a topological space which has a basis for the topology
consisting of quasi-compact opens. Let $E \subset X$ be a subset.
Let $X = E_1 \cup \ldots \cup E_m$ be a finite covering by constructible
subsets. Then $E$ is constructible in $X$ if and only if $E \cap E_j$
is constructible in $E_j$ for each $j = 1, \ldots, m$.
\end{lemma}

\begin{proof}
Combine
Lemmas \ref{lemma-intersect-constructible-with-constructible} and
\ref{lemma-constructible-in-constructible}.
\end{proof}

\begin{lemma}
\label{lemma-generic-point-in-constructible}
Let $X$ be a topological space. Suppose that
$Z \subset X$ is irreducible. Let $E \subset X$
be a finite union of locally closed subsets (e.g.\ $E$
is constructible). The following are equivalent
\begin{enumerate}
\item The intersection $E \cap Z$ contains an open
dense subset of $Z$.
\item The intersection $E \cap Z$ is dense in $Z$.
\end{enumerate}
If $Z$ has a generic point $\xi$, then this is
also equivalent to
\begin{enumerate}
\item[(3)] We have $\xi \in E$.
\end{enumerate}
\end{lemma}

\begin{proof}
Write $E = \bigcup U_i \cap Z_i$ as the finite union of
intersections of open sets $U_i$ and closed sets $Z_i$.
Suppose that $E \cap Z$ is dense in $Z$. Note that
the closure of $E \cap Z$ is the union of the closures
of the intersections $U_i \cap Z_i \cap Z$. As $Z$ is irreducible we
conclude that the closure of $U_i \cap Z_i \cap Z$ is $Z$ for some $i$.
Fix such an $i$. It follows that $Z \subset Z_i$ since otherwise
the closed subset $Z \cap Z_i$ of $Z$ would not be dense in $Z$.
Then $U_i \cap Z_i \cap Z = U_i \cap Z$ is an open nonempty subset of $Z$.
Because $Z$ is irreducible, it is open dense. Hence $E \cap Z$
contains an open dense subset of $Z$.
The converse is obvious.

\medskip\noindent
Suppose that $\xi \in Z$ is a generic point. Of course if
(1) $\Leftrightarrow$ (2) holds, then $\xi \in E$. Conversely,
if $\xi \in E$, then $\xi \in U_i \cap Z_i$ for some $i = i_0$.
Clearly this implies $Z \subset Z_{i_0}$ and hence
$U_{i_0} \cap Z_{i_0} \cap Z = U_{i_0} \cap Z$ is an open
not empty subset of $Z$. We conclude as before.
\end{proof}







\section{Constructible sets and Noetherian spaces}
\label{section-constructible-Noetherian}

\begin{lemma}
\label{lemma-constructible-Noetherian-space}
Let $X$ be a Noetherian topological space.
The constructible sets in $X$ are precisely the finite unions
of locally closed subsets of $X$.
\end{lemma}

\begin{proof}
This follows immediately from
Lemma \ref{lemma-Noetherian-quasi-compact}.
\end{proof}

\begin{lemma}
\label{lemma-constructible-map-Noetherian}
Let $f : X \to Y$ be a continuous map of Noetherian topological spaces.
If $E \subset Y$ is constructible in $Y$, then $f^{-1}(E)$ is constructible
in $X$.
\end{lemma}

\begin{proof}
Follows immediately from
Lemma \ref{lemma-constructible-Noetherian-space}
and the definition of a continuous map.
\end{proof}

\begin{lemma}
\label{lemma-characterize-constructible-Noetherian}
Let $X$ be a Noetherian topological space.
Let $E \subset X$ be a subset.
The following are equivalent:
\begin{enumerate}
\item $E$ is constructible in $X$, and
\item for every irreducible closed $Z \subset X$ the intersection
$E \cap Z$ either contains a nonempty open of $Z$ or is not dense in $Z$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume $E$ is constructible and $Z \subset X$ irreducible closed.
Then $E \cap Z$ is constructible in $Z$ by
Lemma \ref{lemma-constructible-map-Noetherian}.
Hence $E \cap Z$ is a finite union of nonempty locally closed subsets
$T_i$ of $Z$. Clearly if none of the $T_i$ is open in $Z$, then
$E \cap Z$ is not dense in $Z$. In this way we see that (1) implies (2).

\medskip\noindent
Conversely, assume (2) holds. Consider the set $\mathcal{S}$ of closed
subsets $Y$ of $X$ such that $E \cap Y$ is not constructible in $Y$.
If $\mathcal{S} \not = \emptyset$, then it has a smallest element $Y$
as $X$ is Noetherian.
Let $Y = Y_1 \cup \ldots \cup Y_r$ be the decomposition of $Y$ into its
irreducible components, see
Lemma \ref{lemma-Noetherian}.
If $r > 1$, then each $Y_i \cap E$ is constructible in $Y_i$ and hence
a finite union of locally closed subsets of $Y_i$. Thus $E \cap Y$
is a finite union of locally closed subsets of $Y$ too and we conclude
that $E \cap Y$ is constructible in $Y$ by
Lemma \ref{lemma-constructible-Noetherian-space}.
This is a contradiction and so $r = 1$. If $r = 1$, then $Y$ is
irreducible, and by assumption (2) we see that $E \cap Y$ either
(a) contains an open $V$ of $Y$ or (b) is not dense in $Y$.
In case (a) we see, by minimality of $Y$, that $E \cap (Y \setminus V)$
is a finite union of locally closed subsets of $Y \setminus V$. Thus
$E \cap Y$ is a finite union of locally closed subsets of $Y$ and is
constructible by
Lemma \ref{lemma-constructible-Noetherian-space}.
This is a contradiction and so we must be in case (b).
In case (b) we see that $E \cap Y = E \cap Y'$ for some proper closed
subset $Y' \subset Y$. By minimality of $Y$ we see that
$E \cap Y'$ is a finite union of locally closed subsets of $Y'$ and
we see that $E \cap Y' = E \cap Y$ is a finite union of locally closed
subsets of $Y$ and is constructible by
Lemma \ref{lemma-constructible-Noetherian-space}.
This contradiction finishes the proof of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-constructible-neighbourhood-Noetherian}
Let $X$ be a Noetherian topological space.
Let $x \in X$.
Let $E \subset X$ be constructible in $X$.
The following are equivalent:
\begin{enumerate}
\item $E$ is a neighbourhood of $x$, and
\item for every irreducible closed subset $Y$ of $X$ which contains
$x$ the intersection $E \cap Y$ is dense in $Y$.
\end{enumerate}
\end{lemma}

\begin{proof}
It is clear that (1) implies (2). Assume (2).
Consider the set $\mathcal{S}$ of closed subsets $Y$ of $X$ containing $x$
such that $E \cap Y$ is not a neighbourhood of $x$ in $Y$.
If $\mathcal{S} \not = \emptyset$, then it has a minimal element $Y$
as $X$ is Noetherian. Suppose $Y = Y_1 \cup Y_2$ with two smaller nonempty
closed subsets $Y_1$, $Y_2$. If $x \in Y_i$ for $i = 1, 2$, then $Y_i \cap E$
is a neighbourhood of $x$ in $Y_i$ and we conclude $Y \cap E$ is a
neighbourhood of $x$ in $Y$ which is a contradiction. If $x \in Y_1$ but
$x \not\in Y_2$ (say), then $Y_1 \cap E$ is a neighbourhood of $x$ in
$Y_1$ and hence also in $Y$, which is a contradiction as well.
We conclude that $Y$ is irreducible closed. By assumption (2) we see that
$E \cap Y$ is dense in $Y$. Thus $E \cap Y$ contains an open $V$ of $Y$, see
Lemma \ref{lemma-characterize-constructible-Noetherian}.
If $x \in V$ then $E \cap Y$ is a neighbourhood of $x$ in $Y$ which
is a contradiction. If $x \not \in V$, then $Y' = Y \setminus V$ is a
proper closed subset of $Y$ containing $x$. By minimality of $Y$
we see that $E \cap Y'$ contains an open neighbourhood $V' \subset Y'$
of $x$ in $Y'$. But then $V' \cup V$ is an open neighbourhood of $x$
in $Y$ contained in $E$, a contradiction.
This contradiction finishes the proof of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-characterize-open-Noetherian}
Let $X$ be a Noetherian topological space.
Let $E \subset X$ be a subset.
The following are equivalent:
\begin{enumerate}
\item $E$ is open in $X$, and
\item for every irreducible closed subset $Y$ of $X$
the intersection $E \cap Y$ is either empty or
contains a nonempty open of $Y$.
\end{enumerate}
\end{lemma}

\begin{proof}
This follows formally from
Lemmas \ref{lemma-characterize-constructible-Noetherian} and
\ref{lemma-constructible-neighbourhood-Noetherian}.
\end{proof}







\section{Characterizing proper maps}
\label{section-proper}

\noindent
We include a section discussing the notion of a proper map in usual
topology. It turns out that in topology, the notion of being proper
is the same as the notion of being universally closed, in the sense
that any base change is a closed morphism (not just taking products
with spaces). The reason for doing this is that in algebraic geometry
we use this notion of universal closedness as the basis for our
definition of properness.

\begin{lemma}[Tube lemma]
\label{lemma-tube}
Let $X$ and $Y$ be topological spaces.
Let $A \subset X$ and $B \subset Y$ be quasi-compact subsets.
Let $A \times B \subset W \subset X \times Y$ with $W$
open in $X \times Y$. Then there exists opens $A \subset U \subset X$
and $B \subset V \subset Y$ such that $U \times V \subset W$.
\end{lemma}

\begin{proof}
For every $a \in A$ and $b \in B$ there exist opens
$U_{(a, b)}$ of $X$ and $V_{(a, b)}$ of $Y$ such that
$(a, b) \in U_{(a, b)} \times V_{(a, b)} \subset W$.
Fix $b$ and we see there exist a finite number $a_1, \ldots, a_n$
such that $A \subset U_{(a_1, b)} \cup \ldots \cup U_{(a_n, b)}$.
Hence
$$
A \times \{b\} \subset
(U_{(a_1, b)} \cup \ldots \cup U_{(a_n, b)}) \times
(V_{(a_1, b)} \cap \ldots \cap V_{(a_n, b)}) \subset W.
$$
Thus for every $b \in B$ there exists opens $U_b \subset X$ and
$V_b \subset Y$ such that $A \times \{b\} \subset U_b \times V_b \subset W$.
As above there exist a finite number $b_1, \ldots, b_m$ such
that $B \subset V_{b_1} \cup \ldots \cup V_{b_m}$.
Then we win because
$A \times B \subset
(U_{b_1} \cap \ldots \cap U_{b_m}) \times
(V_{b_1} \cup \ldots \cup V_{b_m})$.
\end{proof}

\noindent
The notation in the following definition may be slightly different
from what you are used to.

\begin{definition}
\label{definition-proper-map}
Let $f : X\to Y$ be a continuous map between topological spaces.
\begin{enumerate}
\item We say that the map $f$ is {\it closed}
iff the image of every closed subset is closed.
\item We say that the map $f$ is {\it proper}\footnote{This is the
terminology used in \cite{Bourbaki}. Usually this is what
is called ``universally closed'' in the literature. Thus our notion
of proper does not involve any separation conditions.} iff
the map $Z \times X\to Z \times Y$ is closed for any topological space
$Z$.
\item We say that the map $f$ is {\it quasi-proper} iff
the inverse image $f^{-1}(V)$ of every quasi-compact subset $V \subset Y$
is quasi-compact.
\item We say that $f$ is {\it universally closed} iff
the map $f': Z \times_Y X \to Z$ is closed for any map $g: Z \to Y$.
\end{enumerate}
\end{definition}

\noindent
The following lemma is useful later.

\begin{lemma}
\label{lemma-characterize-quasi-compact}
\begin{reference}
Combination of
\cite[I, p. 75, Lemme 1]{Bourbaki} and
\cite[I, p. 76, Corrolaire 1]{Bourbaki}.
\end{reference}
A topological space $X$ is quasi-compact if and only if the
projection map $Z \times X \to Z$ is closed for
any topological space $Z$.
\end{lemma}

\begin{proof}
(See also remark below.)
If $X$ is not quasi-compact, there exists an open covering
$X = \bigcup_{i \in I} U_i$ such that no finite
number of $U_i$ cover $X$.
Let $Z$ be the subset of the power set $\mathcal{P}(I)$ of $I$
consisting of $I$ and all nonempty finite subsets of $I$.
Define a topology on $Z$ with as a basis for the topology
the following sets:
\begin{enumerate}
\item All subsets of $Z\setminus\{I\}$.
\item For every finite subset $K$ of $I$ the set
$U_K := \{J\subset I \mid J \in Z, \ K\subset J \})$.
\end{enumerate}
It is left to the reader to verify this is the basis for a topology.
Consider the subset of $Z \times X$ defined by the formula
$$
M = \{(J, x) \mid J \in Z, \ x \in \bigcap\nolimits_{i \in J} U_i^c)\}
$$
If $(J, x) \not \in M$, then $x \in U_i$ for some $i \in J$.
Hence $U_{\{i\}} \times U_i \subset Z \times X$ is an open
subset containing $(J, x)$ and not intersecting $M$. Hence
$M$ is closed. The projection of $M$ to $Z$ is $Z-\{I\}$
which is not closed. Hence $Z \times X \to Z$ is not closed.

\medskip\noindent
Assume $X$ is quasi-compact. Let $Z$ be a topological space.
Let $M \subset  Z \times X$ be closed. Let $z \in Z$ be a point
which is not in $\text{pr}_1(M)$. By the Tube Lemma \ref{lemma-tube}
there exists an open $U \subset Z$ such that $U \times X$ is
contained in the complement of $M$. Hence $\text{pr}_1(M)$ is closed.
\end{proof}

\begin{remark}
\label{remark-lemma-literature}
Lemma \ref{lemma-characterize-quasi-compact} is a combination of
\cite[I, p. 75, Lemme 1]{Bourbaki} and
\cite[I, p. 76, Corollaire 1]{Bourbaki}.
\end{remark}

\begin{theorem}
\label{theorem-characterize-proper}
\begin{reference}
In \cite[I, p. 75, Theorem 1]{Bourbaki} you can find:
(2) $\Leftrightarrow$ (4).
In \cite[I, p. 77, Proposition 6]{Bourbaki} you can find:
(2) $\Rightarrow$ (1).
\end{reference}
Let $f: X\to Y$ be a continuous map between
topological spaces. The following conditions are equivalent:
\begin{enumerate}
\item The map $f$ is quasi-proper and closed.
\item The map $f$ is proper.
\item The map $f$ is universally closed.
\item The map $f$ is closed and $f^{-1}(y)$ is quasi-compact for any
$y\in Y$.
\end{enumerate}
\end{theorem}

\begin{proof}
(See also the remark below.)
If the map $f$ satisfies (1), it automatically satisfies (4) because
any single point is quasi-compact.

\medskip\noindent
Assume map $f$ satisfies (4).
We  will prove it is universally closed, i.e., (3) holds.
Let $g : Z \to Y$ be a continuous map of topological spaces
and consider the diagram
$$
\xymatrix{
Z \times_Y X \ar[r]_{g'} \ar[d]_{f'} & X \ar[d]^f \\
Z \ar[r]^g & Y
}
$$
During the proof we will use that $Z \times_Y X \to Z \times X$
is a homeomorphism onto its image, i.e., that we may identify
$Z \times_Y X$ with the corresponding subset of $Z \times X$ with
the induced topology.
The image of $f' : Z \times_Y X \to Z$ is
$\Im(f') = \{z : g(z) \in f(X)\}$.
Because $f(X)$ is closed, we see that
$\Im(f')$ is a closed subspace of $Z$.
Consider a closed subset $P \subset Z \times_Y X$.
Let $z \in Z$, $z \not \in f'(P)$.
If $z \not \in \Im(f')$, then $Z \setminus \Im(f')$
is an open neighbourhood which avoids $f'(P)$.
If $z$ is in $\Im(f')$
then $(f')^{-1}\{z\} = \{z\} \times f^{-1}\{g(z)\}$
and $f^{-1}\{g(z)\}$
is quasi-compact by assumption. Because $P$ is a closed
subset of $Z \times_Y X$, we have a closed $P'$ of $Z \times X$ such
that $P = P' \cap Z \times_Y X$.
Since $(f')^{-1}\{z\}$ is a subset of $P^c = P'^c \cup (Z \times_Y X)^c$,
and since $(f')^{-1}\{z\}$ is disjoint from $(Z \times_Y X)^c$
we see that $(f')^{-1}\{z\}$ is contained in $P'^c$.
We may apply the Tube Lemma \ref{lemma-tube} to
$(f')^{-1}\{z\} = \{z\} \times f^{-1}\{g(z)\}
\subset (P')^c \subset Z \times X$.
This gives $V \times U$ containing
$(f')^{-1}\{z\}$ where $U$ and $V$ are open sets in $X$ and $Z$
respectively and $V \times U$ has empty intersection with $P'$.
Then the set $V \cap g^{-1}(Y-f(U^c))$ is open in $Z$ since $f$
is closed, contains $z$, and has empty intersection with the image of $P$.
Thus $f'(P)$ is closed. In other words, the map $f$ is universally closed.

\medskip\noindent
The implication (3) $\Rightarrow$ (2) is trivial.
Namely, given any topological space $Z$ consider the projection
morphism $g : Z \times Y \to Y$. Then it is easy to see
that $f'$ is the map $Z \times X \to Z \times Y$, in other
words that $(Z \times Y) \times_Y X = Z \times X$. (This identification
is a purely categorical property having nothing to do with
topological spaces per se.)

\medskip\noindent
Assume $f$ satisfies (2). We will prove it satisfies (1).
Note that $f$ is closed as $f$ can be identified with the map
$\{pt\} \times X \to \{pt\} \times Y$ which is assumed closed.
Choose any quasi-compact subset $K \subset Y$.
Let $Z$ be any topological space.
Because $Z \times X \to Z \times Y$ is closed
we see the map $Z \times f^{-1}(K) \to Z \times K$
is closed (if $T$ is closed in $Z \times f^{-1}(K)$, write
$T = Z \times f^{-1}(K) \cap T'$ for some closed
$T' \subset Z \times X$). Because $K$ is quasi-compact,
$K \times Z\to Z$ is closed by Lemma \ref{lemma-characterize-quasi-compact}.
Hence the composition $Z \times f^{-1}(K)\to Z \times K \to Z$
is closed and therefore $f^{-1}(K)$ must be quasi-compact
by Lemma \ref{lemma-characterize-quasi-compact} again.
\end{proof}

\begin{remark}
\label{remark-proof-literature}
Here are some references to the literature.
In \cite[I, p. 75, Theorem 1]{Bourbaki} you can find:
(2) $\Leftrightarrow$ (4).
In \cite[I, p. 77, Proposition 6]{Bourbaki} you can find:
(2) $\Rightarrow$ (1).
Of course, trivially we have (1) $\Rightarrow$ (4).
Thus (1), (2) and (4) are equivalent.
Fan Zhou claimed and proved that (3) and (4) are equivalent;
let me know if you find a reference in the literature.
\end{remark}

\begin{lemma}
\label{lemma-closed-map}
\begin{slogan}
A map from a compact space to a Hausdorff space is a proper.
\end{slogan}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $X$ is quasi-compact and $Y$ is Hausdorff, then $f$ is proper.
\end{lemma}

\begin{proof}
Since every point of $Y$ is closed, we see from
Lemma \ref{lemma-closed-in-quasi-compact}
that the closed subset $f^{-1}(y)$ of $X$ is quasi-compact for all $y \in Y$.
Thus, by Theorem \ref{theorem-characterize-proper}
it suffices to show that $f$ is closed.
If $E \subset X$ is closed, then it is quasi-compact
(Lemma \ref{lemma-closed-in-quasi-compact}),
hence $f(E) \subset Y$ is quasi-compact
(Lemma \ref{lemma-image-quasi-compact}),
hence $f(E)$ is closed in $Y$
(Lemma \ref{lemma-quasi-compact-in-Hausdorff}).
\end{proof}

\begin{lemma}
\label{lemma-bijective-map}
Let $f : X \to Y$ be a continuous map of topological spaces.
If $f$ is bijective, $X$ is quasi-compact, and $Y$ is Hausdorff,
then $f$ is a homeomorphism.
\end{lemma}

\begin{proof}
This follows immediately from Lemma \ref{lemma-closed-map}
which tells us that $f$ is closed, i.e., $f^{-1}$ is
continuous.
\end{proof}













\section{Jacobson spaces}
\label{section-space-jacobson}

\begin{definition}
\label{definition-space-jacobson}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
We say that $X$ is {\it Jacobson} if every
closed subset $Z \subset X$ is the closure
of $Z \cap X_0$.
\end{definition}

\noindent
Note that a topological space $X$ is Jacobson if and only if
every nonempty locally closed subset of $X$
has a point closed in $X$.

\medskip\noindent
Let $X$ be a Jacobson space and let $X_0$ be the set
of closed points of $X$ with the induced topology.
Clearly, the definition implies that the morphism
$X_0 \to X$ induces a bijection between the closed
subsets of $X_0$ and the closed subsets of $X$.
Thus many properties of $X$ are inherited by $X_0$.
For example, the Krull dimensions of $X$ and $X_0$
are the same.

\begin{lemma}
\label{lemma-jacobson-check-irreducible-closed}
Let $X$ be a topological space. Let $X_0$ be the set
of closed points of $X$.
Suppose that for every point $x\in X$
the intersection $X_0 \cap \overline{\{x\}}$ is dense in $\overline{\{x\}}$.
Then $X$ is Jacobson.
\end{lemma}

\begin{proof}
Let $Z$ be closed subset of $X$
and $U$ be and open subset of $X$
such that $U\cap Z$ is nonempty.
Then for $x\in U\cap Z$ we have that $\overline{\{x\}}\cap U$ is a nonempty
subset of $Z\cap U$,
and by hypothesis it contains a point closed in $X$ as required.
\end{proof}

\begin{lemma}
\label{lemma-non-jacobson-Noetherian-characterize}
Let $X$ be a Kolmogorov topological space with a basis of quasi-compact
open sets.
If $X$ is not Jacobson, then there exists a non-closed point
$x \in X$ such that $\{x\}$ is locally closed.
\end{lemma}

\begin{proof}
As $X$ is not Jacobson there exists a closed set $Z$ and an open set $U$
in $X$ such that $Z \cap U$ is nonempty and does not contain points closed
in $X$. As $X$ has a basis of quasi-compact open sets we may replace $U$
by an open quasi-compact neighborhood of a point in $Z\cap U$ and so we may
assume that $U$ is quasi-compact open. By
Lemma \ref{lemma-quasi-compact-closed-point}, there exists a point
$x \in Z \cap U$ closed in $Z \cap U$,
and so $\{x\}$ is locally closed but not closed in $X$.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Then $X$ is Jacobson if and only if each $U_i$ is Jacobson.
Moreover, in this case $X_0 = \bigcup U_{i, 0}$.
\end{lemma}

\begin{proof}
Let $X$ be a topological space.
Let $X_0$ be the set of closed points of $X$.
Let $U_{i, 0}$ be the set of closed points of
$U_i$. Then $X_0 \cap U_i \subset U_{i, 0}$
but equality may not hold in general.

\medskip\noindent
First, assume that each $U_i$ is Jacobson.
We claim that in this case $X_0 \cap U_i = U_{i, 0}$.
Namely, suppose that $x \in U_{i, 0}$, i.e., $x$ is closed in
$U_i$. Let $\overline{\{x\}}$ be the closure
in $X$. Consider $\overline{\{x\}} \cap U_j$.
If $x \not \in U_j$, then $\overline{\{x\}} \cap U_j = \emptyset$.
If $x \in U_j$, then $U_i \cap U_j \subset U_j$
is an open subset of $U_j$ containing $x$.
Let $T' = U_j \setminus U_i \cap U_j$ and
$T = \{x\} \amalg T'$. Then $T$, $T'$
are closed subsets of $U_j$ and $T$ contains
$x$. As $U_j$ is Jacobson we see that the closed points of
$U_j$ are dense in $T$. Because $T = \{x\} \amalg T'$
this can only be the case if $x$ is closed in $U_j$.
Hence $\overline{\{x\}} \cap U_j = \{x\}$. We conclude
that $\overline{\{x\}} = \{ x \}$ as desired.

\medskip\noindent
Let $Z \subset X$ be a closed subset (still
assuming each $U_i$ is Jacobson).
Since now we know that $X_0 \cap Z  \cap U_i
= U_{i, 0} \cap Z$ are dense in $Z \cap U_i$
it follows immediately that $X_0 \cap Z$ is
dense in $Z$.

\medskip\noindent
Conversely, assume that $X$ is Jacobson.
Let $Z \subset U_i$ be closed. Then
$X_0 \cap \overline{Z}$ is dense in $\overline{Z}$.
Hence also $X_0 \cap Z$ is dense in $Z$, because
$\overline{Z} \setminus Z$ is closed. As $X_0 \cap U_i
\subset U_{i, 0}$ we see that
$U_{i, 0} \cap Z$ is dense in $Z$.
Thus $U_i$ is Jacobson as desired.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-inherited}
Let $X$ be Jacobson. The following types of subsets $T \subset X$
are Jacobson:
\begin{enumerate}
\item Open subspaces.
\item Closed subspaces.
\item Locally closed subspaces.
\item Unions of locally closed subspaces.
\item Constructible sets.
\item Any subset $T \subset X$ which locally on $X$
is a union of locally closed subsets.
\end{enumerate}
In each of these cases closed points of $T$ are
closed in $X$.
\end{lemma}

\begin{proof}
Let $X_0$ be the set of closed points of $X$. For any subset
$T \subset X$ we let $(*)$ denote the property:
\begin{itemize}
\item[(*)] Every nonempty locally closed subset of $T$ has a point
closed in $X$.
\end{itemize}
Note that always $X_0 \cap T \subset T_0$. Hence property $(*)$
implies that $T$ is Jacobson. In addition it clearly implies
that every closed point of $T$ is closed in $X$.

\medskip\noindent
Suppose that $T=\bigcup_i T_i$ with $T_i$ locally closed in $X$.
Take $A\subset T$ a locally closed nonempty subset in $T$,
then there exists a $T_i$ such that $A\cap T_i$ is nonempty, it is
locally closed in $T_i$ and so in $X$.
As $X$ is Jacobson $A$ has a point closed in $X$.
\end{proof}

\begin{lemma}
\label{lemma-finite-jacobson}
A finite Jacobson space is discrete.
\end{lemma}

\begin{proof}
If $X$ is finite Jacobson, $X_0 \subset X$ the subset of closed points,
then, on the one hand, $\overline{X_0} = X$. On the other hand, $X$,
and hence $X_0$ is finite, so
$X_0 =\{x_1, \ldots, x_n\} = \bigcup_{i = 1, \ldots, n} \{x_i\}$
is a finite union of closed sets, hence closed, so
$X = \overline{X_0} = X_0$. Every point is closed, and by
finiteness, every point is open.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-locally-closed}
\begin{slogan}
For Jacobson spaces, closed points see everything about the topology.
\end{slogan}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{finite unions loc.\ closed subsets of } X\}
\leftrightarrow
\{\text{finite unions loc.\ closed subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subsets of locally closed, of open and of closed subsets.
\end{lemma}

\begin{proof}
We just prove that the correspondence $E \mapsto E \cap X_0$ is injective.
Indeed if $E\neq E'$ then without loss of generality $E\setminus E'$ is
nonempty, and it is a finite union of locally closed sets (details omitted).
As $X$ is Jacobson, we see that
$(E \setminus E') \cap X_0 = E \cap X_0 \setminus E' \cap X_0$ is not empty.
\end{proof}

\begin{lemma}
\label{lemma-jacobson-equivalent-constructible}
Suppose $X$ is a Jacobson topological space.
Let $X_0$ be the set of closed points of $X$.
There is a bijective, inclusion preserving correspondence
$$
\{\text{constructible subsets of } X\}
\leftrightarrow
\{\text{constructible subsets of } X_0\}
$$
given by $E \mapsto E \cap X_0$. This correspondence preserves
the subset of retrocompact open subsets, as well as complements
of these.
\end{lemma}

\begin{proof}
From  Lemma \ref{lemma-jacobson-equivalent-locally-closed} above,
we just have to see that if $U$ is open in $X$ then $U\cap X_0$ is
retrocompact in $X_0$ if and only if $U$ is retrocompact in $X$.
This follows if we prove that for $U$ open in $X$ then $U\cap X_0$ is
quasi-compact if and only if $U$ is quasi-compact.
From  Lemma \ref{lemma-jacobson-inherited} it follows that we may replace
$X$ by $U$ and assume that $U = X$.
Finally notice that any collection of opens $\mathcal{U}$ of $X$ cover
$X$ if and only if they cover $X_0$, using the Jacobson property
of $X$ in the closed $X\setminus \bigcup \mathcal{U}$ to find a point
in $X_0$ if it were nonempty.
\end{proof}



















\section{Specialization}
\label{section-specialization}

\begin{definition}
\label{definition-specialization}
Let $X$ be a topological space.
\begin{enumerate}
\item If $x, x' \in X$ then we say $x$ is a {\it specialization} of $x'$,
or $x'$ is a {\it generalization} of $x$ if $x \in \overline{\{x'\}}$.
Notation: $x' \leadsto x$.
\item A subset $T \subset X$ is {\it stable under specialization}
if for all $x' \in T$ and every specialization $x' \leadsto x$ we have
$x \in T$.
\item A subset $T \subset X$ is {\it stable under generalization}
if for all $x \in T$ and every generalization $x' \leadsto x$ we have
$x' \in T$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-open-closed-specialization}
Let $X$ be a topological space.
\begin{enumerate}
\item Any closed subset of $X$ is stable under specialization.
\item Any open subset of $X$ is stable under generalization.
\item A subset $T \subset X$ is stable under specialization
if and only if
the complement $T^c$ is stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-stable-specialization}
Let $T \subset X$ be a subset of a topological space $X$.
The following are equivalent
\begin{enumerate}
\item $T$ is stable under specialization, and
\item $T$ is a (directed) union of closed subsets of $X$.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-lift-specializations}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item We say that {\it specializations lift along $f$} or that $f$ is
{\it specializing} if given $y' \leadsto y$ in $Y$ and any $x'\in X$ with
$f(x') = y'$ there exists a specialization $x' \leadsto x$ of $x'$ in $X$ such
that $f(x) = y$.
\item We say that {\it generalizations lift along $f$} or that $f$ is
{\it generalizing} if given $y' \leadsto y$ in $Y$ and any $x\in X$ with
$f(x) = y$ there exists a generalization $x' \leadsto x$ of $x$ in $X$ such
that $f(x') = y'$.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-lift-specialization-composition}
Suppose $f : X \to Y$ and $g : Y \to Z$ are continuous maps
of topological spaces. If specializations lift along both $f$ and $g$
then specializations lift along $g \circ f$. Similarly for
``generalizations lift along''.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-lift-specializations-images}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If specializations lift along $f$, and if $T \subset X$
is stable under specialization, then $f(T) \subset Y$ is
stable under specialization.
\item If generalizations lift along $f$, and if $T \subset X$
is stable under generalization, then $f(T) \subset Y$ is
stable under generalization.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-closed-open-map-specialization}
Let $f : X \to Y$ be a continuous map of topological spaces.
\begin{enumerate}
\item If $f$ is closed then specializations lift along $f$.
\item If $f$ is open, $X$ is a Noetherian topological space,
each irreducible closed subset of $X$ has a generic point,
and $Y$ is Kolmogorov then generalizations lift along $f$.
\end{enumerate}
\end{lemma}

\begin{proof}
Assume $f$ is closed. Let $y' \leadsto y$ in $Y$ and any $x'\in X$ with
$f(x') = y'$ be given. Consider the closed subset $T = \overline{\{x'\}}$
of $X$. Then $f(T) \subset Y$ is a closed subset, and $y' \in f(T)$.
Hence also $y \in f(T)$. Hence $y = f(x)$ with $x \in T$, i.e.,
$x' \leadsto x$.

\medskip\noindent
Assume $f$ is open, $X$ Noetherian, every irreducible closed subset of $X$
has a generic point, and $Y$ is Kolmogorov.
Let $y' \leadsto y$ in $Y$ and any $x \in X$ with
$f(x) = y$ be given. Consider $T = f^{-1}(\{y'\}) \subset X$.
Take an open neighbourhood $x \in U \subset X$ of $x$.
Then $f(U) \subset Y$ is open and $y \in f(U)$. Hence also $y' \in f(U)$.
In other words, $T \cap U \not = \emptyset$. This proves that
$x \in \overline{T}$. Since $X$ is Noetherian, $T$ is Noetherian
(Lemma \ref{lemma-Noetherian}).
Hence it has a decomposition $T = T_1 \cup \ldots \cup T_n$ into irreducible
components. Then correspondingly
$\overline{T} = \overline{T_1} \cup \ldots \cup \overline{T_n}$.
By the above $x \in \overline{T_i}$ for some $i$. By assumption
there exists a generic point $x' \in \overline{T_i}$, and
we see that $x' \leadsto x$. As $x' \in \overline{T}$ we see that
$f(x') \in \overline{\{y'\}}$. Note that
$f(\overline{T_i}) = f(\overline{\{x'\}}) \subset \overline{\{f(x')\}}$.
If $f(x') \not = y'$, then since $Y$ is Kolmogorov $f(x')$ is not a generic
point of the irreducible closed subset $\overline{\{y'\}}$ and the inclusion
$\overline{\{f(x')\}} \subset \overline{\{y'\}}$
is strict, i.e., $y' \not \in f(\overline{T_i})$.
This contradicts the fact that $f(T_i) = \{y'\}$.
Hence $f(x') = y'$ and we win.
\end{proof}

\begin{lemma}
\label{lemma-quotient-kolmogorov}
Suppose that $s, t : R \to U$ and $\pi : U \to X$ are continuous maps
of topological spaces such that
\begin{enumerate}
\item $\pi$ is open,
\item $U$ is sober,
\item $s, t$ have finite fibres,
\item generalizations lift along $s, t$,
\item $(t, s)(R) \subset U \times U$ is an equivalence relation on $U$ and
$X$ is the quotient of $U$ by this equivalence relation (as a set).
\end{enumerate}
Then $X$ is Kolmogorov.
\end{lemma}

\begin{proof}
Properties (3) and (5) imply that a point $x$ corresponds to an
finite equivalence class $\{u_1, \ldots, u_n\} \subset U$ of the equivalence
relation. Suppose that $x' \in X$ is a second point corresponding to
the equivalence class $\{u'_1, \ldots, u'_m\} \subset U$.
Suppose that $u_i \leadsto u'_j$ for some $i, j$. Then for any
$r' \in R$ with $s(r') = u'_j$ by (4) we can find $r \leadsto r'$
with $s(r) = u_i$. Hence $t(r) \leadsto t(r')$. Since
$\{u'_1, \ldots, u'_m\} = t(s^{-1}(\{u'_j\}))$ we conclude that
every element of $\{u'_1, \ldots, u'_m\}$ is the specialization of
an element of $\{u_1, \ldots, u_n\}$.
Thus $\overline{\{u_1\}} \cup \ldots \cup \overline{\{u_n\}}$ is
a union of equivalence classes, hence of the form $\pi^{-1}(Z)$
for some subset $Z \subset X$. By (1) we see that $Z$ is closed in $X$
and in fact $Z = \overline{\{x\}}$ because $\pi(\overline{\{u_i\}})
\subset \overline{\{x\}}$ for each $i$. In other words, $x \leadsto x'$
if and only if some lift of $x$ in $U$ specializes to some lift of
$x'$ in $U$, if and only if every lift of $x'$ in $U$ is a specialization
of some lift of $x$ in $U$.

\medskip\noindent
Suppose that both $x \leadsto x'$ and $x' \leadsto x$. Say $x$ corresponds
to $\{u_1, \ldots, u_n\}$ and $x'$ corresponds to $\{u'_1, \ldots, u'_m\}$
as above. Then, by the results of the preceding paragraph, we can find a
sequence
$$
\ldots \leadsto u'_{j_3} \leadsto u_{i_3} \leadsto u'_{j_2} \leadsto
u_{i_2} \leadsto u'_{j_1} \leadsto u_{i_1}
$$
which must repeat, hence by (2) we conclude that
$\{u_1, \ldots, u_n\} = \{u'_1, \ldots, u'_m\}$, i.e., $x = x'$.
Thus $X$ is Kolmogorov.
\end{proof}


\begin{lemma}
\label{lemma-dimension-specializations-lift}
Let $f : X \to Y$ be a morphism of topological spaces.
Suppose that $Y$ is a sober topological space, and $f$ is surjective.
If either specializations or generalizations lift along $f$, then
$\dim(X) \geq \dim(Y)$.
\end{lemma}

\begin{proof}
Assume specializations lift along $f$.
Let $Z_0 \subset Z_1 \subset \ldots Z_e \subset Y$ be a chain
of irreducible closed subsets of $X$. Let $\xi_e \in X$ be a point
mapping to the generic point of $Z_e$. By assumption there
exists a specialization
$\xi_e \leadsto \xi_{e - 1}$ in $X$ such that $\xi_{e - 1}$ maps to
the generic point of $Z_{e - 1}$. Continuing in this manner we find
a sequence of specializations
$$
\xi_e \leadsto \xi_{e - 1} \leadsto \ldots \leadsto \xi_0
$$
with $\xi_i$ mapping to the generic point of $Z_i$.
This clearly implies the sequence of irreducible closed
subsets
$$
\overline{\{\xi_0\}} \subset
\overline{\{\xi_1\}} \subset \ldots
\overline{\{\xi_e\}}
$$
is a chain of length $e$ in $X$.
The case when generalizations lift along $f$ is similar.
\end{proof}

\begin{lemma}
\label{lemma-characterize-closed-Noetherian}
Let $X$ be a Noetherian sober topological space.
Let $E \subset X$ be a subset of $X$.
\begin{enumerate}
\item If $E$ is constructible and stable under specialization, then
$E$ is closed.
\item If $E$ is constructible and stable under generalization, then
$E$ is open.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $E$ be constructible and stable under generalization.
Let $Y \subset X$ be an irreducible closed subset with generic point
$\xi \in Y$. If $E \cap Y$ is nonempty, then it contains $\xi$ (by
stability under generalization) and hence is dense in $Y$, hence it
contains a nonempty open of $Y$, see
Lemma \ref{lemma-characterize-constructible-Noetherian}.
Thus $E$ is open by
Lemma \ref{lemma-characterize-open-Noetherian}.
This proves (2). To prove (1) apply (2) to the complement of $E$ in $X$.
\end{proof}









\section{Dimension functions}
\label{section-dimension-function}

\noindent
It scarcely makes sense to consider dimension functions unless the space
considered is sober (Definition \ref{definition-generic-point}). Thus the
definition below can be improved by considering the sober topological space
associated to $X$. Since the underlying topological space of a scheme
is sober we do not bother with this improvement.

\begin{definition}
\label{definition-dimension-function}
Let $X$ be a topological space.
\begin{enumerate}
\item  Let $x, y \in X$, $x \not = y$. Suppose $x \leadsto y$, that
is $y$ is a specialization of $x$.
We say $y$ is an {\it immediate specialization}
of $x$ if there is no
$z \in X \setminus \{x, y\}$ with $x \leadsto z$ and $z \leadsto y$.
\item A map $\delta : X \to \mathbf{Z}$ is called a
{\it dimension function}\footnote{This is likely nonstandard
notation. This notion is usually introduced only for (locally) Noetherian
schemes, in which case condition (a) is implied by (b).} if
\begin{enumerate}
\item whenever $x \leadsto y$ and $x \not = y$
we have $\delta(x) > \delta(y)$, and
\item for every immediate specialization $x \leadsto y$ in $X$
we have $\delta(x) = \delta(y) + 1$.
\end{enumerate}
\end{enumerate}
\end{definition}

\noindent
It is clear that if $\delta$ is a dimension function, then so is
$\delta + t$ for any $t \in \mathbf{Z}$. Here is a fun lemma.

\begin{lemma}
\label{lemma-dimension-function-catenary}
Let $X$ be a topological space. If $X$ is sober and has a dimension
function, then $X$ is catenary. Moreover, for any $x \leadsto y$
we have
$$
\delta(x) - \delta(y) =
\text{codim}\left(\overline{\{y\}}, \ \overline{\{x\}}\right).
$$
\end{lemma}

\begin{proof}
Suppose $Y \subset Y' \subset X$ are irreducible closed subsets.
Let $\xi \in Y$, $\xi' \in Y'$ be their generic points.
Then we see immediately from the definitions that
$\text{codim}(Y, Y') \leq \delta(\xi) - \delta(\xi') < \infty$.
In fact the first inequality is an equality. Namely, suppose
$$
Y = Y_0 \subset Y_1 \subset \ldots \subset Y_e = Y'
$$
is any maximal chain of irreducible closed subsets. Let
$\xi_i \in Y_i$ denote the generic point. Then we see that
$\xi_i \leadsto \xi_{i + 1}$ is an immediate specialization.
Hence we see that $e = \delta(\xi) - \delta(\xi')$ as desired.
This also proves the last statement of the lemma.
\end{proof}

\begin{lemma}
\label{lemma-dimension-function-unique}
Let $X$ be a topological space.
Let $\delta$, $\delta'$ be two dimension functions on $X$.
If $X$ is locally Noetherian and sober then $\delta - \delta'$ is
locally constant on $X$.
\end{lemma}

\begin{proof}
Let $x \in X$ be a point. We will show that $\delta - \delta'$ is
constant in a neighbourhood of $x$.
We may replace $X$ by an open neighbourhood
of $x$ in $X$ which is Noetherian. Hence we may assume $X$ is
Noetherian and sober.
Let $Z_1, \ldots, Z_r$ be the irreducible
components of $X$ passing through $x$. (There are finitely many as
$X$ is Noetherian, see Lemma \ref{lemma-Noetherian}.)
Let $\xi_i \in Z_i$ be the generic point.
Note $Z_1 \cup \ldots \cup Z_r$ is a neighbourhood of $x$ in $X$
(not necessarily closed). We claim that $\delta - \delta'$ is
constant on $Z_1 \cup \ldots \cup Z_r$. Namely, if $y \in Z_i$,
then
$$
\delta(x) - \delta(y) = \delta(x) - \delta(\xi_i) + \delta(\xi_i) - \delta(y)
= - \text{codim}(\overline{\{x\}}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_i)
$$
by Lemma \ref{lemma-dimension-function-catenary}.
Similarly for $\delta'$. Whence the result.
\end{proof}

\begin{lemma}
\label{lemma-locally-dimension-function}
Let $X$ be locally Noetherian, sober and catenary.
Then any point has an open neighbourhood
$U \subset X$ which has a dimension function.
\end{lemma}

\begin{proof}
We will use repeatedly
that an open subspace of a catenary space is catenary, see
Lemma \ref{lemma-catenary} and that a Noetherian topological space
has finitely many irreducible components, see Lemma \ref{lemma-Noetherian}.
In the proof of Lemma \ref{lemma-dimension-function-unique} we saw how to
construct such a function. Namely, we first replace $X$ by a Noetherian
open neighbourhood of $x$. Next, we let $Z_1, \ldots, Z_r \subset X$
be the irreducible components of $X$. Let
$$
Z_i \cap Z_j = \bigcup Z_{ijk}
$$
be the decomposition into irreducible components. We replace
$X$ by
$$
X \setminus \left(
\bigcup\nolimits_{x \not \in Z_i} Z_i
\cup
\bigcup\nolimits_{x \not \in Z_{ijk}} Z_{ijk}
\right)
$$
so that we may assume $x \in Z_i$ for all $i$ and
$x \in Z_{ijk}$ for all $i, j, k$. For $y \in X$ choose any
$i$ such that $y \in Z_i$ and set
$$
\delta(y) = - \text{codim}(\overline{\{x\}}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_i).
$$
We claim this is a dimension function. First we show that it
is well defined, i.e., independent of the choice of $i$.
Namely, suppose that $y \in Z_{ijk}$ for some $i, j, k$.
Then we have (using Lemma \ref{lemma-catenary-in-codimension})
\begin{align*}
\delta(y) & =
- \text{codim}(\overline{\{x\}}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_i) \\
& =
- \text{codim}(\overline{\{x\}}, Z_{ijk})
- \text{codim}(Z_{ijk}, Z_i)
+ \text{codim}(\overline{\{y\}}, Z_{ijk})
+ \text{codim}(Z_{ijk}, Z_i) \\
& =
- \text{codim}(\overline{\{x\}}, Z_{ijk})
+ \text{codim}(\overline{\{y\}}, Z_{ijk})
\end{align*}
which is symmetric in $i$ and $j$.
We omit the proof that it is a dimension function.
\end{proof}

\begin{remark}
\label{remark-obstruction-to-dimension-function}
Combining Lemmas \ref{lemma-dimension-function-unique} and
\ref{lemma-locally-dimension-function} we see that on a catenary,
locally Noetherian, sober topological space the obstruction to
having a dimension function is an element of
$H^1(X, \mathbf{Z})$.
\end{remark}



\section{Nowhere dense sets}
\label{section-nowhere-dense}

\begin{definition}
\label{definition-nowhere-dense}
Let $X$ be a topological space.
\begin{enumerate}
\item Given a subset $T \subset X$ the {\it interior} of $T$ is the
largest open subset of $X$ contained in $T$.
\item A subset $T \subset X$ is called {\it nowhere dense} if the closure of
$T$ has empty interior.
\end{enumerate}
\end{definition}

\begin{lemma}
\label{lemma-nowhere-dense}
Let $X$ be a topological space. The union of a finite number of nowhere
dense sets is a nowhere dense set.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-image-nowhere-dense-open}
Let $X$ be a topological space.
Let $U \subset X$ be an open.
Let $T \subset U$ be a subset.
If $T$ is nowhere dense in $U$, then $T$ is nowhere dense in $X$.
\end{lemma}

\begin{proof}
Assume $T$ is nowhere dense in $U$.
Suppose that $x \in X$ is an interior point of the closure
$\overline{T}$ of $T$ in $X$. Say $x \in V \subset \overline{T}$
with $V \subset X$ open in $X$. Note that $\overline{T} \cap U$ is
the closure of $T$ in $U$. Hence the interior of $\overline{T} \cap U$
being empty implies $V \cap U = \emptyset$. Thus $x$ cannot be in the
closure of $U$, a fortiori cannot be in the closure of $T$, a contradiction.
\end{proof}

\begin{lemma}
\label{lemma-nowhere-dense-local}
Let $X$ be a topological space.
Let $X = \bigcup U_i$ be an open covering.
Let $T \subset X$ be a subset.
If $T \cap U_i$ is nowhere dense in $U_i$ for all $i$,
then $T$ is nowhere dense in $X$.
\end{lemma}

\begin{proof}
Omitted. (Hint: closure commutes with intersecting with opens.)
\end{proof}

\begin{lemma}
\label{lemma-closed-image-nowhere-dense}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $T \subset X$ be a subset.
If $f$ is a homeomorphism of $X$ onto a closed subset of $Y$
and $T$ is nowhere dense in $X$, then also $f(T)$ is nowhere dense in $Y$.
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{lemma}
\label{lemma-open-inverse-image-closed-nowhere-dense}
Let $f : X \to Y$ be a continuous map of topological spaces.
Let $T \subset Y$ be a subset.
If $f$ is open and $T$ is a closed nowhere dense subset of $Y$,
then also $f^{-1}(T)$ is a closed nowhere dense subset of $X$.
If $f$ is surjective and open, then
$T$ is closed nowhere dense if and only
if $f^{-1}(T)$ is closed nowhere dense.
\end{lemma}

\begin{proof}
Omitted. (Hint: In the first case the interior of $f^{-1}(T)$
maps into the interior of $T$, and in the second case the interior of
$f^{-1}(T)$ maps onto the interior of $T$.)
\end{proof}






\section{Profinite spaces}
\label{section-profinite}

\noindent
Here is the definition.

\begin{definition}
\label{definition-profinite}
A topological space is {\it profinite} if it is homeomorphic to a limit
of a diagram of finite discrete spaces.
\end{definition}

\noindent
This is not the most convenient characterization of a profinite space.

\begin{lemma}
\label{lemma-profinite}
Let $X$ be a topological space.
The following are equivalent
\begin{enumerate}
\item $X$ is a profinite space, and
\item $X$ is Hausdorff, quasi-compact, and totally disconnected.
\end{enumerate}
If this is true, then $X$ is a cofiltered limit of finite discrete
spaces.
\end{lemma}

\begin{proof}
Assume (1). Choose a diagram $i \mapsto X_i$ of finite discrete spaces
such that $X = \lim X_i$. As each $X_i$ is Hausdorff and quasi-compact we find
that $X$ is quasi-compact by Lemma \ref{lemma-inverse-limit-quasi-compact}.
If $x, x' \in X$ are distinct points, then $x$ and $x'$ map to
distinct points in some $X_i$. Hence $x$ and $x'$ have disjoint
open neighbourhoods, i.e., $X$ is Hausdorff. In exactly the same way
we see that $X$ is totally disconnected.

\medskip\noindent
Assume (2). Let $\mathcal{I}$ be the set of finite disjoint union
decompositions $X = \coprod_{i \in I} U_i$ with $U_i$ nonempty open
(and closed) for all $i \in I$.
For each $I \in \mathcal{I}$ there is a continuous map
$X \to I$ sending a point of $U_i$ to $i$. We define a partial
ordering: $I \leq I'$ for $I, I' \in \mathcal{I}$ if and only
if the covering corresponding to $I'$ refines the covering corresponding
to $I$. In this case we obtain a canonical map $I' \to I$. In other
words we obtain an inverse system of finite discrete spaces over $\mathcal{I}$.
The maps $X \to I$ fit together and we obtain a continuous map
$$
X \longrightarrow \lim_{I \in \mathcal{I}} I
$$
We claim this map is a homeomorphism, which finishes the proof.
(The final assertion follows too as the partially ordered set
$\mathcal{I}$ is directed: given two disjoint union decompositions
of $X$ we can find a third refining both.)
Namely, the map is injective as $X$ is totally disconnected
and hence $\{x\}$ is the intersection of all open and closed subsets
of $X$ containing $x$
(Lemma \ref{lemma-connected-component-intersection-compact-Hausdorff})
and  the map is surjective by
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
By Lemma \ref{lemma-bijective-map} the map is a homeomorphism.
\end{proof}

\begin{lemma}
\label{lemma-directed-inverse-limit-profinite}
A cofiltered limit of profinite spaces is profinite.
\end{lemma}

\begin{proof}
Let us use the characterization of profinite spaces in
Lemma \ref{lemma-profinite}.
By Lemma \ref{lemma-limits} the limit exists.
By Theorem \ref{theorem-tychonov}
the limit is quasi-compact. A cofiltered limit of
totally disconnected spaces is totally disconnected
(details omitted). A cofiltered limit of Hausdorff spaces is Hausdorff
(details omitted). This finishes the proof.
\end{proof}

\begin{lemma}
\label{lemma-profinite-refine-open-covering}
Let $X$ be a profinite space. Every open covering of $X$ has a refinement
by a finite covering $X = \coprod U_i$ with $U_i$ open and closed.
\end{lemma}

\begin{proof}
Write $X = \lim X_i$ as a limit of an inverse system of finite discrete
spaces over a directed set $I$ (Lemma \ref{lemma-profinite}).
Denote $f_i : X \to X_i$ the projection.
For every point $x = (x_i) \in X$ a fundamental system of open neighbourhoods
is the collection $f_i^{-1}(\{x_i\})$. Thus, as $X$ is quasi-compact, we may
assume we have an open covering
$$
X = f_{i_1}^{-1}(\{x_{i_1}\}) \cup \ldots \cup f_{i_n}^{-1}(\{x_{i_n}\})
$$
Choose $i \in I$ with $i \geq i_j$ for $j = 1, \ldots, n$ (this is possible
as $I$ is a directed set). Then we see
that the covering
$$
X = \coprod\nolimits_{t \in X_i} f_i^{-1}(\{t\})
$$
refines the given covering and is of the desired form.
\end{proof}

\begin{lemma}
\label{lemma-pi0-profinite}
Let $X$ be a topological space. If $X$ is quasi-compact
and every connected component of $X$ is the intersection
of the open and closed subsets containing it, then $\pi_0(X)$
is a profinite space.
\end{lemma}

\begin{proof}
We will use Lemma \ref{lemma-profinite} to prove this.
Since $\pi_0(X)$ is the image of a quasi-compact space it is
quasi-compact (Lemma \ref{lemma-image-quasi-compact}).
It is totally disconnected by construction
(Lemma \ref{lemma-space-connected-components}).
Let $C, D \subset X$ be distinct connected components of $X$.
Write $C = \bigcap U_\alpha$ as the intersection of the open and
closed subsets of $X$ containing $C$. Any finite intersection
of $U_\alpha$'s is another. Since $\bigcap U_\alpha \cap D = \emptyset$
we conclude that $U_\alpha \cap D = \emptyset$ for some $\alpha$
(use Lemmas \ref{lemma-connected-components},
\ref{lemma-closed-in-quasi-compact} and
\ref{lemma-intersection-closed-in-quasi-compact})
Since $U_\alpha$ is open and closed, it is the union of the
connected components it contains, i.e., $U_\alpha$ is the inverse
image of some open and closed subset $V_\alpha \subset \pi_0(X)$.
This proves that the points corresponding to $C$ and $D$
are contained in disjoint open subsets, i.e., $\pi_0(X)$ is
Hausdorff.
\end{proof}






\section{Spectral spaces}
\label{section-spectral}

\noindent
The material in this section is taken from \cite{Hochster} and
\cite{Hochster-thesis}. In his thesis Hochster proves (among
other things) that the spectral spaces are exactly the topological
spaces that occur as the spectrum of a ring.

\begin{definition}
\label{definition-spectral-space}
A topological space $X$ is called {\it spectral} if it is sober,
quasi-compact, the intersection of two quasi-compact opens is
quasi-compact, and the collection of quasi-compact opens forms a
basis for the topology. A continuous map $f : X \to Y$ of spectral
spaces is called {\it spectral} if the inverse image of a quasi-compact
open is quasi-compact.
\end{definition}

\noindent
In other words a continuous map of spectral spaces is spectral if and
only if it is quasi-compact (Definition \ref{definition-quasi-compact}).

\medskip\noindent
Let $X$ be a spectral space. The {\it constructible topology} on $X$
is the topology which has as a subbase of opens the sets $U$ and $U^c$
where $U$ is a quasi-compact open of $X$. Note that since $X$ is spectral
an open $U \subset X$ is retrocompact if and only if $U$ is quasi-compact.
Hence the constructible topology can also be characterized as the coarsest
topology such that every constructible subset of $X$ is both open and closed.
Since the collection of quasi-compact opens is a basis for the topology
on $X$ we see that the constructible topology is stronger than the
given topology on $X$.

\begin{lemma}
\label{lemma-constructible-hausdorff-quasi-compact}
Let $X$ be a spectral space. The constructible topology is
Hausdorff, totally disconnected, and quasi-compact.
\end{lemma}

\begin{proof}
Let $x, y \in X$ with $x \not = y$. Since $X$ is sober, there
is an open subset $U$ containing exactly one of the two points $x, y$.
Say $x \in U$. We may replace $U$ by a quasi-compact open
neighbourhood of $x$ contained in $U$. Then $U$ and $U^c$ are open and
closed in the constructible topology. Hence $X$ is Hausdorff in the
constructible topology because $x \in U$ and $y \in U^c$ are
disjoint opens in the constructible topology. The existence of $U$
also implies $x$ and $y$ are in distinct connected components in the
constructible topology, whence $X$ is totally disconnected in the
constructible topology.

\medskip\noindent
Let $\mathcal{B}$ be the collection of subsets $B \subset X$
with $B$ either quasi-compact open or closed with quasi-compact
complement. If $B \in \mathcal{B}$ then $B^c \in \mathcal{B}$.
It suffices to show every covering $X = \bigcup_{i \in I} B_i$
with $B_i \in \mathcal{B}$ has a finite refinement, see
Lemma \ref{lemma-subbase-theorem}.
Taking complements we see that we have to show that any family
$\{B_i\}_{i \in I}$ of elements of $\mathcal{B}$
such that $B_{i_1} \cap \ldots \cap B_{i_n} \not = \emptyset$
for all $n$ and all $i_1, \ldots, i_n \in I$
has a common point of intersection. We may and do assume
$B_i \not = B_{i'}$ for $i \not = i'$.

\medskip\noindent
To get a contradiction assume $\{B_i\}_{i \in I}$ is a family
of elements of $\mathcal{B}$ having the finite intersection property
but empty intersection. An application of Zorn's lemma shows that we
may assume our family is maximal (details omitted).
Let $I' \subset I$ be those indices such that
$B_i$ is closed and set $Z = \bigcap_{i \in I'} B_i$. This is a closed
subset of $X$. If $Z$ is reducible, then we can write $Z = Z' \cup Z''$
as a union of two closed subsets, neither equal to $Z$. This means in
particular that we can find a quasi-compact open $U' \subset X$ meeting
$Z'$ but not $Z''$. Similarly, we can find a quasi-compact open
$U'' \subset X$ meeting $Z''$ but not $Z'$. Set $B' = X \setminus U'$ and
$B'' = X \setminus U''$. Note that $Z'' \subset B'$ and $Z' \subset B''$.
If there exist a finite number of indices $i_1, \ldots, i_n \in I$ such
that $B' \cap B_{i_1} \cap \ldots \cap B_{i_n} = \emptyset$
as well as a finite number of indices $j_1, \ldots, j_m \in I$ such that
$B'' \cap B_{j_1} \cap \ldots \cap B_{j_m} = \emptyset$
then we find that
$Z \cap B_{i_1} \cap \ldots \cap B_{i_n} \cap B_{j_1} \cap \ldots \cap B_{j_m}
= \emptyset$.
However, the set
$B_{i_1} \cap \ldots \cap B_{i_n} \cap B_{j_1} \cap \ldots \cap B_{j_m}$
is quasi-compact hence we would find a finite number of
indices $i'_1, \ldots, i'_l \in I'$ with
$B_{i_1} \cap \ldots \cap B_{i_n} \cap B_{j_1} \cap \ldots \cap
B_{j_m} \cap B_{i'_1} \cap \ldots \cap B_{i'_l} = \emptyset$, a contradiction.
Thus we see that we may add either $B'$ or $B''$ to the given family
contradicting maximality. We conclude that $Z$ is irreducible. However,
this leads to a contradiction as well, as now every nonempty (by the
same argument as above) open $Z \cap B_i$ for $i \in I \setminus I'$
contains the unique generic point of $Z$. This contradiction proves the lemma.
\end{proof}

\begin{lemma}
\label{lemma-fibres-spectral-map-quasi-compact}
Let $f : X \to Y$ be a spectral map of spectral spaces. Then
\begin{enumerate}
\item $f$ is continuous in the constructible topology,
\item the fibres of $f$ are quasi-compact, and
\item the image is closed in the constructible topology.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $X'$ and $Y'$ denote $X$ and $Y$ endowed with the constructible topology
which are quasi-compact Hausdorff spaces by
Lemma \ref{lemma-constructible-hausdorff-quasi-compact}.
Part (1) says $X' \to Y'$ is continuous and follows immediately from the
definitions. Part (3) follows as $f(X')$ is a quasi-compact subset of the
Hausdorff space $Y'$, see Lemma \ref{lemma-quasi-compact-in-Hausdorff}.
We have a commutative diagram
$$
\xymatrix{
X' \ar[r] \ar[d] & X \ar[d] \\
Y' \ar[r] & Y
}
$$
of continuous maps of topological spaces. Since $Y'$ is Hausdorff
we see that the fibres $X'_y$ are closed in $X'$. As $X'$ is quasi-compact
we see that $X'_y$ is quasi-compact
(Lemma \ref{lemma-closed-in-quasi-compact}).
As $X'_y \to X_y$ is a surjective continuous map we conclude
that $X_y$ is quasi-compact (Lemma \ref{lemma-image-quasi-compact}).
\end{proof}

\begin{lemma}
\label{lemma-spectral-sub}
Let $X$ be a spectral space. Let $E \subset X$ be closed in the constructible
topology (for example constructible or closed). Then $E$ with the induced
topology is a spectral space.
\end{lemma}

\begin{proof}
Let $Z \subset E$ be a closed irreducible subset. Let $\eta$ be the generic
point of the closure $\overline{Z}$ of $Z$ in $X$. To prove that $E$
is sober, we show that $\eta \in E$. If not, then since $E$ is closed
in the constructible topology, there exists a constructible subset
$F \subset X$ such that $\eta \in F$ and $F \cap E = \emptyset$.
By Lemma \ref{lemma-generic-point-in-constructible} this implies
$F \cap \overline{Z}$ contains a nonempty open subset of $\overline{Z}$.
But this is impossible as $\overline{Z}$ is the closure of $Z$ and
$Z \cap F = \emptyset$.

\medskip\noindent
Since $E$ is closed in the constructible topology, it is quasi-compact
in the constructible topology
(Lemmas \ref{lemma-closed-in-quasi-compact} and
\ref{lemma-constructible-hausdorff-quasi-compact}). Hence a fortiori it is
quasi-compact in the topology coming from $X$. If $U \subset X$
is a quasi-compact open, then $E \cap U$ is closed in the constructible
topology, hence quasi-compact (as seen above). It follows that the
quasi-compact open subsets of $E$ are the intersections $E \cap U$
with $U$ quasi-compact open in $X$. These form a basis for the topology.
Finally, given two $U, U' \subset X$ quasi-compact opens, the intersection
$(E \cap U) \cap (E \cap U') = E \cap (U \cap U')$ and $U \cap U'$
is quasi-compact as $X$ is spectral. This finishes the proof.
\end{proof}

\begin{lemma}
\label{lemma-constructible-stable-specialization-closed}
Let $X$ be a spectral space. Let $E \subset X$ be a subset closed
in the constructible topology (for example constructible).
\begin{enumerate}
\item If $x \in \overline{E}$, then $x$ is the specialization of a point of
$E$.
\item If $E$ is stable under specialization, then $E$ is closed.
\item If $E' \subset X$ is open in the constructible topology
(for example constructible) and stable under generalization, then $E'$ is open.
\end{enumerate}
\end{lemma}

\begin{proof}
Proof of (1). Let $x \in \overline{E}$. Let $\{U_i\}$ be the set of
quasi-compact open neighbourhoods of $x$. A finite intersection of the
$U_i$ is another one. The intersection $U_i \cap E$ is nonempty for all
$i$. Since the subsets $U_i \cap E$ are closed in the constructible topology
we see that $\bigcap (U_i \cap E)$ is nonempty by
Lemma \ref{lemma-constructible-hausdorff-quasi-compact} and
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
Since $X$ is a sober space and $\{U_i\}$ is a
fundamental system of open neighbourhoods of $x$, we see that
$\bigcap U_i$ is the set of generalizations of $x$. Thus
$x$ is a specialization of a point of $E$.

\medskip\noindent
Part (2) is immediate from (1).

\medskip\noindent
Proof of (3). Assume $E'$ is as in (3). The complement of $E'$ is closed
in the constructible topology (Lemma \ref{lemma-constructible})
and closed under specialization
(Lemma \ref{lemma-open-closed-specialization}).
Hence the complement is closed by (2), i.e., $E'$ is open.
\end{proof}

\begin{lemma}
\label{lemma-two-points}
Let $X$ be a spectral space. Let $x, y \in X$. Then either there exists
a third point specializing to both $x$ and $y$, or there exist disjoint
open neighbourhoods containing $x$ and $y$.
\end{lemma}

\begin{proof}
Let $\{U_i\}$ be the set of quasi-compact open neighbourhoods of $x$.
A finite intersection of the $U_i$ is another one.
Let $\{V_j\}$ be the set of quasi-compact open neighbourhoods of $y$.
A finite intersection of the $V_j$ is another one.
If $U_i \cap V_j$ is empty for some $i, j$ we are done.
If not, then the intersection $U_i \cap V_j$ is nonempty
for all $i$ and $j$. The sets $U_i \cap V_j$ are closed in the constructible
topology on $X$. By
Lemma \ref{lemma-constructible-hausdorff-quasi-compact}
we see that $\bigcap (U_i \cap V_j)$ is nonempty
(Lemma \ref{lemma-intersection-closed-in-quasi-compact}).
Since $X$ is a sober space and $\{U_i\}$ is a
fundamental system of open neighbourhoods of $x$, we see that
$\bigcap U_i$ is the set of generalizations of $x$.
Similarly, $\bigcap V_j$ is the set of generalizations of $y$.
Thus any element of $\bigcap (U_i \cap V_j)$ specializes to both
$x$ and $y$.
\end{proof}

\begin{lemma}
\label{lemma-characterize-profinite-spectral}
Let $X$ be a spectral space. The following are equivalent:
\begin{enumerate}
\item $X$ is profinite,
\item $X$ is Hausdorff,
\item $X$ is totally disconnected,
\item every quasi-compact open is closed,
\item there are no nontrivial specializations between points,
\item every point of $X$ is closed,
\item every point of $X$ is the generic point of an irreducible component
of $X$,
\item the constructible topology equals the given topology on $X$, and
\item add more here.
\end{enumerate}
\end{lemma}

\begin{proof}
Lemma \ref{lemma-profinite} shows the implication (1) $\Rightarrow$ (3).
Irreducible components are closed, so if $X$ is totally disconnected, then
every point is closed. So (3) implies (6). The equivalence of (6) and (5)
is immediate, and (6) $\Leftrightarrow$ (7) holds because $X$ is sober.
Assume (5). Then all constructible subsets of $X$ are closed
(Lemma \ref{lemma-constructible-stable-specialization-closed}), in
particular all quasi-compact opens are closed. So (5) implies (4).
Since $X$ is sober, for any two points there is a quasi-compact open
containing exactly one of them, hence (4) implies (2).
Parts (4) and (8) are equivalent by the definition of the
constructible topology.
It remains to prove (2) implies (1). Suppose $X$ is Hausdorff. Every
quasi-compact open is also closed
(Lemma \ref{lemma-quasi-compact-in-Hausdorff}). This implies $X$
is totally disconnected. Hence it is profinite, by
Lemma \ref{lemma-profinite}.
\end{proof}

\begin{lemma}
\label{lemma-spectral-pi0}
If $X$ is a spectral space, then $\pi_0(X)$ is a profinite space.
\end{lemma}

\begin{proof}
Combine Lemmas \ref{lemma-connected-component-intersection} and
\ref{lemma-pi0-profinite}.
\end{proof}

\begin{lemma}
\label{lemma-product-spectral-spaces}
The product of two spectral spaces is spectral.
\end{lemma}

\begin{proof}
Let $X$, $Y$ be spectral spaces. Denote $p : X \times Y \to X$ and
$q : X \times Y \to Y$ the projections. Let $Z \subset X \times Y$ be a
closed irreducible subset. Then $p(Z) \subset X$ is irreducible
and $q(Z) \subset Y$ is irreducible. Let $x \in X$ be the generic
point of the closure of $p(X)$ and let $y \in Y$ be the generic
point of the closure of $q(Y)$. If $(x, y) \not \in Z$, then
there exist opens $x \in U \subset X$, $y \in V \subset Y$ such
that $Z \cap U \times V = \emptyset$. Hence $Z$ is contained
in $(X \setminus U) \times Y \cup X \times (Y \setminus V)$.
Since $Z$ is irreducible, we see that either
$Z \subset (X \setminus U) \times Y$ or $Z \subset X \times (Y \setminus V)$.
In the first case $p(Z) \subset (X \setminus U)$ and in the
second case $q(Z) \subset (Y \setminus V)$. Both cases are absurd
as $x$ is in the closure of $p(Z)$ and $y$ is in the closure of
$q(Z)$. Thus we conclude that $(x, y) \in Z$, which means that
$(x, y)$ is the generic point for $Z$.

\medskip\noindent
A basis of the topology of $X \times Y$ are the opens of the form
$U \times V$ with $U \subset X$ and $V \subset Y$ quasi-compact open
(here we use that $X$ and $Y$ are spectral). Then $U \times V$ is
quasi-compact as the product of quasi-compact spaces is quasi-compact.
Moreover, any quasi-compact open of $X \times Y$ is a finite union
of such quasi-compact rectangles $U \times V$. It follows that
the intersection of two such is again quasi-compact
(since $X$ and $Y$ are spectral). This concludes the proof.
\end{proof}

\begin{lemma}
\label{lemma-spectral-bijective}
Let $f : X \to Y$ be a continuous map of topological spaces. If
\begin{enumerate}
\item $X$ and $Y$ are spectral,
\item $f$ is spectral and bijective, and
\item generalizations (resp.\ specializations) lift along $f$.
\end{enumerate}
Then $f$ is a homeomorphism.
\end{lemma}

\begin{proof}
Since $f$ is spectral it defines a continuous map between $X$ and $Y$ in
the constructible topology. By
Lemmas \ref{lemma-constructible-hausdorff-quasi-compact} and
\ref{lemma-bijective-map}
it follows that $X \to Y$ is a homeomorphism in the constructible
topology. Let $U \subset X$ be quasi-compact open.
Then $f(U)$ is constructible in $Y$. Let $y \in Y$ specialize
to a point in $f(U)$. By the last assumption we see that $f^{-1}(y)$
specializes to a point of $U$. Hence $f^{-1}(y) \in U$. Thus $y \in f(U)$.
It follows that $f(U)$ is open, see
Lemma \ref{lemma-constructible-stable-specialization-closed}.
Whence $f$ is a homeomorphism.
To prove the lemma in case specializations lift along $f$
one shows instead that $f(Z)$ is closed if $X \setminus Z$ is a
quasi-compact open of $X$.
\end{proof}

\begin{lemma}
\label{lemma-directed-inverse-limit-finite-sober-spectral-spaces}
The inverse limit of a directed inverse system of finite sober
topological spaces is a spectral topological space.
\end{lemma}

\begin{proof}
Let $I$ be a directed set. Let $X_i$ be an inverse
system of finite sober spaces over $I$. Let $X = \lim X_i$ which exists
by Lemma \ref{lemma-limits}. As a set $X = \lim X_i$. Denote
$p_i : X \to X_i$ the projection.
Because $I$ is directed we may apply Lemma \ref{lemma-describe-limits}.
A basis for the topology is given by the opens
$p_i^{-1}(U_i)$ for $U_i \subset X_i$ open. Since an open covering of
$p_i^{-1}(U_i)$ is in particular an open covering in the profinite
topology, we conclude that $p_i^{-1}(U_i)$ is quasi-compact.
Given $U_i \subset X_i$ and $U_j \subset X_j$, then
$p_i^{-1}(U_i) \cap p_j^{-1}(U_j) = p_k^{-1}(U_k)$
for some $k \geq i, j$ and open $U_k \subset X_k$. Finally, if $Z \subset X$
is irreducible and closed, then $p_i(Z) \subset X_i$ is irreducible
and therefore has a unique generic point $\xi_i$ (because $X_i$
is a finite sober topological space). Then $\xi = \lim \xi_i$ is a
generic point of $Z$ (it is a point of $Z$ as $Z$ is closed).
This finishes the proof.
\end{proof}

\begin{lemma}
\label{lemma-spectral-closed-in-product-two-point-space}
Let $W$ be the topological space with two points, one closed,
the other not. A topological space is spectral if and only if
it is homeomorphic to a subspace of a product of
copies of $W$ which is closed in the constructible topology.
\end{lemma}

\begin{proof}
Write $W = \{0, 1\}$ where $0$ is a specialization of $1$ but not vice versa.
Let $I$ be a set. The space $\prod_{i \in I} W$ is spectral by
Lemma \ref{lemma-directed-inverse-limit-finite-sober-spectral-spaces}.
Thus we see that a subspace of $\prod_{i \in I} W$ closed in the
constructible topology is
a spectral space by Lemma \ref{lemma-spectral-sub}.

\medskip\noindent
For the converse, let $X$ be a spectral space. Let $U \subset X$ be a
quasi-compact open. Consider the continuous map
$$
f_U : X \longrightarrow W
$$
which maps every point in $U$ to $1$ and every point in $X \setminus U$ to $0$.
Taking the product of these maps we obtain a continuous map
$$
f = \prod f_U : X \longrightarrow \prod\nolimits_U W
$$
By construction the map $f : X \to Y$ is spectral. By
Lemma \ref{lemma-fibres-spectral-map-quasi-compact}
the image of $f$ is closed in the constructible topology.
If $x', x \in X$ are distinct, then since $X$ is sober either $x'$
is not a specialization of $x$ or conversely. In either case (as the
quasi-compact opens form a basis for the topology of $X$) there
exists a quasi-compact open $U \subset X$ such that $f_U(x') \not = f_U(x)$.
Thus $f$ is injective. Let $Y = f(X)$ endowed with the induced topology.
Let $y' \leadsto y$ be a specialization in $Y$ and say
$f(x') = y'$ and $f(x) = y$. Arguing as above we see that
$x' \leadsto x$, since otherwise there is a $U$ such that
$x \in U$ and $x' \not \in U$, which would imply
$f_U(x') \not \leadsto f_U(x)$.
We conclude that $f : X \to Y$ is a homeomorphism by
Lemma \ref{lemma-spectral-bijective}.
\end{proof}

\begin{lemma}
\label{lemma-spectral-inverse-limit-finite-sober-spaces}
A topological space is spectral if and only if it is a directed
inverse limit of finite sober topological spaces.
\end{lemma}

\begin{proof}
One direction is given by
Lemma \ref{lemma-directed-inverse-limit-finite-sober-spectral-spaces}.
For the converse, assume $X$ is spectral. Then we
may assume $X \subset \prod_{i \in I} W$ is a subset closed
in the constructible topology where $W = \{0, 1\}$ as in
Lemma \ref{lemma-spectral-closed-in-product-two-point-space}.
We can write
$$
\prod\nolimits_{i \in I} W =
\lim_{J \subset I\text{ finite }} \prod\nolimits_{j \in J} W
$$
as a cofiltered limit.
For each $J$, let $X_J \subset \prod_{j \in J} W$ be the image of $X$.
Then we see that $X = \lim X_J$ as sets because $X$ is closed in
the product with the constructible topology (detail omitted).
A formal argument (omitted) on limits shows that $X = \lim X_J$ as topological
spaces.
\end{proof}

\begin{lemma}
\label{lemma-Noetherian-goes-to-spectral}
Let $X$ be a topological space and let $c : X \to X'$ be the universal
map from $X$ to a sober topological space, see
Lemma \ref{lemma-make-sober}.
\begin{enumerate}
\item If $X$ is quasi-compact, so is $X'$.
\item If $X$ is quasi-compact, has a basis of quasi-compact opens,
and the intersection of two quasi-compact opens is quasi-compact, then 
$X'$ is spectral.
\item If $X$ is Noetherian, then $X'$ is a Noetherian spectral space.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $U \subset X$ be open and let $U' \subset X'$ be the corresponding
open, i.e., the open such that $c^{-1}(U') = U$.
Then $U$ is quasi-compact if and only if $U'$ is quasi-compact,
as pulling back by $c$ is a bijection between the opens of
$X$ and $X'$ which commutes with unions. This in particular proves (1).

\medskip\noindent
Proof of (2). It follows from the above that $X'$ has a basis of
quasi-compact opens. Since $c^{-1}$ also
commutes with intersections of pairs of opens, we see that
the intersection of two quasi-compact opens $X'$ is quasi-compact.
Finally, $X'$ is quasi-compact by (1) and sober by construction.
Hence $X'$ is spectral.

\medskip\noindent
Proof of (3). It is immediate that $X'$ is Noetherian as this is defined
in terms of the acc for open subsets which holds for $X$. We have
already seen in (2) that $X'$ is spectral.
\end{proof}




\section{Limits of spectral spaces}
\label{section-limits-spectral}

\noindent
Lemma \ref{lemma-spectral-inverse-limit-finite-sober-spaces} tells us
that every spectral space is a cofiltered limit of finite sober
spaces. Every finite sober space is a spectral space and every continuous
map of finite sober spaces is a spectral map of spectral spaces.
In this section we prove some lemmas concerning limits of systems
of spectral topological spaces along spectral maps.

\begin{lemma}
\label{lemma-inverse-limit-spectral-spaces-quasi-compact}
Let $\mathcal{I}$ be a category. Let $i \mapsto X_i$ be a diagram
of spectral spaces such that for $a : j \to i$ in $\mathcal{I}$
the corresponding map $f_a : X_j \to X_i$ is spectral.
\begin{enumerate}
\item Given subsets $Z_i \subset X_i$ closed in the constructible
topology with $f_a(Z_j) \subset Z_i$ for all $a : j \to i$ in $\mathcal{I}$,
then $\lim Z_i$ is quasi-compact.
\item The space $X = \lim X_i$ is quasi-compact.
\end{enumerate}
\end{lemma}

\begin{proof}
The limit $Z = \lim Z_i$ exists by Lemma \ref{lemma-limits}.
Denote $X'_i$ the space $X_i$ endowed with the constructible topology
and $Z'_i$ the corresponding subspace of $X'_i$.
Let $a : j \to i$ in $\mathcal{I}$ be a morphism. As $f_a$ is spectral
it defines a continuous map $f_a : X'_j \to X'_i$. Thus
$f_a|_{Z_j} : Z'_j \to Z'_i$ is a continuous map of quasi-compact
Hausdorff spaces (by
Lemmas \ref{lemma-constructible-hausdorff-quasi-compact} and
\ref{lemma-closed-in-quasi-compact}).
Thus $Z' = \lim Z_i$ is quasi-compact by
Lemma \ref{lemma-inverse-limit-quasi-compact}.
The maps $Z'_i \to Z_i$ are continuous, hence $Z' \to Z$
is continuous and a bijection on underlying sets. Hence $Z$
is quasi-compact as the image of the surjective continuous map $Z' \to Z$
(Lemma \ref{lemma-image-quasi-compact}).
\end{proof}

\begin{lemma}
\label{lemma-inverse-limit-spectral-spaces-nonempty}
Let $\mathcal{I}$ be a cofiltered category. Let $i \mapsto X_i$ be a diagram
of spectral spaces such that for $a : j \to i$ in $\mathcal{I}$
the corresponding map $f_a : X_j \to X_i$ is spectral.
\begin{enumerate}
\item Given nonempty subsets $Z_i \subset X_i$ closed in the constructible
topology with $f_a(Z_j) \subset Z_i$ for all $a : j \to i$ in $\mathcal{I}$,
then $\lim Z_i$ is nonempty.
\item If each $X_i$ is nonempty, then $X = \lim X_i$ is nonempty.
\end{enumerate}
\end{lemma}

\begin{proof}
Denote $X'_i$ the space $X_i$ endowed with the constructible topology
and $Z'_i$ the corresponding subspace of $X'_i$.
Let $a : j \to i$ in $\mathcal{I}$ be a morphism. As $f_a$ is spectral
it defines a continuous map $f_a : X'_j \to X'_i$. Thus
$f_a|_{Z_j} : Z'_j \to Z'_i$ is a continuous map of quasi-compact
Hausdorff spaces (by
Lemmas \ref{lemma-constructible-hausdorff-quasi-compact} and
\ref{lemma-closed-in-quasi-compact}). By
Lemma \ref{lemma-nonempty-limit} the space $\lim Z'_i$ is nonempty.
Since $\lim Z'_i = \lim Z_i$ as sets we conclude.
\end{proof}

\begin{lemma}
\label{lemma-inverse-limit-spectral-spaces-equal}
Let $\mathcal{I}$ be a cofiltered category. Let $i \mapsto X_i$ be a diagram
of spectral spaces such that for $a : j \to i$ in $\mathcal{I}$
the corresponding map $f_a : X_j \to X_i$ is spectral. Let $X = \lim X_i$
with projections $p_i : X \to X_i$. Let $i \in \Ob(\mathcal{I})$ and let
$E, F \subset X_i$ be subsets with $E$ closed in the constructible topology
and $F$ open in the constructible topology.
Then $p_i^{-1}(E) \subset p_i^{-1}(F)$ if and only if there is a morphism
$a : j \to i$ in $\mathcal{I}$ such that $f_a^{-1}(E) \subset f_a^{-1}(F)$.
\end{lemma}

\begin{proof}
Observe that
$$
p_i^{-1}(E) \setminus p_i^{-1}(F) =
\lim_{a : j \to i} f_a^{-1}(E) \setminus f_a^{-1}(F)
$$
Since $f_a$ is a spectral map, it is continuous in the constructible topology
hence the set $f_a^{-1}(E) \setminus f_a^{-1}(F)$ is closed in the
constructible topology. Hence
Lemma \ref{lemma-inverse-limit-spectral-spaces-nonempty}
applies to show that the LHS is nonempty if and only if each of the spaces
of the RHS is nonempty.
\end{proof}

\begin{lemma}
\label{lemma-inverse-limit-spectral-spaces-constructible}
Let $\mathcal{I}$ be a cofiltered category. Let $i \mapsto X_i$ be a diagram
of spectral spaces such that for $a : j \to i$ in $\mathcal{I}$
the corresponding map $f_a : X_j \to X_i$ is spectral. Let $X = \lim X_i$
with projections $p_i : X \to X_i$. Let $E \subset X$ be a constructible
subset. Then there exists an $i \in \Ob(\mathcal{I})$ and a constructible
subset $E_i \subset X_i$ such that $p_i^{-1}(E_i) = E$. If $E$ is open,
resp.\ closed, we may choose $E_i$ open, resp.\ closed.
\end{lemma}

\begin{proof}
Assume $E$ is a quasi-compact open of $X$. By
Lemma \ref{lemma-describe-limits} we can write $E = p_i^{-1}(U_i)$
for some $i$ and some open $U_i \subset X_i$.
Write $U_i = \bigcup U_{i, \alpha}$ as a union of quasi-compact opens.
As $E$ is quasi-compact we can find $\alpha_1, \ldots, \alpha_n$
such that $E = p_i^{-1}(U_{i, \alpha_1} \cup \ldots \cup U_{i, \alpha_n})$.
Hence $E_i = U_{i, \alpha_1} \cup \ldots \cup U_{i, \alpha_n}$ works.

\medskip\noindent
Assume $E$ is a constructible closed subset. Then $E^c$ is quasi-compact
open. So $E^c = p_i^{-1}(F_i)$ for some $i$ and
quasi-compact open $F_i \subset X_i$ by the result of the previous paragraph.
Then $E = p_i^{-1}(F_i^c)$ as desired.

\medskip\noindent
If $E$ is general we can write $E = \bigcup_{l = 1, \ldots, n} U_l \cap Z_l$
with $U_l$ constructible open and $Z_l$ constructible closed. By the result
of the previous paragraphs we may write $U_l = p_{i_l}^{-1}(U_{l, i_l})$
and $Z_l = p_{j_l}^{-1}(Z_{l, j_l})$
with $U_{l, i_l} \subset X_{i_l}$ constructible open and
$Z_{l, j_l} \subset X_{j_l}$ constructible closed. As $\mathcal{I}$ is
cofiltered we may choose an object $k$ of $\mathcal{I}$ and morphism
$a_l : k \to i_l$ and $b_l : k \to j_l$. Then taking
$E_k = \bigcup_{l = 1, \ldots, n}
f_{a_l}^{-1}(U_{l, i_l}) \cap f_{b_l}^{-1}(Z_{l, j_l})$
we obtain a constructible subset of $X_k$ whose inverse image in $X$ is $E$.
\end{proof}

\begin{lemma}
\label{lemma-directed-inverse-limit-spectral-spaces}
Let $\mathcal{I}$ be a cofiltered index category.
Let $i \mapsto X_i$ be a diagram of spectral spaces such
that for $a : j \to i$ in $\mathcal{I}$ the corresponding map
$f_a : X_j \to X_i$ is spectral. Then
the inverse limit $X = \lim X_i$ is a spectral topological space
and the projection maps $p_i : X \to X_i$ are spectral.
\end{lemma}

\begin{proof}
The limit $X = \lim X_i$ exists (Lemma \ref{lemma-limits})
and is quasi-compact by
Lemma \ref{lemma-inverse-limit-spectral-spaces-quasi-compact}.

\medskip\noindent
Denote $p_i : X \to X_i$ the projection.
Because $\mathcal{I}$ is cofiltered we can apply
Lemma \ref{lemma-describe-limits}.
Hence a basis for the topology on $X$ is given by the opens
$p_i^{-1}(U_i)$ for $U_i \subset X_i$ open. Since a basis for
the topology of $X_i$ is given by the quasi-compact open, we conclude
that a basis for the topology on $X$ is given by $p_i^{-1}(U_i)$
with $U_i \subset X_i$ quasi-compact open. A formal argument
shows that
$$
p_i^{-1}(U_i) = \lim_{a : j \to i} f_a^{-1}(U_i)
$$
as topological spaces. Since each $f_a$ is spectral the sets
$f_a^{-1}(U_i)$ are closed in the constructible topology of $X_j$
and hence $p_i^{-1}(U_i)$ is quasi-compact
by Lemma \ref{lemma-inverse-limit-spectral-spaces-quasi-compact}.
Thus $X$ has a basis for the topology consisting of quasi-compact opens.

\medskip\noindent
Any quasi-compact open $U$ of $X$ is of the form $U = p_i^{-1}(U_i)$
for some $i$ and some quasi-compact open $U_i \subset X_i$
(see Lemma \ref{lemma-inverse-limit-spectral-spaces-constructible}).
Given $U_i \subset X_i$ and $U_j \subset X_j$ quasi-compact open, then
$p_i^{-1}(U_i) \cap p_j^{-1}(U_j) = p_k^{-1}(U_k)$ for some $k$
and quasi-compact open $U_k \subset X_k$. Namely, choose $k$
and morphisms $k \to i$ and $k \to j$ and let $U_k$ be the intersection of the
pullbacks of $U_i$ and $U_j$ to $X_k$. Thus we see that the intersection
of two quasi-compact opens of $X$ is quasi-compact open.

\medskip\noindent
Finally, let $Z \subset X$ be irreducible and closed. Then $p_i(Z) \subset X_i$
is irreducible and therefore $Z_i = \overline{p_i(Z)}$ has a unique generic
point $\xi_i$ (because $X_i$ is a spectral space). Then $f_a(\xi_j) = \xi_i$
for $a : j \to i$ in $\mathcal{I}$ because $\overline{f_a(Z_j)} = Z_i$.
Hence $\xi = \lim \xi_i$ is a point of $X$. Claim: $\xi \in Z$. Namely,
if not we can find a quasi-compact open containing $\xi$ disjoint
from $Z$. This would be of the form $p_i^{-1}(U_i)$ for some $i$ and
quasi-compact open $U_i \subset X_i$. Then $\xi_i \in U_i$ but
$p_i(Z) \cap U_i = \emptyset$ which contradicts $\xi_i \in \overline{p_i(Z)}$.
So $\xi \in Z$ and hence $\overline{\{\xi\}} \subset Z$. Conversely,
every $z \in Z$ is in the closure of $\xi$. Namely, given a quasi-compact
open neighbourhood $U$ of $z$ we write $U = p_i^{-1}(U_i)$ for some $i$
and quasi-compact open $U_i \subset X_i$. We see that $p_i(z) \in U_i$
hence $\xi_i \in U_i$ hence $\xi \in U$. Thus $\xi$ is a generic point
of $Z$. We omit the proof that $\xi$ is the unique generic point of $Z$
(hint: show that a second generic point has to be equal to $\xi$
by showing that it has to map to $\xi_i$ in $X_i$ since
by spectrality of $X_i$ the irreducible $Z_i$ has a unique generic point).
This finishes the proof.
\end{proof}

\begin{lemma}
\label{lemma-descend-opens}
Let $\mathcal{I}$ be a cofiltered index category.
Let $i \mapsto X_i$ be a diagram of spectral spaces such
that for $a : j \to i$ in $\mathcal{I}$ the corresponding map
$f_a : X_j \to X_i$ is spectral. Set $X = \lim X_i$ and denote
$p_i : X \to X_i$ the projection.
\begin{enumerate}
\item Given any quasi-compact open $U \subset X$
there exists an $i \in \Ob(\mathcal{I})$ and a quasi-compact open
$U_i \subset X_i$ such that $p_i^{-1}(U_i) = U$.
\item Given $U_i \subset X_i$ and $U_j \subset X_j$
quasi-compact opens such that $p_i^{-1}(U_i) \subset p_j^{-1}(U_j)$
there exist $k \in \Ob(\mathcal{I})$ and morphisms
$a : k \to i$ and $b : k \to j$ such that $f_a^{-1}(U_i) \subset f_b^{-1}(U_j)$.
\item If $U_i, U_{1, i}, \ldots, U_{n, i} \subset X_i$ are quasi-compact
opens and
$p_i^{-1}(U_i) = p_i^{-1}(U_{1, i}) \cup \ldots \cup p_i^{-1}(U_{n, i})$
then
$f_a^{-1}(U_i) = f_a^{-1}(U_{1, i}) \cup \ldots \cup f_a^{-1}(U_{n, i})$
for some morphism $a : j \to i$ in $\mathcal{I}$.
\item Same statement as in (3) but for intersections.
\end{enumerate}
\end{lemma}

\begin{proof}
Part (1) is a special case of
Lemma \ref{lemma-inverse-limit-spectral-spaces-constructible}.
Part (2) is a special case of
Lemma \ref{lemma-inverse-limit-spectral-spaces-equal}
as quasi-compact opens are both open and closed in the constructible
topology. Parts (3) and (4) follow formally from (1) and (2)
and the fact that taking inverse images of subsets commutes with
taking unions and intersections.
\end{proof}

\begin{lemma}
\label{lemma-make-spectral-space}
Let $W$ be a subset of a spectral space $X$. The following are equivalent:
\begin{enumerate}
\item $W$ is an intersection of constructible sets and
closed under generalizations,
\item $W$ is quasi-compact and closed under generalizations,
\item there exists a quasi-compact subset $E \subset X$ such that
$W$ is the set of points specializing to $E$,
\item $W$ is an intersection of quasi-compact open subsets,
\item
\label{item-intersection-quasi-compact-open}
there exists a nonempty set $I$ and quasi-compact opens
$U_i \subset X$, $i \in I$
such that $W = \bigcap U_i$ and for all $i, j \in I$ there exists a
$k \in I$ with $U_k \subset U_i \cap U_j$.
\end{enumerate}
In this case we have (a) $W$ is a spectral space, (b) $W = \lim U_i$
as topological spaces, and (c) for any open $U$ containing $W$
there exists an $i$ with $U_i \subset U$.
\end{lemma}

\begin{proof}
Let $W \subset X$ satisfy (1). Then $W$ is closed in the constructible
topology, hence quasi-compact in the constructible topology (by
Lemmas \ref{lemma-constructible-hausdorff-quasi-compact} and
\ref{lemma-closed-in-quasi-compact}), hence quasi-compact in the topology
of $X$ (because opens in $X$ are open in the constructible topology). Thus
(2) holds.

\medskip\noindent
It is clear that (2) implies (3) by taking $E = W$.

\medskip\noindent
Let $X$ be a spectral space and let $E \subset W$ be as in (3).
Since every point of $W$ specializes to a point of $E$ we see that
an open of $W$ which contains $E$ is equal to $W$. Hence since $E$
is quasi-compact, so is $W$.
If $x \in X$, $x \not \in W$, then $Z = \overline{\{x\}}$ is
disjoint from $W$. Since $W$ is quasi-compact we can find a
quasi-compact open $U$ with $W \subset U$ and $U \cap Z = \emptyset$.
We conclude that (4) holds.

\medskip\noindent
If $W = \bigcap_{j \in J} U_j$ then setting $I$ equal to the set of
finite subsets of $J$ and $U_i = U_{j_1} \cap \ldots \cap U_{j_r}$
for $i = \{j_1, \ldots, j_r\}$ shows that (4) implies (5). It is immediate
that (5) implies (1).

\medskip\noindent
Let $I$ and $U_i$ be as in (5).
Since $W = \bigcap U_i$ we have $W = \lim U_i$ by the universal property
of limits. Then $W$ is a spectral space by
Lemma \ref{lemma-directed-inverse-limit-spectral-spaces}.
Let $U \subset X$ be an open neighbourhood of $W$.
Then $E_i = U_i \cap (X \setminus U)$ is a family of constructible
subsets of the spectral space $Z = X \setminus U$
with empty intersection. Using that the spectral topology on $Z$
is quasi-compact (Lemma \ref{lemma-constructible-hausdorff-quasi-compact})
we conclude from
Lemma \ref{lemma-intersection-closed-in-quasi-compact}
that $E_i = \emptyset$ for some $i$.
\end{proof}

\begin{lemma}
\label{lemma-make-spectral-space-minus}
Let $X$ be a spectral space. Let $E \subset X$ be a constructible subset.
Let $W \subset X$ be the set of points of $X$ which specialize
to a point of $E$. Then $W \setminus E$ is a spectral space.
If $W = \bigcap U_i$ with $U_i$ as in
Lemma \ref{lemma-make-spectral-space}
(\ref{item-intersection-quasi-compact-open})
then $W \setminus E = \lim (U_i \setminus E)$.
\end{lemma}

\begin{proof}
Since $E$ is constructible, it is quasi-compact and hence
Lemma \ref{lemma-make-spectral-space} applies to $W$.
If $E$ is constructible, then $E$ is constructible in $U_i$
for all $i \in I$. Hence $U_i \setminus E$
is spectral by Lemma \ref{lemma-spectral-sub}.
Since $W \setminus E = \bigcap (U_i \setminus E)$ we have
$W \setminus E = \lim U_i \setminus E$ by the universal property of limits.
Then $W \setminus E$ is a spectral space by
Lemma \ref{lemma-directed-inverse-limit-spectral-spaces}.
\end{proof}






\section{Stone-{\v C}ech compactification}
\label{section-stone-cech}

\noindent
The Stone-{\v C}ech compactification of a topological space $X$
is a map $X \to \beta(X)$ from $X$ to a Hausdorff quasi-compact space
$\beta(X)$ which is universal for such maps. We prove this exists
by a standard argument using the following simple lemma.

\begin{lemma}
\label{lemma-dense-image}
Let $f : X \to Y$ be a continuous map of topological spaces. Assume that
$f(X)$ is dense in $Y$ and that $Y$ is Hausdorff. Then the cardinality
of $Y$ is at most the cardinality of $P(P(X))$ where $P$ is the power
set operation.
\end{lemma}

\begin{proof}
Let $S = f(X) \subset Y$. Let $\mathcal{D}$ be the set of all
closed domains of $Y$, i.e., subsets $D \subset Y$ which
equal the closure of its interior. Note that the closure of an
open subset of $Y$ is a closed domain. For $y \in Y$ consider the set
$$
I_y = \{T \subset S \mid \text{ there exists }
D \in \mathcal{D}\text{ with }T = S \cap D\text{ and }y \in D\}.
$$
Since $S$ is dense in $Y$ for every closed domain $D$ we see
that $S \cap D$ is dense in $D$. Hence, if
$D \cap S = D' \cap S$ for $D, D' \in \mathcal{D}$, then
$D = D'$. Thus $I_y = I_{y'}$ implies that $y = y'$ because the
Hausdorff condition assures us that we can find a closed domain
containing $y$ but not $y'$. The result follows.
\end{proof}

\noindent
Let $X$ be a topological space. By Lemma \ref{lemma-dense-image}, there
is a set $I$
of isomorphism classes of continuous maps $f : X \to Y$ which have dense
image and where $Y$ is Hausdorff and quasi-compact. For $i \in I$ choose a
representative $f_i : X \to Y_i$. Consider the map
$$
\prod f_i : X \longrightarrow \prod\nolimits_{i \in I} Y_i
$$
and denote $\beta(X)$ the closure of the image. Since each $Y_i$ is
Hausdorff, so is $\beta(X)$. Since each $Y_i$ is quasi-compact, so
is $\beta(X)$ (use Theorem \ref{theorem-tychonov} and
Lemma \ref{lemma-closed-in-quasi-compact}).

\medskip\noindent
Let us show the canonical map $X \to \beta(X)$ satisfies the universal
property with respect to maps to Hausdorff, quasi-compact spaces. Namely,
let $f : X \to Y$ be such a morphism. Let $Z \subset Y$ be the closure
of $f(X)$. Then $X \to Z$ is isomorphic to one of the maps
$f_i : X \to Y_i$, say $f_{i_0} : X \to Y_{i_0}$. Thus $f$ factors as
$X \to \beta(X) \to \prod Y_i \to Y_{i_0} \cong Z \to Y$ as desired.

\begin{lemma}
\label{lemma-one-point-compactification}
Let $X$ be a Hausdorff, locally quasi-compact space.
There exists a map $X \to X^*$ which identifies $X$ as an open
subspace of a quasi-compact Hausdorff space $X^*$ such that
$X^* \setminus X$ is a singleton (one point compactification).
In particular, the map $X \to \beta(X)$ identifies $X$
with an open subspace of $\beta(X)$.
\end{lemma}

\begin{proof}
Set $X^* = X \amalg \{\infty\}$. We declare a subset $V$ of $X^*$ to be
open if either $V \subset X$ is open in $X$, or $\infty \in V$ and
$U = V \cap X$ is an open of $X$ such that $X \setminus U$ is quasi-compact.
We omit the verification that this defines a topology. It is clear
that $X \to X^*$ identifies $X$ with an open subspace of $X$.

\medskip\noindent
Since $X$ is locally quasi-compact, every point $x \in X$ has a
quasi-compact neighbourhood $x \in E \subset X$. Then $E$
is closed (Lemma \ref{lemma-closed-in-quasi-compact}) and
$V = (X \setminus E) \amalg \{\infty\}$ is an open neighbourhood
of $\infty$ disjoint from the interior of $E$. Thus $X^*$ is Hausdorff.

\medskip\noindent
Let $X^* = \bigcup V_i$ be an open covering. Then for some $i$, say $i_0$,
we have $\infty \in V_{i_0}$. By construction $Z = X^* \setminus V_{i_0}$
is quasi-compact. Hence the covering
$Z \subset \bigcup_{i \not = i_0} Z \cap V_i$ has a finite refinement which
implies that the given covering of $X^*$ has a finite refinement.
Thus $X^*$ is quasi-compact.

\medskip\noindent
The map $X \to X^*$ factors as $X \to \beta(X) \to X^*$ by the universal
property of the Stone-{\v C}ech compactification. Let
$\varphi : \beta(X) \to X^*$ be this factorization.
Then $X \to \varphi^{-1}(X)$ is a section to
$\varphi^{-1}(X) \to X$ hence has closed image
(Lemma \ref{lemma-section-closed}).
Since the image of $X \to \beta(X)$ is dense we conclude that
$X = \varphi^{-1}(X)$.
\end{proof}










\section{Extremally disconnected spaces}
\label{section-extremally-disconnected}

\noindent
The material in this section is taken from \cite{Gleason}
(with a slight modification as in \cite{Rainwater}).
In Gleason's paper it is shown that in the category of quasi-compact
Hausdorff spaces, the ``projective objects'' are exactly the extremally
disconnected spaces.

\begin{definition}
\label{definition-extremally-disconnected}
A topological space $X$ is called {\it extremally disconnected}
if the closure of every open subset of $X$ is open.
\end{definition}

\noindent
If $X$ is Hausdorff and extremally disconnected, then $X$ is totally
disconnected (this isn't true in general). If $X$ is quasi-compact,
Hausdorff, and extremally disconnected, then $X$ is profinite by
Lemma \ref{lemma-profinite}, but the converse does not hold in general.
Namely, Gleason shows that in an extremally disconnected Hausdorff space $X$
a convergent sequence $x_1, x_2, x_3, \ldots$ is eventually constant.
Hence for example the $p$-adic integers
$\mathbf{Z}_p = \lim \mathbf{Z}/p^n\mathbf{Z}$ is a profinite space
which is not extremally disconnected.

\begin{lemma}
\label{lemma-image-open-technical}
Let $f : X \to Y$ be a continuous map of topological spaces.
Assume $f$ is surjective and $f(E) \not = Y$ for all proper
closed subsets $E \subset X$. Then for $U \subset X$ open the subset
$f(U)$ is contained in the closure of $Y \setminus f(X \setminus U)$.
\end{lemma}

\begin{proof}
Pick $y \in f(U)$ and let $V \subset Y$ be any open neighbourhood of $y$.
We will show that $V$ intersects $Y \setminus f(X \setminus U)$.
Note that $W = U \cap f^{-1}(V)$ is a nonempty open subset of $X$, hence
$f(X \setminus W) \not = Y$. Take $y' \in Y$, $y' \not \in f(X \setminus W)$.
It is elementary to show that $y' \in V$ and
$y' \in Y \setminus f(X \setminus U)$.
\end{proof}

\begin{lemma}
\label{lemma-intersection-empty}
Let $X$ be an extremally disconnected space.
If $U, V \subset X$ are disjoint open subsets, then
$\overline{U}$ and $\overline{V}$ are disjoint too.
\end{lemma}

\begin{proof}
By assumption $\overline{U}$ is open, hence $V \cap \overline{U}$
is open and disjoint from $U$, hence empty because $\overline{U}$
is the intersection of all the closed subsets of $X$ containing $U$.
This means the open $\overline{V} \cap \overline{U}$ avoids $V$
hence is empty by the same argument.
\end{proof}

\begin{lemma}
\label{lemma-isomorphism}
Let $f : X \to Y$ be a continuous map of Hausdorff quasi-compact
topological spaces. If $Y$ is extremally disconnected, $f$ is surjective,
and $f(Z) \not = Y$ for every proper closed subset $Z$ of $X$, then
$f$ is a homeomorphism.
\end{lemma}

\begin{proof}
By Lemma \ref{lemma-bijective-map} it suffices to show that $f$ is injective.
Suppose that $x, x' \in X$ are distinct points with $y = f(x) = f(x')$.
Choose disjoint open neighbourhoods $U, U' \subset X$ of $x, x'$.
Observe that $f$ is closed (Lemma \ref{lemma-closed-map}) hence
$T = f(X \setminus U)$ and $T' = f(X \setminus U')$ are closed in $Y$.
Since $X$ is the union of $X \setminus U$ and $X \setminus U'$ we see that
$Y = T \cup T'$. By Lemma \ref{lemma-image-open-technical} we
see that $y$ is contained in the closure of $Y \setminus T$ and
the closure of $Y \setminus T'$. On the other hand, by
Lemma \ref{lemma-intersection-empty},
this intersection is empty. In this way we obtain the desired contradiction.
\end{proof}

\begin{lemma}
\label{lemma-find-compact-subset}
Let $f : X \to Y$ be a continuous surjective map of Hausdorff quasi-compact
topological spaces. There exists a quasi-compact subset $E \subset X$
such that $f(E) = Y$ but $f(E') \not = Y$ for all proper closed subsets
$E' \subset E$.
\end{lemma}

\begin{proof}
We will use without further mention that the quasi-compact subsets
of $X$ are exactly the closed subsets
(Lemma \ref{lemma-closed-in-compact}).
Consider the collection $\mathcal{E}$ of all quasi-compact subsets
$E \subset X$ with $f(E) = Y$ ordered by inclusion. We will use
Zorn's lemma to show that
$\mathcal{E}$ has a minimal element. To do this it suffices to show
that given a totally ordered family $E_\lambda$ of elements of $\mathcal{E}$
the intersection $\bigcap E_\lambda$ is an element of $\mathcal{E}$.
It is quasi-compact as it is closed.
For every $y \in Y$ the sets $E_\lambda \cap f^{-1}(\{y\})$
are nonempty and closed, hence the intersection
$\bigcap E_\lambda \cap f^{-1}(\{y\}) = \bigcap (E_\lambda \cap f^{-1}(\{y\}))$
is nonempty by
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
This finishes the proof.
\end{proof}

\begin{proposition}
\label{proposition-projective-in-category-hausdorff-qc}
Let $X$ be a Hausdorff, quasi-compact topological space.
The following are equivalent
\begin{enumerate}
\item $X$ is extremally disconnected,
\item for any surjective continuous map $f : Y \to X$ with $Y$ Hausdorff
quasi-compact there exists a continuous section, and
\item for any solid commutative diagram
$$
\xymatrix{
& Y \ar[d] \\
X \ar@{..>}[ru] \ar[r] & Z
}
$$
of continuous maps of quasi-compact Hausdorff spaces with $Y \to Z$
surjective, there is a dotted arrow
in the category of topological spaces making the diagram commute.
\end{enumerate}
\end{proposition}

\begin{proof}
It is clear that (3) implies (2). On the other hand, if (2) holds
and $X \to Z$ and $Y \to Z$ are as in (3), then (2) assures there
is a section to the projection $X \times_Z Y \to X$ which implies
a suitable dotted arrow exists (details omitted). Thus (3)
is equivalent to (2).

\medskip\noindent
Assume $X$ is extremally disconnected and let $f : Y \to X$ be as in (2).
By Lemma \ref{lemma-find-compact-subset} there exists a quasi-compact subset
$E \subset Y$ such that $f(E) = X$ but $f(E') \not = X$ for all
proper closed subsets $E' \subset E$. By
Lemma \ref{lemma-isomorphism} we find that $f|_E : E \to X$
is a homeomorphism, the inverse of which gives the desired section.

\medskip\noindent
Assume (2). Let $U \subset X$ be open with complement $Z$.
Consider the continuous surjection $f : \overline{U} \amalg Z \to X$.
Let $\sigma$ be a section. Then $\overline{U} = \sigma^{-1}(\overline{U})$
is open. Thus $X$ is extremally disconnected.
\end{proof}

\begin{lemma}
\label{lemma-rainwater}
Let $f : X \to X$ be a surjective continuous selfmap of a Hausdorff
topological space. If $f$ is not $\text{id}_X$, then there exists a
proper closed subset $E \subset X$ such that $X = E \cup f(E)$.
\end{lemma}

\begin{proof}
Pick $p \in X$ with $f(p) \not = p$. Choose disjoint open neighbourhoods
$p \in U$, $f(p) \in V$ and set $E = X \setminus U \cap f^{-1}(V)$.
Then $p \not \in E$ hence $E$ is a proper closed subset.
If $x \in X$, then either $x \in E$, or if not, then $x \in U \cap f^{-1}(V)$
and writing $x = f(y)$ (possible as $f$ is surjective) we find
$y \in V \subset E$ and $x \in f(E)$.
\end{proof}

\begin{example}
\label{example-stone-Cech-discrete}
We can use Proposition \ref{proposition-projective-in-category-hausdorff-qc}
to see that the Stone-{\v C}ech compactification $\beta(X)$ of a discrete
space $X$ is extremally disconnected. Namely, let $f : Y \to \beta(X)$ be
a continuous surjection where $Y$ is quasi-compact and Hausdorff. Then
we can lift the map $X \to \beta(X)$ to a continuous (!) map
$X \to Y$ as $X$ is discrete. By the universal property of the
Stone-{\v C}ech compactification we see that we obtain a factorization
$X \to \beta(X) \to Y$. Since $\beta(X) \to Y \to \beta(X)$ equals
the identity on the dense subset $X$ we conclude that we get a section.
In particular, we conclude that the Stone-{\v C}ech compactification
of a discrete space is totally disconnected, whence profinite
(see discussion following
Definition \ref{definition-extremally-disconnected} and
Lemma \ref{lemma-profinite}).
\end{example}

\noindent
Using the supply of extremally disconnected spaces given by
Example \ref{example-stone-Cech-discrete}
we can prove that every quasi-compact Hausdorff space has a
``projective cover'' in the category of quasi-compact Hausdorff spaces.

\begin{lemma}
\label{lemma-existence-projective-cover}
\begin{slogan}
Every quasi-compact Hausdorff space has a canonical
extremally disconnected cover
\end{slogan}
Let $X$ be a quasi-compact Hausdorff space.
There exists a continuous surjection $X' \to X$ with $X'$
quasi-compact, Hausdorff, and extremally disconnected.
If we require that every proper closed subset of $X'$ does not
map onto $X$, then $X'$ is unique up to isomorphism.
\end{lemma}

\begin{proof}
Let $Y = X$ but endowed with the discrete topology. Let $X' = \beta(Y)$.
The continuous map $Y \to X$ factors as $Y \to X' \to X$. This
proves the first statement of the lemma by
Example \ref{example-stone-Cech-discrete}.

\medskip\noindent
By Lemma \ref{lemma-find-compact-subset} we can find a quasi-compact subset
$E \subset X'$ surjecting onto $X$ such that no proper closed subset of $E$
surjects onto $X$.
Because $X'$ is extremally disconnected there exists a continuous map
$f : X' \to E$ over $X$
(Proposition \ref{proposition-projective-in-category-hausdorff-qc}).
Composing $f$ with the map $E \to X'$ gives a continuous selfmap
$f|_E : E \to E$. Observe that $f|_E$ has to be surjective as otherwise
the image would be a proper closed subset surjecting onto $X$.
Hence $f|_E$ has to be $\text{id}_E$ as otherwise
Lemma \ref{lemma-rainwater} shows that $E$ isn't minimal.
Thus the $\text{id}_E$ factors through the extremally disconnected
space $X'$. A formal, categorical argument (using the characterization of
Proposition \ref{proposition-projective-in-category-hausdorff-qc})
shows that $E$ is extremally disconnected.

\medskip\noindent
To prove uniqueness, suppose we have a second $X'' \to X$
minimal cover. By the lifting property proven in
Proposition \ref{proposition-projective-in-category-hausdorff-qc}
we can find a continuous map $g : X' \to X''$ over $X$.
Observe that $g$ is a closed map (Lemma \ref{lemma-closed-map}).
Hence $g(X') \subset X''$ is a closed subset surjecting onto $X$
and we conclude $g(X') = X''$ by minimality of $X''$.
On the other hand, if $E \subset X'$ is a proper closed subset,
then $g(E) \not = X''$ as $E$ does not map onto $X$ by minimality
of $X'$. By Lemma \ref{lemma-isomorphism} we see that $g$ is an isomorphism.
\end{proof}

\begin{remark}
\label{remark-size-projective-cover}
Let $X$ be a quasi-compact Hausdorff space. Let $\kappa$ be an infinite
cardinal bigger or equal than the cardinality of $X$. Then the cardinality
of the minimal quasi-compact, Hausdorff, extremally disconnected cover
$X' \to X$ (Lemma \ref{lemma-existence-projective-cover})
is at most $2^{2^\kappa}$. Namely, choose a subset $S \subset X'$
mapping bijectively to $X$. By minimality of $X'$ the set $S$ is dense
in $X'$. Thus $|X'| \leq 2^{2^\kappa}$ by Lemma \ref{lemma-dense-image}.
\end{remark}






\section{Miscellany}
\label{section-miscellany}


\noindent
The following lemma applies to the underlying topological space
associated to a quasi-separated scheme.

\begin{lemma}
\label{lemma-topology-quasi-separated-scheme}
Let $X$ be a topological space which
\begin{enumerate}
\item has a basis of the topology consisting of quasi-compact opens, and
\item has the property that the intersection of any two quasi-compact
opens is quasi-compact.
\end{enumerate}
Then
\begin{enumerate}
\item $X$ is locally quasi-compact,
\item a quasi-compact open $U \subset X$ is retrocompact,
\item any quasi-compact open $U \subset X$ has a cofinal system of open
coverings $\mathcal{U} : U = \bigcup_{j\in J} U_j$ with $J$ finite
and all $U_j$ and $U_j \cap U_{j'}$ quasi-compact,
\item add more here.
\end{enumerate}
\end{lemma}

\begin{proof}
Omitted.
\end{proof}

\begin{definition}
\label{definition-isolated-point}
Let $X$ be a topological space. We say $x \in X$ is an
{\it isolated point} of $X$ if $\{x\}$ is open in $X$.
\end{definition}



\section{Partitions and stratifications}
\label{section-stratifications}

\noindent
Stratifications can be defined in many different ways. We welcome
comments on the choice of definitions in this section.

\begin{definition}
\label{definition-paritition}
Let $X$ be a topological space. A {\it partition} of $X$ is a
decomposition $X = \coprod X_i$ into locally closed subsets $X_i$.
The $X_i$ are called the {\it parts} of the partition.
Given two partitions of $X$ we say one {\it refines} the other if
the parts of one are unions of parts of the other.
\end{definition}

\noindent
Any topological space $X$ has a partition into connected components.
If $X$ has finitely many irreducible components $Z_1, \ldots, Z_r$,
then there is a partition with parts
$X_I = \bigcap_{i \in I} Z_i \setminus (\bigcup_{i \not \in I} Z_i)$
whose indices are subsets $I \subset \{1, \ldots, r\}$
which refines the partition into connected components.

\begin{definition}
\label{definition-good-stratification}
Let $X$ be a topological space. A {\it good stratification}
of $X$ is a partition $X = \coprod X_i$ such that for all
$i, j \in I$ we have
$$
X_i \cap \overline{X_j} \not = \emptyset
\Rightarrow
X_i \subset \overline{X_j}.
$$
\end{definition}

\noindent
Given a good stratification $X = \coprod_{i \in I} X_i$ we obtain
a partial ordering on $I$ by setting $i \leq j$ if and only if
$X_i \subset \overline{X_j}$. Then we see that
$$
\overline{X_j} = \bigcup\nolimits_{i \leq j} X_i
$$
However, what often happens in algebraic geometry is that one just
has that the left hand side is a subset of the right hand side in
the last displayed formula. This leads to the following definition.

\begin{definition}
\label{definition-stratification}
Let $X$ be a topological space. A {\it stratification} of $X$ is
given by a partition $X = \coprod_{i \in I} X_i$ and a partial ordering
on $I$ such that for each $j \in I$ we have
$$
\overline{X_j} \subset \bigcup\nolimits_{i \leq j} X_i
$$
The parts $X_i$ are called the {\it strata} of the stratification.
\end{definition}

\noindent
We often impose additional conditions on the stratification.
For example, stratifications are particularly nice if they
are {\it locally finite}, which means that every point has a
neighbourhood which meets only finitely many strata. More generally
we introduce the following definition.

\begin{definition}
\label{definition-locally-finite}
Let $X$ be a topological space. Let $I$ be a set and for $i \in I$
let $E_i \subset X$ be a subset. We say the collection $\{E_i\}_{i \in I}$
is {\it locally finite} if for all $x \in X$ there exists an open
neighbourhood $U$ of $x$ such that
$\{i \in I | E_i \cap U \not = \emptyset\}$ is finite.
\end{definition}


\begin{remark}
\label{remark-locally-finite-stratification}
Given a locally finite stratification $X = \coprod X_i$ of a
topological space $X$, we obtain a family of closed subsets
$Z_i = \bigcup_{j \leq i} X_j$ of $X$ indexed by $I$ such that
$$
Z_i \cap Z_j = \bigcup\nolimits_{k \leq i, j} Z_k
$$
Conversely, given closed subsets $Z_i \subset X$ indexed by a
partially ordered set $I$ such that $X = \bigcup Z_i$, such that every point
has a neighbourhood meeting only finitely many $Z_i$, and such that
the displayed formula holds, then we obtain a locally finite
stratification of $X$ by setting $X_i = Z_i \setminus \bigcup_{j < i} Z_j$.
\end{remark}

\begin{lemma}
\label{lemma-partition-refined-by-stratification}
Let $X$ be a topological space. Let $X = \coprod X_i$ be a finite partition
of $X$. Then there exists a finite stratification of $X$ refining it.
\end{lemma}

\begin{proof}
Let $T_i = \overline{X_i}$ and $\Delta_i = T_i \setminus X_i$.
Let $S$ be the set of all intersections of $T_i$ and $\Delta_i$.
(For example $T_1 \cap T_2 \cap \Delta_4$ is an element of $S$.)
Then $S = \{Z_s\}$ is a finite collection of closed subsets of $X$ such that
$Z_s \cap Z_{s'} \in S$ for all $s, s' \in S$. Define a partial ordering
on $S$ by inclusion. Then set $Y_s = Z_s \setminus \bigcup_{s' < s} Z_{s'}$
to get the desired stratification.
\end{proof}

\begin{lemma}
\label{lemma-constructible-partition-refined-by-stratification}
Let $X$ be a topological space. Suppose $X = T_1 \cup \ldots \cup T_n$
is written as a union of constructible subsets. There exists a finite
stratification $X = \coprod X_i$ with each $X_i$ constructible
such that each $T_k$ is a union of strata.
\end{lemma}

\begin{proof}
By definition of constructible subsets, we can write each $T_i$ as a
finite union of $U \cap V^c$ with $U, V \subset X$ retrocompact open.
Hence we may assume that $T_i = U_i \cap V_i^c$
with $U_i, V_i \subset X$ retrocompact open. Let $S$ be the
finite set of closed subsets of $X$ consisting of
$\emptyset, X, U_i^c, V_i^c$ and finite intersections of these.
Write $S = \{Z_s\}$. If $s \in S$, then $Z_s$ is constructible
(Lemma \ref{lemma-constructible}).
Moreover, $Z_s \cap Z_{s'} \in S$ for all $s, s' \in S$.
Define a partial ordering on $S$ by inclusion. Then set
$Y_s = Z_s \setminus \bigcup_{s' < s} Z_{s'}$
to get the desired stratification.
\end{proof}

\begin{lemma}
\label{lemma-noetherian-partition-refined-by-stratification}
Let $X$ be a Noetherian topological space. Any finite partition
of $X$ can be refined by a finite good stratification.
\end{lemma}

\begin{proof}
Let $X = \coprod X_i$ be a finite partition of $X$.
Let $Z$ be an irreducible component of $X$. Since $X = \bigcup \overline{X_i}$
with finite index set, there is an $i$ such that
$Z \subset \overline{X_i}$. Since $X_i$ is locally closed this
implies that $Z \cap X_i$ contains an open of $Z$. Thus
$Z \cap X_i$ contains an open $U$ of $X$ (Lemma \ref{lemma-Noetherian}).
Write $X_i = U \amalg X_i^1 \amalg X_i^2$ with
$X_i^1 = (X_i \setminus U) \cap \overline{U}$ and
$X_i^2 = (X_i \setminus U) \cap \overline{U}^c$.
For $i' \not = i$ we set
$X_{i'}^1 = X_{i'} \cap \overline{U}$ and
$X_{i'}^2 = X_{i'} \cap \overline{U}^c$.
Then
$$
X \setminus U = \coprod X^k_l
$$
is a partition such that $\overline{U} \setminus U = \bigcup X_l^1$.
Note that $X \setminus U$ is closed and strictly smaller than $X$.
By Noetherian induction we can refine this partition
by a finite good stratification
$X \setminus U = \coprod_{\alpha \in A} T_\alpha$.
Then $X = U \amalg \coprod_{\alpha \in A} T_\alpha$ is a finite
good stratification of $X$ refining the partition we started with.
\end{proof}







\section{Colimits of spaces}
\label{section-colimits}

\noindent
The category of topological spaces has coproducts. Namely, if $I$ is a set
and for $i \in I$ we are given a topological space $X_i$ then we endow
the set $\coprod_{i \in I} X_i$ with the {\it coproduct topology}.
As a basis for this topology we use sets of the form $U_i$ where
$U_i \subset X_i$ is open.

\medskip\noindent
The category of topological spaces has coequalizers. Namely, if
$a, b : X \to Y$ are morphisms of topological spaces, then the
equalizer of $a$ and $b$ is the coequalizer $Y/\sim$ in the category
of sets endowed with the quotient topology (Section \ref{section-submersive}).

\begin{lemma}
\label{lemma-colimits}
The category of topological spaces has colimits and the forgetful functor
to sets commutes with them.
\end{lemma}

\begin{proof}
This follows from the discussion above and
Categories, Lemma \ref{categories-lemma-colimits-coproducts-coequalizers}.
Another proof of existence of colimits is sketched in
Categories, Remark \ref{categories-remark-how-to-use-it}.
It follows from the above that the forgetful functor
commutes with colimits. Another way to see this is to use
Categories, Lemma \ref{categories-lemma-adjoint-exact} and use that
the forgetful functor has a right adjoint, namely the functor which
assigns to a set the corresponding chaotic (or indiscrete) topological space.
\end{proof}





\section{Topological groups, rings, modules}
\label{section-topological-groups}

\noindent
This is just a short section with definitions and elementary properties.

\begin{definition}
\label{definition-topological-group}
A {\it topological group} is a group $G$ endowed with a topology
such that multiplication $G \times G \to G$, $(x, y) \mapsto xy$ and
inverse $G \to G$, $x \mapsto x^{-1}$ are continuous.
A {\it homomorphism of topological groups} is a homomorphism of groups
which is continuous.
\end{definition}

\noindent
If $G$ is a topological group and $H \subset G$ is a subgroup,
then $H$ with the induced topology is a topological group.
If $G$ is a topological group and $G \to H$ is a surjection of
groups, then $H$ endowed with the quotient topology is a topological
group.

\begin{example}
\label{example-automorphisms-of-a-set}
Let $E$ be a set. We can endow the set of self maps $\text{Map}(E, E)$
with the compact open topology, i.e., the topology such that given
$f : E \to E$ a fundamental system of neighbourhoods of $f$ is given
by the sets $U_S(f) = \{f' : E \to E \mid f'|_S = f|_S\}$ where
$S \subset E$ is finite. With this topology the action
$$
\text{Map}(E, E) \times E \longrightarrow E,\quad
(f, e) \longmapsto f(e)
$$
is continuous when $E$ is given the discrete topology. If $X$
is a topological space and $X \times E \to E$ is a continuous map,
then the map $X \to \text{Map}(E, E)$ is continuous. In other
words, the compact open topology is the coarsest topology
such that the ``action'' map displayed above is continuous. The composition
$$
\text{Map}(E, E) \times \text{Map}(E, E) \to \text{Map}(E, E)
$$
is continuous as well (as is easily verified using the description
of neighbourhoods above). Finally, if $\text{Aut}(E) \subset \text{Map}(E, E)$
is the subset of invertible maps, then the inverse
$i : \text{Aut}(E) \to \text{Aut}(E)$, $f \mapsto f^{-1}$ is
continuous too. Namely, say $S \subset E$ is finite, then
$i^{-1}(U_S(f^{-1})) = U_{f^{-1}(S)}(f)$. Hence
$\text{Aut}(E)$ is a topological group as in
Definition \ref{definition-topological-group}.
\end{example}

\begin{lemma}
\label{lemma-topological-group-limits}
The category of topological groups has limits and limits commute
with the forgetful functors to (a) the category of topological spaces and
(b) the category of groups.
\end{lemma}

\begin{proof}
It is enough to prove the existence and commutation for products and
equalizers, see
Categories, Lemma \ref{categories-lemma-limits-products-equalizers}.
Let $G_i$, $i \in I$ be a collection of topological groups.
Take the usual product $G = \prod G_i$ with the product topology.
Since $G \times G = \prod (G_i \times G_i)$ as a topological space
(because products commutes with products in any category), we
see that multiplication on $G$ is continuous. Similarly for
the inverse map. Let $a, b : G \to H$ be two homomorphisms of
topological groups. Then as the equalizer we can simply take
the equalizer of $a$ and $b$ as maps of topological spaces,
which is the same thing as the equalizer as maps of groups
endowed with the induced topology.
\end{proof}

\begin{lemma}
\label{lemma-profinite-group}
Let $G$ be a topological group. The following are equivalent
\begin{enumerate}
\item $G$ as a topological space is profinite,
\item $G$ is a limit of a diagram of finite discrete topological groups,
\item $G$ is a cofiltered limit of finite discrete topological groups.
\end{enumerate}
\end{lemma}

\begin{proof}
We have the corresponding result for topological spaces, see
Lemma \ref{lemma-profinite}. Combined with
Lemma \ref{lemma-topological-group-limits}
we see that it suffices to prove that (1) implies (3).

\medskip\noindent
We first prove that every neighbourhood $E$ of the neutral element $e$ contains
an open subgroup. Namely, since $G$ is the cofiltered limit of finite
discrete topological spaces (Lemma \ref{lemma-profinite}),
we can choose a continuous map $f : G \to T$ to a finite discrete
space $T$ such that $f^{-1}(f(\{e\})) \subset E$.
Consider
$$
H = \{g \in G \mid f(gg') = f(g')\text{ for all }g' \in G\}
$$
This is a subgroup of $G$ and contained in $E$. Thus it suffices to
show that $H$ is open. Pick $t \in T$ and set $W = f^{-1}(\{t\})$.
Observe that $W \subset G$ is open and closed, in particular quasi-compact.
For each $w \in W$ there exist open neighbourhoods $e \in U_w \subset G$
and $w \in U'_w \subset W$ such that $U_wU'_w \subset W$.
By quasi-compactness we can find $w_1, \ldots, w_n$ such that
$W = \bigcup U'_{w_i}$. Then
$U_t = U_{w_1} \cap \ldots \cap U_{w_n}$ is an open neighbourhood
of $e$ such that $f(gw) = t$ for all $w \in W$.
Since $T$ is finite we see that $\bigcap_{t \in T} U_t \subset H$
is an open neighbourhood of $e$. Since $H \subset G$ is a subgroup
it follows that $H$ is open.

\medskip\noindent
Suppose that $H \subset G$ is an open subgroup. Since $G$ is quasi-compact
we see that the index of $H$ in $G$ is finite. Say
$G = Hg_1 \cup \ldots \cup Hg_n$. Then
$N = \bigcap_{i = 1, \ldots, n} g_iHg_i^{-1}$ is
an open normal subgroup contained in $H$. Since $N$ also has finite
index we see that $G \to G/N$ is a surjection to a finite discrete
topological group.

\medskip\noindent
Consider the map
$$
G \longrightarrow \lim_{N \subset G\text{ open and normal}} G/N
$$
We claim that this map is an isomorphism of topological groups.
This finishes the proof of the lemma as the limit on the right
is cofiltered (the intersection of two open normal subgroups is
open and normal). The map is continuous as each $G \to G/N$ is continuous.
The map is injective as $G$ is Hausdorff and every neighbourhood
of $e$ contains an $N$ by the arguments above.
The map is surjective by
Lemma \ref{lemma-intersection-closed-in-quasi-compact}.
By Lemma \ref{lemma-bijective-map} the map is a homeomorphism.
\end{proof}

\begin{definition}
\label{definition-profinite-group}
A topological group is called a {\it profinite group} if it satisfies
the equivalent conditions of Lemma \ref{lemma-profinite-group}.
\end{definition}

\noindent
If $G_1 \to G_2 \to G_3 \to \ldots$ is a system of topological groups
then the colimit $G = \colim G_n$ as a topological group
(Lemma \ref{lemma-topological-group-colimits}) is in general different
from the colimit as a topological space (Lemma \ref{lemma-colimits})
even though these have the same underlying set. See
Examples, Section \ref{examples-section-colimit-topology}.

\begin{lemma}
\label{lemma-topological-group-colimits}
The category of topological groups has colimits and colimits commute
with the forgetful functor to the category of groups.
\end{lemma}

\begin{proof}
We will use the argument of
Categories, Remark \ref{categories-remark-how-to-use-it} to prove
existence of colimits. Namely, suppose
that $\mathcal{I} \to \textit{Top}$, $i \mapsto G_i$ is a functor
into the category $\textit{TopGroup}$ of topological groups.
Then we can consider
$$
F : \textit{TopGroup} \longrightarrow \textit{Sets},\quad
H \longmapsto \lim_\mathcal{I} \Mor_{\textit{TopGroup}}(G_i, H)
$$
This functor commutes with limits. Moreover, given any topological group
$H$ and an element $(\varphi_i : G_i \to H)$ of $F(H)$, there is
a subgroup $H' \subset H$ of cardinality at most $|\coprod G_i|$
(coproduct in the category of groups, i.e., the free product on the $G_i$)
such that the morphisms $\varphi_i$ map into $H'$. Namely, we can
take the induced topology on the subgroup generated by the images
of the $\varphi_i$. Thus it is clear that the hypotheses of
Categories, Lemma \ref{categories-lemma-a-version-of-brown}
are satisfied and we find a topological group $G$
representing the functor $F$, which precisely means that $G$ is
the colimit of the diagram $i \mapsto G_i$.

\medskip\noindent
To see the statement on commutation with the forgetful functor to
groups we will use
Categories, Lemma \ref{categories-lemma-adjoint-exact}.
Indeed, the forgetful functor has a right adjoint, namely the functor which
assigns to a group the corresponding chaotic (or indiscrete) topological group.
\end{proof}

\begin{definition}
\label{definition-topological-ring}
A {\it topological ring} is a ring $R$ endowed with a topology
such that addition $R \times R \to R$, $(x, y) \mapsto x + y$ and
multiplication $R \times R \to R$, $(x, y) \mapsto xy$ are continuous.
A {\it homomorphism of topological rings} is a homomorphism of rings
which is continuous.
\end{definition}

\noindent
In the Stacks project rings are commutative with $1$. If $R$
is a topological ring, then $(R, +)$ is a topological group
since $x \mapsto -x$ is continuous.
If $R$ is a topological ring and $R' \subset R$ is a subring,
then $R'$ with the induced topology is a topological ring.
If $R$ is a topological ring and $R \to R'$ is a surjection of
rings, then $R'$ endowed with the quotient topology is a topological
ring.

\begin{lemma}
\label{lemma-topological-ring-limits}
The category of topological rings has limits and limits commute
with the forgetful functors to (a) the category of topological spaces and
(b) the category of rings.
\end{lemma}

\begin{proof}
It is enough to prove the existence and commutation for products and
equalizers, see
Categories, Lemma \ref{categories-lemma-limits-products-equalizers}.
Let $R_i$, $i \in I$ be a collection of topological rings.
Take the usual product $R = \prod R_i$ with the product topology.
Since $R \times R = \prod (R_i \times R_i)$ as a topological space
(because products commutes with products in any category), we
see that addition and multiplication on $R$ are continuous. Let
$a, b : R \to R'$ be two homomorphisms of topological rings.
Then as the equalizer we can simply take the equalizer of $a$ and $b$
as maps of topological spaces, which is the same thing as the equalizer
as maps of rings endowed with the induced topology.
\end{proof}

\begin{lemma}
\label{lemma-topological-ring-colimits}
The category of topological rings has colimits and colimits commute
with the forgetful functor to the category of rings.
\end{lemma}

\begin{proof}
The exact same argument as used in the proof of
Lemma \ref{lemma-topological-group-colimits} shows existence of colimits.
To see the statement on commutation with the forgetful functor to
rings we will use Categories, Lemma \ref{categories-lemma-adjoint-exact}.
Indeed, the forgetful functor has a right adjoint, namely the functor which
assigns to a ring the corresponding chaotic (or indiscrete) topological ring.
\end{proof}

\begin{definition}
\label{definition-topological-module}
Let $R$ be a topological ring. A {\it topological module} is an $R$-module
$M$ endowed with a topology such that addition $M \times M \to M$ and
scalar multiplication $R \times M \to M$ are continuous.
A {\it homomorphism of topological modules} is a homomorphism of
modules which is continuous.
\end{definition}

\noindent
If $R$ is a topological ring and $M$ is a topological module, then
$(M, +)$ is a topological group since $x \mapsto -x$ is continuous.
If $R$ is a topological ring, $M$ is a topological module and
$M' \subset M$ is a submodule, then $M'$ with the induced topology
is a topological module. If $R$ is a topological ring, $M$
is a topological module, and $M \to M'$ is a surjection of
modules, then $M'$ endowed with the quotient topology is a topological
module.

\begin{lemma}
\label{lemma-topological-module-limits}
Let $R$ be a topological ring. The category of topological modules over $R$
has limits and limits commute with the forgetful functors to
(a) the category of topological spaces and
(b) the category of $R$-modules.
\end{lemma}

\begin{proof}
It is enough to prove the existence and commutation for products and
equalizers, see
Categories, Lemma \ref{categories-lemma-limits-products-equalizers}.
Let $M_i$, $i \in I$ be a collection of topological modules over $R$.
Take the usual product $M = \prod M_i$ with the product topology.
Since $M \times M = \prod (M_i \times M_i)$ as a topological space
(because products commutes with products in any category), we
see that addition on $M$ is continuous. Similarly for multiplication
$R \times M \to M$.
Let $a, b : M \to M'$ be two homomorphisms of topological modules over $R$.
Then as the equalizer we can simply take the equalizer of $a$ and $b$
as maps of topological spaces, which is the same thing as the equalizer
as maps of modules endowed with the induced topology.
\end{proof}

\begin{lemma}
\label{lemma-topological-module-colimits}
Let $R$ be a topological ring. The category of topological modules over $R$
has colimits and colimits commute with the forgetful functor to the category
of modules over $R$.
\end{lemma}

\begin{proof}
The exact same argument as used in the proof of
Lemma \ref{lemma-topological-group-colimits} shows existence of colimits.
To see the statement on commutation with the forgetful functor to
$R$-modules we will use Categories, Lemma \ref{categories-lemma-adjoint-exact}.
Indeed, the forgetful functor has a right adjoint, namely the functor which
assigns to a module the corresponding chaotic (or indiscrete) topological
module.
\end{proof}





\input{chapters}

\bibliography{my}
\bibliographystyle{amsalpha}

\end{document}
